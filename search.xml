<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ10ï¼‰- vueé¢è¯•æŒ‡å—]]></title>
    <url>%2F2020%2F02%2F24%2Fvue-10%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ10ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueçš„é¢è¯•æ±‡æ€»ï¼Œåé¢ä¹Ÿä¼šæŒç»­è¡¥å……â€¦éƒ½æ˜¯ä¸€äº›åŸºç¡€çš„æ¦‚å¿µ,åªè®°å½•è‡ªå·±æ„Ÿè§‰é‡è¦çš„ ç»„ä»¶é€šä¿¡ç›¸å…³1ï¼‰ç»„ä»¶é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿç»„ä»¶é€šä¿¡çš„å…­ç§æ–¹å¼ 2ï¼‰å­ç»„ä»¶ä¸ºä»€ä¹ˆä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„Propï¼Ÿ Vueæå€¡å•å‘æ•°æ®æµ,å³çˆ¶çº§ props çš„æ›´æ–°ä¼šæµå‘å­ç»„ä»¶,ä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æ„å¤–çš„æ”¹å˜çˆ¶ç»„ä»¶çŠ¶æ€ï¼Œä½¿å¾—åº”ç”¨çš„æ•°æ®æµå˜å¾—éš¾ä»¥ç†è§£ã€‚å¦‚æœç ´åäº†å•å‘æ•°æ®æµï¼Œå½“åº”ç”¨å¤æ‚æ—¶ï¼Œdebug çš„æˆæœ¬ä¼šéå¸¸é«˜ 3ï¼‰v-modelæ˜¯å¦‚ä½•å®ç°åŒå‘ç»‘å®šçš„ï¼Ÿ ä»–çš„æœ¬è´¨æ˜¯ v-bind å’Œ v-on çš„è¯­æ³•ç³–ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸Šä½¿ç”¨ v-modelï¼Œé»˜è®¤ä¼šä¸ºç»„ä»¶ç»‘å®šåä¸º value çš„ prop å’Œåä¸º input çš„äº‹ä»¶ å‘¨æœŸå‡½æ•°ç›¸å…³1ï¼‰vueç»„ä»¶æœ‰å“ªäº›å£°æ˜å‘¨æœŸé’©å­ï¼Ÿ beforeCreateã€ createdã€ beforeMountã€ mountedã€ beforeUpdateã€ updatedã€ beforeDestroyã€ destroyedã€‚ æœ‰è‡ªå·±ç‹¬ç«‹çš„é’©å­å‡½æ•°ï¼š activated deactivatedã€‚ 2ï¼‰Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ æ¸²æŸ“è¿‡ç¨‹ï¼šçˆ¶ç»„ä»¶æŒ‚è½½å®Œæˆä¸€å®šæ˜¯ç­‰å­ç»„ä»¶éƒ½æŒ‚è½½å®Œæˆåï¼Œæ‰ç®—æ˜¯çˆ¶ç»„ä»¶æŒ‚è½½å®Œï¼Œæ‰€ä»¥çˆ¶ç»„ä»¶çš„mountedåœ¨å­ç»„ä»¶mountedä¹‹å çˆ¶beforeCreate -&gt; çˆ¶created -&gt; çˆ¶beforeMount -&gt; å­beforeCreate -&gt; å­created -&gt; å­beforeMount -&gt; å­mounted -&gt; çˆ¶mounted å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š å½±å“åˆ°çˆ¶ç»„ä»¶ï¼šçˆ¶beforeUpdate -&gt; å­beforeUpdate-&gt;å­updated -&gt; çˆ¶updtedä¸å½±å“çˆ¶ç»„ä»¶ï¼šå­beforeUpdate -&gt; å­updated çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š å½±å“åˆ°å­ç»„ä»¶ï¼šçˆ¶beforeUpdate -&gt; å­beforeUpdate-&gt;å­updated -&gt; çˆ¶updtedä¸å½±å“å­ç»„ä»¶ï¼šçˆ¶beforeUpdate -&gt; çˆ¶updated é”€æ¯è¿‡ç¨‹ï¼šçˆ¶beforeDestroy -&gt; å­beforeDestroy -&gt; å­destroyed -&gt; çˆ¶destroyed çœ‹èµ·æ¥å¾ˆå¤šå¥½åƒå¾ˆéš¾è®°å¿†ï¼Œå…¶å®åªè¦ç†è§£äº†ï¼Œä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œéƒ½ä¸€å®šæ˜¯çˆ¶ç»„ä»¶ç­‰å¾…å­ç»„ä»¶å®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œè‡ªå·±å¯¹åº”å®Œæˆçš„é’©å­ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“è®°ä½ã€‚ é…ç½®å±æ€§ç›¸å…³1ï¼‰v-show å’Œ v-if æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ v-if ä¼šåœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­å¯¹æ¡ä»¶å—çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶è¿›è¡Œé”€æ¯å’Œé‡å»ºï¼Œå¦‚æœåˆå§‹æ¡ä»¶æ˜¯falseï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸åšï¼Œç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡ä¸ºtrueæ—¶æ‰å¼€å§‹æ¸²æŸ“æ¨¡å—ã€‚v-show åªæ˜¯åŸºäºcssè¿›è¡Œåˆ‡æ¢ï¼Œä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¼šæ¸²æŸ“ã€‚ v-if åˆ‡æ¢çš„å¼€é”€æ›´å¤§ï¼Œè€Œ v-show åˆå§‹åŒ–æ¸²æŸ“å¼€é”€æ›´å¤§ï¼Œåœ¨éœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œæˆ–è€…åˆ‡æ¢çš„éƒ¨åˆ†domå¾ˆå¤æ‚æ—¶ï¼Œä½¿ç”¨ v-show æ›´åˆé€‚ã€‚æ¸²æŸ“åå¾ˆå°‘åˆ‡æ¢çš„åˆ™ä½¿ç”¨ v-if æ›´åˆé€‚ã€‚ 2ï¼‰computed ï¼Œwatchï¼Œmethods æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ computed è®¡ç®—å±æ€§ï¼Œæ˜¯ä¾èµ–å…¶ä»–å±æ€§çš„è®¡ç®—å€¼ï¼Œå¹¶ä¸”æœ‰ç¼“å­˜ï¼Œåªæœ‰å½“ä¾èµ–çš„å€¼å˜åŒ–æ—¶æ‰ä¼šæ›´æ–°ï¼Œé€‚åˆå¤šä¸ªå±æ€§å˜åŒ–çš„æ£€æµ‹ã€‚ watch æ˜¯åœ¨ç›‘å¬çš„å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåœ¨å›è°ƒä¸­æ‰§è¡Œä¸€äº›é€»è¾‘ã€‚é€‚åˆç›‘å¬å•ä¸ªå±æ€§çš„å˜åŒ–ï¼Œå½“ç„¶å¯ä»¥æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ methodsæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œç›¸åº”çš„æ–¹æ³•,æ²¡æœ‰ç¼“å­˜ã€‚ 3ï¼‰keep-alive çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ å¯ä»¥åœ¨ç»„ä»¶åˆ‡æ¢æ—¶ï¼Œä¿å­˜å…¶åŒ…è£¹çš„ç»„ä»¶çš„çŠ¶æ€ï¼Œä½¿å…¶ä¸è¢«é”€æ¯ï¼Œé˜²æ­¢å¤šæ¬¡æ¸²æŸ“ã€‚å…¶æ‹¥æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° actived å’Œ deactivedï¼Œä½¿ç”¨ keep-alive åŒ…è£¹çš„ç»„ä»¶åœ¨åˆ‡æ¢æ—¶ä¸ä¼šè¢«é”€æ¯ï¼Œè€Œæ˜¯ç¼“å­˜åˆ°å†…å­˜ä¸­å¹¶æ‰§è¡Œ deactived é’©å­å‡½æ•°ï¼Œå‘½ä¸­ç¼“å­˜æ¸²æŸ“åä¼šæ‰§è¡Œ actived é’©å­å‡½æ•° 4ï¼‰Vue ä¸­ v-html ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„ HTMLï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ XSS æ”»å‡»ã€‚æ‰€ä»¥åªèƒ½åœ¨å¯ä¿¡å†…å®¹ä¸Šä½¿ç”¨ v-htmlï¼Œä¸”æ°¸è¿œä¸èƒ½ç”¨äºç”¨æˆ·æäº¤çš„å†…å®¹ä¸Š 5ï¼‰v-for ä¸­ key çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ key æ˜¯ç»™æ¯ä¸ª vnode æŒ‡å®šçš„å”¯ä¸€ idï¼Œåœ¨åŒçº§çš„ vnode diff è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ ¹æ® key å¿«é€Ÿçš„å¯¹æ¯”ï¼Œæ¥åˆ¤æ–­æ˜¯å¦ä¸ºç›¸åŒèŠ‚ç‚¹ï¼Œå¹¶ä¸”åˆ©ç”¨ key çš„å”¯ä¸€æ€§å¯ä»¥ç”Ÿæˆ map æ¥æ›´å¿«çš„è·å–ç›¸åº”çš„èŠ‚ç‚¹ã€‚å¦å¤–æŒ‡å®š key åï¼Œå°±ä¸å†é‡‡ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥äº†ï¼Œå¯ä»¥ä¿è¯æ¸²æŸ“çš„å‡†ç¡®æ€§ã€‚ 6) ä¸ºä»€ä¹ˆ v-for å’Œ v-if ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·? å½“ v-for å’Œ v-if å¤„äºåŒä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œv-for çš„ä¼˜å…ˆçº§æ¯” v-if æ›´é«˜ï¼Œè¿™æ„å‘³ç€ v-if å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª v-for å¾ªç¯ä¸­ã€‚å¦‚æœè¦éå†çš„æ•°ç»„å¾ˆå¤§ï¼Œè€ŒçœŸæ­£è¦å±•ç¤ºçš„æ•°æ®å¾ˆå°‘æ—¶ï¼Œè¿™å°†é€ æˆå¾ˆå¤§çš„æ€§èƒ½æµªè´¹ 7) ç»„ä»¶çš„ data ä¸ºä»€ä¹ˆè¦å†™æˆå‡½æ•°å½¢å¼? Vue çš„ç»„ä»¶éƒ½æ˜¯å¯å¤ç”¨çš„ï¼Œä¸€ä¸ªç»„ä»¶åˆ›å»ºå¥½åï¼Œå¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹å¤ç”¨ï¼Œè€Œä¸ç®¡å¤ç”¨å¤šå°‘æ¬¡ï¼Œç»„ä»¶å†…çš„ data éƒ½åº”è¯¥æ˜¯ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“çš„ï¼Œæ‰€ä»¥ç»„ä»¶æ¯å¤ç”¨ä¸€æ¬¡ï¼Œdata å°±åº”è¯¥å¤ç”¨ä¸€æ¬¡ï¼Œæ¯ä¸€å¤„å¤ç”¨ç»„ä»¶çš„ data æ”¹å˜åº”è¯¥å¯¹å…¶ä»–å¤ç”¨ç»„ä»¶çš„æ•°æ®ä¸å½±å“ã€‚ä¸ºäº†å®ç°è¿™æ ·çš„æ•ˆæœï¼Œdata å°±ä¸èƒ½æ˜¯å•çº¯çš„å¯¹è±¡ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªå‡½æ•°è¿”å›å€¼çš„å½¢å¼ï¼Œæ‰€ä»¥æ¯ä¸ªç»„ä»¶å®ä¾‹å¯ä»¥ç»´æŠ¤ç‹¬ç«‹çš„æ•°æ®æ‹·è´ï¼Œä¸ä¼šç›¸äº’å½±å“ è·¯ç”±ç›¸å…³é—®é¢˜Vue-router å¯¼èˆªå®ˆå«æœ‰å“ªäº›? å…¨å±€å‰ç½®/é’©å­ï¼šbeforeEachã€beforeResolveã€afterEach è·¯ç”±ç‹¬äº«çš„å®ˆå«ï¼šbeforeEnter ç»„ä»¶å†…çš„å®ˆå«ï¼šbeforeRouteEnterã€beforeRouteUpdateã€beforeRouteLeave å‚è€ƒé“¾æ¥èµ¤æœæœçš„å€Ÿé‰´ğŸ˜„ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¡¥å……]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ10ï¼‰- vueé¢è¯•æŒ‡å—</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ10ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windowså¸¸ç”¨å‘½ä»¤ vs linuxå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2019%2F12%2F30%2FwinBat%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æ€»æ˜¯åœ¨linuxç¯å¢ƒå’Œwinç¯å¢ƒä¹‹é—´åˆ‡æ¢å·¥ä½œï¼Œä¸€äº›å¸¸ç”¨çš„è„šæœ¬åœ¨è¿™ä¸¤ä¸ªç³»ç»Ÿä¸­ä¸å¤ªå…¼å®¹ï¼Œäºæ˜¯æœäº†ä¸€ä¸‹æœ‰æ²¡æœ‰å…¼å®¹çš„æ•´åˆæ–¹æ¡ˆï¼Œä¸‹é¢æ˜¯é€šè¿‡batè„šæœ¬çš„æ–¹å¼åœ¨winä¸‹å…¼å®¹linuxä¸€äº›ç®€å•çš„å‘½ä»¤ï¼Œåé¢ä¹Ÿå‡†å¤‡æŠŠwinçš„batè„šæœ¬ç›¸å…³çš„ä¸œè¥¿ï¼Œéšç€å·¥ä½œä¸­çš„ä½¿ç”¨ï¼Œé€æ­¥æ•´ç†åœ¨è¿™ä¸ªåˆ†ç±»ä¸‹â€¦ windowä¸‹åŸºæœ¬æ“ä½œ æ–°å»ºæ–‡ä»¶å¤¹ 1) window - mkdir xxxx æˆ–è€… md xxxx2) linux - mkdir xxxx è¿›å…¥æ–‡ä»¶å¤¹ 1) window - cd xxxx 2) linux - cd xxxx æ–°å»ºæ–‡ä»¶ 1) window - type nul&gt; xxx æˆ–è€… echo &gt; xxx 2) linux - touch xxxx ç¼–è¾‘æ–‡ä»¶ 1) window - echo xxcontentxxx &gt; xxx ï¼ˆè¿½åŠ ï¼‰/ echo xxcontentxxx &gt;&gt; xxx (ç´¯åŠ ) 2) linux - vi xxxx æŸ¥çœ‹æ–‡ä»¶ 1) window - type xxxx 2) linux - cat xxxx åˆ é™¤æ–‡ä»¶ 1) window - del xxxx2) linux - rm xxxx åˆ é™¤æ–‡ä»¶å¤¹ 1) window - rd xxxx2) linux - rm -rf xxxx æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¿¡æ¯ 1) window - dir2) linux - ls ä½¿ç”¨batä½¿å¾—windowå…¼å®¹linuxçš„å‘½ä»¤ ä¾‹å¦‚æƒ³è¦åœ¨windowä¸‹é€šè¿‡ä½¿ç”¨lsæŸ¥çœ‹æ–‡ä»¶å¤¹çš„ä¿¡æ¯(ç±»ä¼¼dirçš„åŠŸèƒ½) 1234567é—®é¢˜ï¼š&apos;ls&apos; ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶ï¼Ÿï¼Ÿ1.åœ¨Cï¼š\windows ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ å‘½åä¸º ls.bat 2.ä½¿ç”¨sublimeï¼ˆå…¶ä»–ç¼–è¾‘å™¨ä¹Ÿå¯ï¼‰æ‰“å¼€ ls.bat ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ è¾“å…¥ï¼š @echo off dir ç°åœ¨åœ¨windowçš„cmdä¸­æ•²å…¥lså®é™…ä¸Šæ‰§è¡Œls.batè„šæœ¬ä¸­dirå‘½ä»¤â€¦ Windowsä¸‹ä½¿ç”¨curl getä¼ é€’å¤šä¸ªå‚æ•° http://localhost:8080/Api/system/login?username=admin&amp;password=000000&amp;userType=1 åªèƒ½è§£æåˆ°usernameå‚æ•°ï¼Œå…¶ä»–å‚æ•°è§£æä¸åˆ°è§£å†³åŠæ³• - åŸå› å‡ºåœ¨è¿™ä¸ª&amp;ç¬¦å·ä¸Šï¼Œ&amp;åé¢çš„å‚æ•°ä¼šè·å–ä¸åˆ°ï¼Œæ­£ç¡®çš„ä¼ å‚æ ¼å¼åº”è¯¥æ˜¯ï¼šå°†urlç”¨â€â€œæ‹¬èµ·æ¥ curl &quot;http://localhost:8080/Api/system/login?username=admin&amp;password=000000&amp;userType=1&quot;]]></content>
      <tags>
        <tag>bat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é…ç½®mac]]></title>
    <url>%2F2019%2F12%2F30%2FseMac%2F</url>
    <content type="text"><![CDATA[å‚è€ƒæ–‡çŒ®mac ä½¿ç”¨codeå‘½ä»¤æ‰“å¼€VSCode]]></content>
      <categories>
        <category>macOs</category>
      </categories>
      <tags>
        <tag>macOs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo+gitlab/coding æ­å»ºä¸ªäººblog]]></title>
    <url>%2F2019%2F12%2F27%2Fhexo%2F</url>
    <content type="text"><![CDATA[åŸºäºhexoæ­å»ºç§äººçš„blog æœ€è¿‘åœ¨é¡¹ç›®ç»„å†…ä½¿ç”¨hexoå’Œgitlab/codingå¸®åŠ©å°ç»„å†…éƒ¨æ­å»ºäº†ä¸€ä¸ªâ€œç»„å†…å­¦ä¹ blogâ€ï¼Œä¸€æ–¹é¢å¸®åŠ©å¤§å®¶æŠŠæ¯å‘¨åˆ†äº«çš„æŠ€æœ¯èµ„æ–™ç®¡ç†èµ·æ¥ï¼Œä¸€æ–¹é¢é€šè¿‡hexoæ­å»ºçš„é™æ€ç½‘ç«™ä¹Ÿæ–¹ä¾¿æŸ¥çœ‹å’Œå›é¡¾ï¼Œä¸‹é¢å‡†å¤‡å°†æ•´ä¸ªæ­å»ºè¿‡ç¨‹è®°å½•ä¸‹æ¥. æ­¥éª¤1:å…¨å±€å®‰è£…hexohexoæ˜¯ä¸€ä¸ªè½»é‡çº§çš„åšå®¢æ¡†æ¶ï¼Œå®ƒæ˜¯ç»™äºˆmarkdownçš„ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªé™æ€ç½‘ç«™ 12npm install hexo -g // å›½å†…æ¨èä½¿ç”¨taobaoçš„é•œåƒä»“åº“ï¼Œcnpm install hexo -ghexo -v // æŸ¥çœ‹hexoæ˜¯å¦å®‰è£…æˆåŠŸ æ­¥éª¤2:å»ºç«‹blogæ–‡ä»¶å¤¹ï¼Œå¿«é€Ÿåˆå§‹åŒ–é¡¹ç›®123mkdir blogName // åœ¨å‡†å¤‡åˆ›å»ºé¡¹ç›®çš„ç›®å½•ä¸‹é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹blogNamecd blogName // è¿›å…¥blogNamehexo init // ä½¿ç”¨hexoå¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ªåŸºæœ¬çš„blogç³»ç»Ÿ æ­¥éª¤3:æœ¬åœ°è¿è¡Œblog1hexo server // hexo s ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°http://localhost:4000æ‹‰èµ·æ•´ä¸ªblog æ­¥éª¤4:blogçš„åŸºæœ¬é…ç½®ä¸»é¢˜é£æ ¼ hexoé»˜è®¤æ˜¯ä½¿ç”¨landscapeä¸»é¢˜ï¼Œå¦‚æœéœ€è¦å…¶ä»–ä¸»é¢˜ï¼Œä¾‹å¦‚Next,yiliaéƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸»é¢˜,åœ¨hexoé¡¹ç›®çš„æ ¹è·¯å¾„ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ä»githubä¸‹è½½ç›¸åº”çš„ä¸»é¢˜åŒ… 123git clone https://github.com/iissnan/hexo-theme-next themes/next // ä»githubä¸‹è½½Nextä¸»é¢˜git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia // ä»githubä¸Šä¸‹è½½yiliaä¸»é¢˜ å¦‚æœæ˜¯å¤šäººåˆä½œçš„blogé¡¹ç›®æ¨èä½¿ç”¨git submodule add xxx.git çš„æ–¹å¼å°†ä¸»ä½“åŒ…å½“ä½œå­æ¨¡å—å¼•å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥cloneåœ¨hexoçš„å·¥ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªå…¨å±€é…ç½®çš„_config.ymlæ–‡ä»¶å’Œä¸»é¢˜çš„é…ç½®çš„_config.ymlæ–‡ä»¶ åœ¨ä¸»é¢˜é…ç½®ä¸­æ‰¾åˆ°themeï¼Œå¯ä»¥é€‰æ‹©ä¸»é¢˜é£æ ¼,123456789# theme: landscapetheme: next #ä¸»é¢˜æ‹“å±•ï¼Œå¯ä»¥åœ¨ä¸»é¢˜å•†åº—é€‰æ‹©å…¶ä»–ä¸»é¢˜ï¼Œè¿™é‡Œä½¿ç”¨next # theme: yilia# Schemes # NexT ä¸»é¢˜æä¾›ä¸‰ç§å¸ƒå±€#scheme: Musescheme: Mist#scheme: Pisces#scheme: Gemini æ·»åŠ blogçš„èœå•æ åœ¨ä¸»é¢˜é…ç½®ä¸­æ‰¾åˆ°menu 123456menu: home: / || home about: /about/ || user tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive æ³¨æ„æ¯ä¸ªä¸»é¢˜é£æ ¼ä¸‹çš„menuå†™æ³•ç•¥æœ‰ä¸åŒï¼Œåœ¨Nextä¸»é¢˜ä¸‹ä¸Šï¼Œmenuä¸‹é¢çš„èœå•æ åˆ†åˆ«è¡¨ç¤ºèœå•æ–‡ä»¶çš„è·¯å¾„(ä¾‹å¦‚/tags))å’Œå›¾æ ‡(tags) é…ç½®å¥½menuçš„é…ç½®åéœ€è¦åˆ›å»ºç›¸å…³çš„æ–‡ä»¶ 1hexo new page xxx // ä¾‹å¦‚åˆ›å»ºtagsçš„menuï¼Œåˆ™æ˜¯hexo new page tags,åˆ™ä¼šåœ¨sourceè·¯å¾„ä¸‹åˆ›å»ºtagsæ–‡ä»¶å¤¹ ç»™mdæ–‡ä»¶å¼•å…¥imageå›¾ç‰‡åœ¨å…¨å±€é…ç½®_config.ymlæ–‡ä»¶ä¸­ä¿®æ”¹å¦‚ä¸‹å±æ€§ 1post_asset_folder: true #åˆ›å»ºåŒåçš„folderå¼•å…¥å›¾ç‰‡åˆ°mdæ–‡ä»¶ å®‰è£…hexo-asset-imageæ’ä»¶åœ¨mdæ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡ 1npm install hexo-asset-image --save å½“æ‰§è¡Œ hexo new xxx å‘½ä»¤çš„æ—¶å€™ï¼Œä¼šåœ¨sourceè·¯å¾„ä¸‹åˆ›å»ºxxx.mdæ–‡ä»¶å’ŒåŒåçš„xxxæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾imageç­‰é™„ä»¶ å¯¹blogè¿›è¡Œåˆ†ç±»ç®¡ç†ä¸€èˆ¬ä¸€ä¸ªmdæ–‡ä»¶çš„æ–‡ç« åªèƒ½æœ‰ä¸€ä¸ªcategoriesä½¿ç”¨ï¼š hexo new page categories æ–°å»ºä¸€ä¸ª æ ‡ç­¾ é¡µé¢ã€‚ å¯¹sourceï¼tags/index.mdå¢åŠ type:â€tagsâ€12345---title: tagsdate: 2018-10-14 17:27:15type: "tags"--- åœ¨sourceçš„xxx.mdæ–‡ä»¶ä¸­ 12345---title: æ ‡ç­¾æµ‹è¯•categories:- Testing ï¼ˆè¿™ä¸ªå°±æ˜¯æ–‡ç« çš„åˆ†ç±»äº†ï¼‰--- å¯¹blogè¿›è¡Œæ ‡ç­¾ç®¡ç†ä¸€èˆ¬ä¸€ä¸ªmdæ–‡ä»¶çš„æ–‡ç« å¯ä»¥youå¤šä¸ªtagsä½¿ç”¨ï¼š hexo new page tags æ–°å»ºä¸€ä¸ª æ ‡ç­¾ é¡µé¢ã€‚å¯¹sourceï¼categories/index.mdå¢åŠ type:â€categoriesâ€ 12345---title: tagsdate: 2018-10-14 17:27:15type: "tags"--- åœ¨sourceçš„xxx.mdæ–‡ä»¶ä¸­ 123456---title: æ ‡ç­¾æµ‹è¯•tags:- Testing ï¼ˆè¿™ä¸ªå°±æ˜¯æ–‡ç« çš„æ ‡ç­¾äº†ï¼‰- Another Tag ï¼ˆè¿™ä¸ªå°±æ˜¯æ–‡ç« çš„æ ‡ç­¾äº†ï¼‰--- å¯¹blogè¿›è¡Œå…¨å±€æœç´¢step1 :å®‰è£…æ’ä»¶ç›´æ¥åœ¨åšå®¢æ–‡ä»¶å¤¹ä¸‹è¿è¡Œå‘½ä»¤ 1npm install hexo-generator-searchdb --save step2:ä¿®æ”¹ç«™ç‚¹å…¨å±€é…ç½®æ–‡ä»¶_config.yml 12345searchï¼špath: search.xmlfield: postformat: htmllimit: 10000 step3:ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml 12local_search: enable: true æ³¨å†Œgitlabä»“åº“å’Œcodingä»“åº“åœ°å€ ä¸ºäº†è®©å›½å†…å’Œå›½å¤–çš„ç”¨æˆ·éƒ½å¯ä»¥è®¿é—®ä½ çš„blogï¼Œæ‰€ä»¥æœ€å¥½åŒæ­¥å‘å¸ƒåˆ°gitlabå’Œcodingï¼Œæé«˜ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ åˆ›å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“çš„åœ°å€ xxx.gité…ç½®git 123git config --global user.name &quot;Pis&quot; git config --global user.email &quot;email@xxx.com&quot;git config --list //æŸ¥çœ‹gité…ç½® sshç§é’¥æœ¬åœ°Gitä»“åº“å’Œä»£ç æ‰˜ç®¡è¿œç¨‹ä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ 123456 ssh-keygen -t rsa -C &quot;email@xxx.com&quot; ï¼ƒåˆ›å»ºSSH Key 1&gt;å¦‚æœåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹æœ‰.sshç›®å½•ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰id_rsaå’Œid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶2&gt;æ²¡æœ‰çš„è¯ï¼Œæ‰§è¡Œssh-keygen -t rsa -C &quot;email@example.com&quot;ï¼ŒæŒ‰ç…§å‘å¯¼å¡«å†™ä¿¡æ¯ã€‚3&gt;id_rsaæ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„æ¼å‡ºå»ï¼›id_rsa.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒçš„å‘Šè¯‰åˆ«äººã€‚4&gt;ç™»é™†è¿œç¨‹æ‰˜ç®¡ä»“åº“ï¼Œåœ¨settingsä¸­SSH_Keysé¡µé¢ç‚¹å‡»Add SSH Keyï¼Œå¡«ä¸Štitleåœ¨keyæ–‡æœ¬é‡Œé¢ç²˜è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹ã€‚ è¿œç¨‹ä»“åº“å’Œæœ¬åœ°blogé¡¹ç›®å»ºç«‹å…³ç³»12git remote add origin xxx.git //å°†æœ¬åœ°çš„blogé¡¹ç›®å’Œè¿œç¨‹çš„xxx.gitä»“åº“çš„masteråˆ†æ”¯å»ºç«‹å…³ç³»git remote -v // å¯ä»¥æŸ¥çœ‹æ˜¯å¦å»ºç«‹äº†å…³ç³» åœ¨å…¨å±€é…ç½®ä¸­æ‰¾åˆ°URLé…ç½®é¡¹ï¼Œé…ç½®hexoæœ€ç»ˆéƒ¨ç½²çš„åœ°å€å¦‚æœæœ¬åœ°æ ·å¼æ˜¾ç¤ºæ­£å¸¸ï¼Œdeployéƒ¨ç½²åˆ°è¿œç¨‹ç¯å¢ƒæ ·å¼å¼‚å¸¸ï¼Œä¸€èˆ¬éƒ½æ˜¯urlé…ç½®çš„ä¸å¯¹12345# URL## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'# ä¸€èˆ¬å¡«å†™è‡ªå·±çš„ç«™ç‚¹é“¾æ¥url: http://unclepis.coding.meroot: / 12345deploy: type: git repo: coding: codingè¿œç¨‹ä»“åº“åœ°å€,codingè¿œç¨‹ä»“åº“åˆ†æ”¯ gitlab: gitlabè¿œç¨‹ä»“åº“åœ°å€,gitlabè¿œç¨‹ä»“åº“åˆ†æ”¯ é…ç½®å¥½è¿™ä¸ªåæ‰§è¡Œ 1hexo d -g //å°±ä¼šå‘å¸ƒblogé¡¹ç›®åˆ°è¿œç¨‹çš„ä»£ç ä»“åº“ éƒ¨ç½²å®Œæˆä»¥åå°±å¯ä»¥é€šè¿‡codingæˆ–è€…gitlabçš„pagesæœåŠ¡ï¼Œé€šè¿‡urlè®¿é—®blogäº†å…¶ä»–é…ç½®hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™Hexoä¸ªäººåšå®¢SEOä¼˜åŒ–â€”â€”å¦‚ä½•è¢«ç™¾åº¦è°·æ­Œæ”¶å½•æ€ä¹ˆè¿›è¡Œç™¾åº¦éªŒè¯ï¼ˆhtmlæ ‡ç­¾éªŒè¯&amp;æ–‡ä»¶éªŒè¯ï¼‰hexoæ’ä»¶ï¼‰]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
        <category>hexo+gitlab/coding æ­å»ºä¸ªäººblog</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>gitlab</tag>
        <tag>coding</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[h5æ¢³ç†]]></title>
    <url>%2F2019%2F12%2F20%2Fapp%2F</url>
    <content type="text"><![CDATA[æ¢³ç†ä¸€ä¸‹å½“ä»Šappçš„å‘å±• ç­‰å¾…æ›´æ–°â€¦]]></content>
      <categories>
        <category>h5</category>
      </categories>
      <tags>
        <tag>web app</tag>
        <tag>hybird</tag>
        <tag>PWA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[devOps]]></title>
    <url>%2F2019%2F12%2F20%2FdevOps%2F</url>
    <content type="text"><![CDATA[æ¢³ç†ä¸€ä¸‹å½“ä»ŠdevOpsçš„å‘å±• ç­‰å¾…æ›´æ–°â€¦]]></content>
      <categories>
        <category>devOps</category>
      </categories>
      <tags>
        <tag>jekins</tag>
        <tag>docker</tag>
        <tag>è™šæ‹Ÿæœº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ2ï¼‰- window 10ä¸‹dockerå®‰è£…ubuntuå¹¶ä¸”é€šè¿‡sshè®¿é—®]]></title>
    <url>%2F2019%2F12%2F19%2Fdocker-ubuntu%2F</url>
    <content type="text"><![CDATA[åœ¨dockerä¸­å®‰è£…ubuntuï¼Œå¹¶é€šè¿‡sshé“¾æ¥dockerå®¹å™¨ä¸­çš„ubuntuâ€¦ å¦å¤–è¯´ä¸€ä¸‹ï¼Œdocker search ubuntuå¯ä»¥æœç´¢æ‰€æœ‰å…³äºubuntuçš„é•œåƒï¼Œæœ‰çš„ç¯å¢ƒä¸éœ€è¦è¿™æ ·ä»å¤´å¼€å§‹æ­å»ºâ€¦ ä¸ç†Ÿæ‚‰liuxåŸºç¡€çš„å¯ä»¥çœ‹ä¸€ä¸‹linux åŸºç¡€åŠå…¶æœåŠ¡å™¨nginxé™æ€èµ„æºéƒ¨ç½² çš„å‰åŠéƒ¨åˆ†ä»‹ç»â€¦ä¸ç†Ÿæ‚‰dockerçš„å¯ä»¥çœ‹ä¸€ä¸‹å®¹å™¨æŠ€æœ¯ã€dockerå…¥é—¨åŸºç¡€ã€‘ å‡†å¤‡å·¥ä½œ æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯cat /proc/version //Linux version 4.4.0-18362-Microsoft (Microsoft@Microsoft.com) (gcc version 5.4.0 (GCC) ) #476-Microsoft Fri Nov 01 16:53:00 PST 2019 æŸ¥çœ‹æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å·cat /etc/issue // Ubuntu 16.04.6 LTS \n \l æŸ¥çœ‹ubuntuæ“ä½œç³»ç»Ÿç‰ˆæœ¬ 123456uname --a //Linux DESKTOP-PIJLFO2 4.4.0-18362-Microsoft #476-Microsoft Fri Nov 01 16:53:00 PST 2019 x86_64 x86_64 x86_64 GNU/Linuxuname --s æ˜¾ç¤ºå†…æ ¸åå­—uname --r æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬uname --n æ˜¾ç¤ºç½‘ç»œä¸»æœºåuname --p æ˜¾ç¤ºcpu uname --m æ˜¾ç¤ºæ“ä½œç³»ç»Ÿä½æ•° æ›´æ–°apt-getæº 12apt-get update -yapt-get upgrade -y æ‹·è´æ–‡ä»¶cp sourcefile distfile ç¼–è¾‘æ–‡ä»¶cat &gt; sourcesfile &lt;&lt; EOFç¼–è¾‘çš„å†…å®¹EOF æ‰“å¼€æ–‡ä»¶å¹¶ç¼–è¾‘vim sourcefileæŒ‰i è¿›å…¥insertæ¨¡å¼æŒ‰escé€€å‡ºç¼–è¾‘æ¨¡å¼:wqé€€å‡º å¯åŠ¨sshæœåŠ¡(éœ€è¦apt-getå®‰è£…openssh-server)/etc/init.d/ssh start é‡å¯sshæœåŠ¡service ssh restart æŸ¥çœ‹sshæœåŠ¡è¿è¡ŒçŠ¶æ€/etc/init.d/ssh status æŸ¥çœ‹sshæœåŠ¡ç«¯å£ps -e | grep ssh ä¿®æ”¹rootå¯†ç passwd root æŸ¥çœ‹æœåŠ¡å™¨ip(éœ€è¦apt-getå®‰è£…net-tools)ifconfig ç¬¬ä¸€æ­¥ ä»dockerçš„é•œåƒä»“åº“è·å–ubuntuå¹¶å®‰è£… docker pull ubuntu // é»˜è®¤å®‰è£…latestç‰ˆæœ¬ å¦‚æœæç¤ºé”™è¯¯ no matching manifest for windows/amd64 10.0.18362 in the manifest list entries1234docker pull ubuntuUsing default tag: latestlatest: Pulling from library/ubuntuno matching manifest for windows/amd64 10.0.18362 in the manifest list entries ä¿®æ”¹dockeré…ç½® å†æ¬¡ä»é•œåƒä»“åº“è·å–ubuntué•œåƒdocker pull ubuntu ç¬¬äºŒæ­¥ è¿è¡Œdockerå®¹å™¨ æŸ¥çœ‹ä¸‹è½½ä¸‹æ¥çš„ubuntué•œåƒiddocker images 12REPOSITORY TAG IMAGE ID CREATED SIZEubuntu latest 549b9b86cb8d 21 hours ago 73.9MB docker run -d -it --name ubuntu-ssh 549b9b86cb8d -p 3316:22 bash åœ¨åå°è¿è¡Œubuntuçš„å®¹å™¨ï¼Œå¹¶ä¸”æŠŠå®¿ä¸»æœºçš„3316ç«¯å£å’Œå®¹å™¨çš„22ç«¯å£å»ºç«‹æ˜ å°„å…³ç³» æŸ¥çœ‹å®¹å™¨æ˜¯å¦è¿è¡ŒæˆåŠŸdocker ps 12CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESc8601064dab8 549b9b86cb8d "bash" 8 seconds ago Up 6 seconds 0.0.0.0:3316-&gt;22/tcp fervent_wilbur å¯ä»¥çœ‹åˆ°ç«¯å£æ˜ å°„å·²ç»å»ºç«‹å®Œæˆ ç¬¬ä¸‰æ­¥ è¿›å…¥å®¹å™¨å†…éƒ¨å®‰è£…ssh docker exec -it c8601064dab8 bash è¿›å…¥å®¹å™¨å†…éƒ¨ ç¬¬å››æ­¥ ä¿®æ”¹ubuntué»˜è®¤çš„apt-geté•œåƒæºæ›´æ¢ubuntu apt-get æº ä¸ºäº†ä¼˜åŒ–ubuntuè½¯ä»¶å®‰è£…/æ›´æ–°é€Ÿåº¦ï¼Œæˆ‘æµ‹è¯•äº†å›½å†…å‡ å®¶aptæºçš„é€Ÿåº¦ï¼Œå‘ç°åŒ—äº¬äº¤å¤§çš„aptæºé€Ÿåº¦ç›¸å¯¹æœ€å¿«ï¼Œç„¶åå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ›´æ–°ubuntuæº å¤‡ä»½é»˜è®¤çš„aptæºcd /etc/aptcp sources.list sources.list.bak ç¼–è¾‘sources.listcat &gt; sources.list &lt;&lt; EOF ç²˜è´´é•œåƒæºåœ°å€12345678910deb http://mirrors.aliyun.com/ubuntu/ trusty main multiverse restricted universedeb http://mirrors.aliyun.com/ubuntu/ trusty-backports main multiverse restricted universedeb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main multiverse restricted universedeb http://mirrors.aliyun.com/ubuntu/ trusty-security main multiverse restricted universedeb http://mirrors.aliyun.com/ubuntu/ trusty-updates main multiverse restricted universedeb-src http://mirrors.aliyun.com/ubuntu/ trusty main multiverse restricted universedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main multiverse restricted universedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main multiverse restricted universedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main multiverse restricted universedeb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main multiverse restricted universe æ‰§è¡Œend of file æ¨å‡ºç¼–è¾‘EOFæŸ¥çœ‹æ–‡ä»¶æ˜¯å¦ç¼–è¾‘æˆåŠŸcat sources.list æ›´æ–°aptapt-get update -y apt-getå®‰è£…sshå’Œnet-toolsè½¯ä»¶ â‘ ssh-clientå‘½ä»¤å®‰è£…sshå®¢æˆ·ç«¯ apt-get install openssh-client â‘¡ssh-serverå‘½ä»¤å®‰è£…sshçš„æœåŠ¡å™¨ç«¯ apt-get install openssh-server â‘¢å®‰è£…å®Œæˆåå¯åŠ¨æœåŠ¡ /etc/init.d/ssh status å¯ä»¥æŸ¥çœ‹sshçš„è¿è¡ŒçŠ¶æ€/etc/init.d/ssh startç„¶åè¿è¡Œ ps -e|grep ssh æŸ¥çœ‹sshçš„è¿è¡Œè¿›ç¨‹æ˜¯å¦æ­£å¸¸è¿è¡Œ â‘£vimç¼–è¾‘å™¨ apt-get install vimvim /etc/ssh/sshd_config è¿›å…¥åˆ°sshçš„é…ç½®æ–‡ä»¶ä¿®æ”¹PermitRootLogin yes 1234//vimçš„åŸºæœ¬æ“ä½œ1) ç‚¹å‡»iè¿›å…¥åˆ°insertçš„ç¼–è¾‘æ¨¡å¼ï¼Œå¼€å§‹ä¿®æ”¹æ–‡ä»¶2) ç¼–è¾‘å®Œæˆï¼Œç‚¹å‡»escæ¨å‡ºåˆ°insertçš„æ ‡è®°æ¨¡å¼3) :wqé€€å‡ºvim â‘¤é‡å¯sshæœåŠ¡ service ssh restart 1* Restarting OpenBSD Secure Shell server sshd [ OK ] â‘¥è®¾ç½®ubuntuç™»é™†çš„rootå¯†ç  passwd root 1234passwd rootEnter new UNIX password: root!@#$Retype new UNIX password:root!@#$passwd: password updated successfully â‘¦å®‰è£…net-toolså·¥å…·åŒ… apt-get install net-tools â‘§æŸ¥çœ‹dockerè¿è¡Œçš„ubuntuç³»ç»Ÿçš„ipåœ°å€ ifconfig â‘¨é€€å‡ºå®¹å™¨ ctrl + D ä¿å­˜ä¸€ä¸‹å®‰è£…å¥½ssh/vim/net-toolsçš„è¿™ä¸ªé•œåƒï¼ˆæ³¨æ„è¿™æ˜¯å°†å®¹å™¨containerè½¬åŒ–æˆé•œåƒimageï¼Œä¸‹æ¬¡å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé•œåƒæ„å»ºå®¹å™¨äº†ï¼‰ docker commit -m&quot;ubuntu with ssh and tools&quot; -a &quot;pis&quot; ubuntu-ssh/ é€šè¿‡xshellå·¥å…·è¿æ¥ æŸ¥çœ‹é•œåƒçš„22ç«¯å£å¯¹åº”çš„å®¿ä¸»æœºæ˜ å°„ docker port ubuntu-ssh 22 // 22ç«¯å£æ˜¯é»˜è®¤çš„sshé“¾æ¥çš„port 10.0.0.0:3316 åœ¨xshellé…ç½® 1234ä¸»æœºï¼šlocalhostç«¯å£ï¼š3316ç”¨æˆ·åï¼šrootå¯†ç ï¼šroot!@#$ å¦‚æœä¸€åˆ‡okçš„è¯å°±ä¼šç™»é™†æˆåŠŸ 12è¿æ¥æˆåŠŸLast login: Fri Dec 20 05:40:55 2019 ä½†æ˜¯æœ‰æ—¶å€™dockeré‡Œé¢sshçš„ç‰ˆæœ¬å’Œæœ¬åœ°çš„ç‰ˆæœ¬ä¸ä¸€æ · ä¼šæç¤ºä¸€äº›é”™è¯¯ä¿¡æ¯ï¼Œä¸‹é¢å°±æ˜¯æˆ‘é‡è§çš„ä¸€ç§é”™è¯¯ä¿¡æ¯ï¼šSession.connect: java.io.IOException: End of IO Stream Read å¤§æ¦‚æœäº†ä¸€ä¸‹å°±æ˜¯å› ä¸ºsshç‰ˆæœ¬ä¸ä¸€æ ·å¯¼è‡´æ— æ³•å»ºç«‹è¿æ¥ vim /etc/ssh/sshd.conf æ–‡ä»¶æœ€åé¢æ·»åŠ ç®—æ³•123KexAlgorithms diffie-hellman-group1-sha1,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group14-sha1Ciphers 3des-cbc,blowfish-cbc,aes128-cbc,aes128-ctr,aes256-ctr é‡æ–°å¯åŠ¨ssh service ssh restartå†æ¬¡xshellè¿æ¥å³å¯å¦‚æœè¿˜æ˜¯ä¸è¡Œã€‚æ¨èä½¿ç”¨docker hubä¸Šå·²ç»æœ‰äººå®‰è£…å¥½çš„ubuntu-sshé•œåƒdocker pull rastasheep/ubuntu-sshd // é»˜è®¤ä¸‹è½½latestç‰ˆæœ¬someone pushçš„dockerä¸­å·²ç»å®‰è£…å¥½sshçš„é•œåƒgithubåœ°å€ 12docker port test_sshd 220.0.0.0:49154 é»˜è®¤æš´æ¼çš„49154ç«¯å£ï¼Œrootå¯†ç ä¹Ÿæ˜¯rootï¼Œåœ¨xshellä¸­é…ç½®é…ç½®ä¸€ä¸‹å°±å¯ä»¥è®¿é—®äº†ã€‚ã€‚ã€‚åˆ«é—®äº†ä¸ºå•¥æœ€åæ‰å‘Šè¯‰ä½ æœ‰è¿™ä¸ªä¸œè¥¿â€¦ å‚è€ƒæ–‡çŒ®æ›´æ–°ubuntuçš„é•œåƒæºwindow 10ä¸‹dockerå®‰è£…ubuntuå¹¶ä¸”é€šè¿‡sshè®¿é—®]]></content>
      <categories>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—</category>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ2ï¼‰-  window 10ä¸‹dockerå®‰è£…ubuntuå¹¶ä¸”é€šè¿‡sshè®¿é—®</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>image</tag>
        <tag>container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ1ï¼‰- å®¹å™¨æŠ€æœ¯ã€dockerå…¥é—¨åŸºç¡€ã€‘]]></title>
    <url>%2F2019%2F12%2F12%2Fdocker%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ä¸€ç›´åœ¨æƒ³ç€ä¼˜åŒ–å›¢é˜Ÿçš„å¼€å‘æµç¨‹ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚å…¶å®ä¸€ç›´ä¹Ÿåœ¨å­¦ä¹ å’Œåœ¨å®é™…å·¥ä½œä¸­å®è·µå‰ç«¯å·¥ç¨‹åŒ–ï¼Œä»ä½¿ç”¨gitå’Œsvnè¿™ç§ç‰ˆæœ¬æ§åˆ¶å·¥å…·ç®¡ç†å¤šäººåä½œå¼€å‘çš„ä»£ç ï¼Œåˆ°ä½¿ç”¨npmç®¡ç†é¡¹ç›®ä¸­å„ä¸ªä¾èµ–åŒ…ï¼Œå†åˆ°webpackå¯¹å‰ç«¯å·¥ç¨‹çš„æ‰“åŒ…ï¼Œæœ€ååˆ°ä½¿ç”¨jekinså®ç°æ¯æ—¥æ„å»ºå’Œå‘ç‰ˆï¼Œå¤§éƒ¨åˆ†çš„å·¥ä½œå…¶å®ç°åœ¨è¿˜æ˜¯é€šè¿‡æ‰‹åŠ¨çš„æ–¹å¼åœ¨åšã€‚ç°åœ¨å·²ç»9021å¹´äº†ï¼Œè·ç¦»æˆ‘å¼€å§‹ä»äº‹è¿™ä»½å·¥ä½œä¹Ÿå·²ç»è¿‡å»äº†4å¹´å¤šçš„æ—¶é—´ï¼Œæƒ³ç€è®©è‡ªå·±åœ¨æé«˜ä¸€ä¸‹çš„æƒ³æ³•ï¼Œå¼€å§‹è¿™ä¸ªã€Šæ°´ç‰›ä¸‹æ°´ç³»åˆ—ã€‹å¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„ç³»ç»Ÿæ€»ç»“ï¼Œå¸Œæœ›åé¢å¯ä»¥ä¸€æ­¥ä¸€æ­¥å®ç°è‡ªå·±çš„æƒ³æ³•ã€‚ã€‚ã€‚ å…³äºè‡³äºä¸ºä»€ä¹ˆè¿™ä¸ªç³»åˆ—è¦å«ã€Šæ°´ç‰›ä¸‹æ°´ã€‹è¿™ä¸ªåå­—ï¼Œè€Œä¸Šä¸ªç³»åˆ—çš„nodejså­¦ä¹ å«åšã€Šå±±ç¾Šä¸Šå±±ã€‹ï¼Œå› ä¸ºå¾ˆå°çš„æ—¶å€™çˆ¶äº²æ•™æˆ‘çš„ä¸€å¥å¯¹è”ï¼Œç›´åˆ°ç°åœ¨éƒ½å¾ˆå–œæ¬¢-&lt;å±±ç¾Šä¸Šå±±å±±ç¢°å±±ç¾Šè§’&gt; &lt;æ°´ç‰›ä¸‹æ°´æ°´æ²¡(mo)æ°´ç‰›è…°&gt;â€¦ä¸ç†Ÿæ‚‰liuxåŸºç¡€çš„å¯ä»¥çœ‹ä¸€ä¸‹linux åŸºç¡€åŠå…¶æœåŠ¡å™¨nginxé™æ€èµ„æºéƒ¨ç½² çš„å‰åŠéƒ¨åˆ†ä»‹ç»â€¦ docker ç®€ä»‹ å®¹å™¨åŒ–å¹³å° å¼€æºå¹¶æ‰˜ç®¡åœ¨github è·¨å¹³å°ï¼Œæ”¯æŒwindowï¼ŒmacOså’ŒLinux dockeræ˜¯ä¸€ä¸ªç”¨æ¥è£…åº”ç”¨çš„å®¹å™¨ï¼Œå°±åƒæ¯å­å¯ä»¥è£…æ°´ï¼Œç¬”ç­’å¯ä»¥è£…ç¬”ï¼Œä¹¦åŒ…å¯ä»¥è£…ä¹¦ä¸€æ ·ã€‚ä½ å¯ä»¥æŠŠä»»ä½•åº”ç”¨ä»¥ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ”¾åˆ°dockeré‡Œé¢ï¼Œç„¶åé€šè¿‡dockerä»“åº“ï¼Œåœ¨ç›®çš„åœ°æœåŠ¡å™¨ä¸Šè½»é‡åŒ–éƒ¨ç½²ç§»æ¤â€¦ 1) Dockerçš„æ€æƒ³ é›†è£…ç®± ä¿è¯ç¨‹åºç§»æ¤çš„æ—¶å€™ï¼Œä¸ç®¡å®‰è£…åˆ°å“ªï¼Œä¸ä¼šå´å°‘ä¸œè¥¿. æ ‡å‡†åŒ– è¿è¾“æ–¹å¼æ ‡å‡†åŒ–å­˜å‚¨æ–¹å¼æ ‡å‡†åŒ–apiæ¥å£çš„æ ‡å‡†åŒ– éš”ç¦»ç±»ä¼¼è™šæ‹Ÿæœºï¼Œéš”ç¦»ç¡¬ä»¶èµ„æºï¼Œæ–¹ä¾¿åˆ›å»ºå’Œé”€æ¯ï¼Œæ¯”è™šæ‹Ÿæœºè½»é‡ 2) dockerè§£å†³çš„é—®é¢˜ å¤šç¯å¢ƒä¸€è‡´æ€§ =ã€‹dockerè§£å†³äº†è¿è¡Œç¯å¢ƒä¸ä¸€è‡´æ‰€å¯¼è‡´çš„é—®é¢˜. åŸºäºlinuxçš„namespaceå’Œcgroup=ã€‹ldockerçš„éš”ç¦»æ€§ä¿è¯äº†åº”ç”¨ä¹‹é—´èµ„æºä¸ä¼šç›¸äº’å½±å“ åº”ç”¨ç¨‹åºæ‰“åŒ…å·¥å…·=ã€‹è®©å¿«é€Ÿæ‰©å±•ï¼Œå¼¹æ€§ä¼¸ç¼©æä¾›æ ‡å‡†åŒ–çš„ç®€ä¾¿æ“ä½œ 3) dockeråŸºæœ¬æ¦‚å¿µä»ä»£ç ä»“åº“registryè¿è¾“(ship)é•œåƒimageï¼Œç„¶ååœ¨æœ¬åœ°æŠŠé•œåƒimageé€šè¿‡buildç”Ÿæˆå®¹å™¨container é•œåƒ(image) å®¹å™¨(container) ä»“åº“(registry) hub.docker.com å®˜æ–¹ä»“åº“ dockerè¿è¡Œåº”ç”¨çš„è¿‡ç¨‹ä»registryæŠŠimageæ‹‰åˆ°æœ¬åœ°æœ¬åœ°ï¼Œç”¨å‘½ä»¤å°†imageè¿è¡Œèµ·æ¥ï¼Œç”Ÿæˆcontainer 4) è™šæ‹Ÿæœºå’Œdockerçš„åŒºåˆ« è™šæ‹Ÿæœºåœ¨å®¿ä¸»æœºä¸Šæœ‰è™šæ‹Ÿå±‚æ¥è™šæ‹Ÿå‡ºç¡¬ä»¶ï¼Œåœ¨ç¡¬ä»¶ä¸Šå®‰è£…ç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿï¼Œåˆ†é…ç¡¬ä»¶èµ„æºç­‰ docker åœ¨dockerå¼•æ“ä¸Šéš”ç¦»å‡ºä¸åŒçš„è¿›ç¨‹ï¼Œåˆ†é…ä¸åŒçš„èµ„æºã€‚ 5) Mac/Linux/Window å®‰è£…docker macå®‰è£…docker docker.comå®˜ç½‘æ‰‹åŠ¨ä¸‹è½½dmgå®‰è£…åŒ…å®‰è£… é€šè¿‡homebrewå®‰è£…dockerbrew cask install dockerdocker infoæˆ–è€…docker --version å¯ä»¥éªŒè¯dockeræ˜¯å¦å®‰è£…æˆåŠŸ linuxå®‰è£…docker ä½¿ç”¨wgetä¸‹è½½å·¥å…·å®‰è£…sudo wget -qO- https://get.docker.com | sh ä½¿ç”¨sudoè¶…çº§ç®¡ç†å‘˜èº«ä»½è¿è¡Œwgetä¸‹è½½å·¥å…·ä»get.docker.comä¸‹è½½dockerï¼Œ-qå°±æ˜¯ç®€åŒ–è¾“å‡ºä¿¡æ¯ï¼Œå¤§å†™çš„Oå‡å· å°±æ˜¯æŠŠwgetçš„è¾“å‡ºä¸æ˜¯è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œè€Œæ˜¯shå‘½ä»¤è¡Œæ ‡å‡†è¾“å‡ºçš„æ–¹å¼ windowå®‰è£…docker docker.comå®˜ç½‘æ‰‹åŠ¨ä¸‹è½½isoå®‰è£…åŒ…å®‰è£… å®‰è£…æˆåŠŸä¾¯å¯ä»¥æŸ¥çœ‹dockerç‰ˆæœ¬ä¿¡æ¯ versionå¯ä»¥çœ‹åˆ°ç®€å•çš„ä¿¡æ¯ --versionå¯ä»¥çœ‹åˆ°clientå’Œserverçš„ä¿¡æ¯ docker infoå¯ä»¥çœ‹åˆ°è¯¦ç»†çš„ä¿¡æ¯ 6) dockerçš„ä½¿ç”¨ ç¬¬ä¸€æ­¥ï¼šä»é•œåƒä»“åº“è·å–é•œåƒ åœ¨é•œåƒä»“åº“https://hub.docker.comè·å–é•œåƒæº ç¬¬äºŒæ­¥ï¼šæ‹‰å»/æ¨é€é•œåƒ docker pull imageName:TAGä¾‹å¦‚ docker pull centos,é»˜è®¤å°±æ˜¯latestçš„æœ€æ–°ç‰ˆæœ¬ docker push xxxxå°±æ˜¯æ¨é€æœ¬åœ°çš„imageåˆ°registry ç¬¬ä¸‰æ­¥ï¼šå°†é•œåƒimageè½¬åŒ–ä¸ºå®¹å™¨container å› ä¸ºé•œåƒæ˜¯åªè¯»çš„(RO-read-only)ï¼Œè€Œå®¹å™¨æ˜¯å¯è¯»å†™çš„(RW-read-write)ï¼Œæ‰€ä»¥è¦æ‰§è¡Œdocker run xxxå°†imageè£…æ¢æˆcontainer å‰å°è¿è¡Œé•œåƒdocker run imageName åå°è¿è¡Œé•œåƒ-då‚æ•°docker run -d imagename å¯ä»¥çœ‹åˆ°å¯ä»¥ä½¿ç”¨docker imagesæŸ¥çœ‹æœ¬åœ°å·²ç»ä»ä»“åº“registryè·å–äº†å“ªäº›é•œåƒimage ä½¿ç”¨docker ps -aå¯ä»¥æŸ¥çœ‹å“ªäº›é•œåƒimageå·²ç»ç”Ÿæˆäº†å®¹å™¨container ä½¿ç”¨docker pså¯ä»¥æŸ¥çœ‹å“ªäº›é•œåƒimageå·²ç»ç”Ÿæˆäº†å®¹å™¨containerï¼Œå¹¶ä¸”åœ¨è¿è¡Œä¸­ ç¬¬å››æ­¥ï¼šè¿›å…¥å®¹å™¨å†…éƒ¨æ“ä½œ è¿›å…¥dockerå®¹å™¨å†…éƒ¨é€šè¿‡execæ‰§è¡Œå‘½ä»¤docker exec -it imageName bash ç¬¬äº”æ­¥ï¼šé€€å‡ºå®¹å™¨ exitæˆ–è€…ctrl + D ç¬¬å…­æ­¥ï¼šå°†å®¹å™¨è½¬åŒ–æˆé•œåƒ docker commit -m &quot;æ–°çš„imageæè¿°ä¿¡æ¯&quot; -a &quot;æŒ‡å®šç”¨æˆ·ä¿¡æ¯&quot; containerId ç”¨æˆ·ä¿¡æ¯/æ–°çš„imageåå­—ï¼štag ä¾‹å¦‚ docker commit -m&quot;centos with nginx install &quot; -a &quot;pis&quot; f2321sds032 pis/centos-nginx:v1 å¦‚æœè¦å‘å¸ƒè¿™ä¸ªé•œåƒåˆ°dockerä»“åº“ï¼Œæœ€å¥½åœ¨-aåé¢æŒ‡å®šçš„ç”¨æˆ·åä¸ºdocker hubçš„ç”¨æˆ·å.å¦‚æœä¸æŠŠè¿™ä¸ªå®¹å™¨æ‰“æˆæ–°çš„é•œåƒï¼Œé‚£ä¹ˆä¸‹æ¬¡é‡æ–°runçš„æ—¶å€™ç”Ÿæˆæ–°çš„containerè¿˜æ˜¯æ²¡æœ‰å®‰è£…å¥½çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡commitæ‰“æˆæ–°çš„imageï¼Œæœ‰ç‚¹åƒgitçš„commitå°±æ˜¯ä¸€æ¬¡è®°å½• è¿™æ ·ä¸‹æ¬¡é€šè¿‡docker run centosçš„æ—¶å€™è¿˜æ˜¯åŸºäºå®˜æ–¹ä»“åº“ä¸‹è½½åœ¨æœ¬åœ°çš„cenosçš„imageç”Ÿæˆcontainerï¼Œæ‰€ä»¥é‡Œé¢å®‰è£…çš„nginxä¸å­˜åœ¨; ä½†æ˜¯å¦‚æœé€šè¿‡docker run centos-nginxè¿™ä¸ªåŸºäºä¸Šæ¬¡å·²ç»å®‰è£…è¿‡nginxçš„containeridå®¹å™¨ç”Ÿæˆçš„é•œåƒimageï¼Œé‡æ–°runå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å®‰è£…å¥½nginxçš„container æˆ–è€…é€šè¿‡docker ps -aæŸ¥åˆ°ä¸Šæ¬¡å®‰è£…è¿‡nginxçš„containerIdï¼Œç„¶åé€šè¿‡docker start containerIdé‡æ–°æ‹‰èµ·è¿™ä¸ªå·²ç»å®‰è£…è¿‡nginxå¹¶ä¸”å­˜åœ¨çš„å®¹å™¨ï¼Œé‚£ä¹ˆé‡Œé¢çš„nginxè¿˜æ˜¯å­˜åœ¨ ç¬¬ä¸ƒæ­¥ï¼šå­˜å‚¨é•œåƒ docker images æŸ¥çœ‹æœ¬åœ°å…¨éƒ¨çš„é•œåƒimageï¼Œæ‰¾åˆ°è‡ªå·±æ ¹æ®containerç”Ÿæˆçš„é•œåƒï¼Œä¾‹å¦‚ï¼šunclepis/centos-nginx:v1 å»[hub dockerä»“åº“](https://hub.docker.com/)è¿›è¡Œæ³¨å†Œ docker login ç™»é™†ä»“åº“ docker push æ–°çš„é•œåƒåå­— ç”±äºå®˜æ–¹ä»“åº“å†å¢ƒå¤–ï¼Œå¯èƒ½æ¨é€çš„æ—¶å€™æŠ¥é”™TLS handshake timeoutè¶…æ—¶ åˆ«äººä½¿ç”¨çš„æ—¶å€™ç›´æ¥docker pull xxxx å°±æŠŠè¿™ä¸ªé•œåƒæ‹‰åˆ°äº†æœ¬åœ° è¿™ä¹ˆä¸€ä¸ªä»registry=&gt;image=&gt;containerçš„è¿‡ç¨‹çº¯æ‰‹åŠ¨ä¸€ä¸ªæ­¥éª¤ä¸€ä¸ªæ­¥éª¤æ˜¯ä¸æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼ŸOK=&gt;new solution=&gt;Dockerfile 7) ä½¿ç”¨dockerfile æ–‡ä»¶çš„å‘½åä¹Ÿå¿…é¡»ä¸º Dockerfileï¼ŒDocker ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿è¡ŒDockerfile çš„æŒ‡ä»¤ï¼Œæ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä»¥ step ä¸ºæ­¥éª¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ Dockerfile æ˜¯ç”¨æ¥æ„å»ºè‡ªå®šä¹‰ Docker é•œåƒçš„æ–‡æœ¬æ–‡æ¡£ docker build -t imageName contextPath å°±ä¼šè¯»å–contextPathä¸Šä¸‹æ–‡çš„dockerfileæ–‡ä»¶æ¥æ„å»ºé•œåƒ imageNameã€‚æ³¨æ„é»˜è®¤çš„ç‰ˆæœ¬å°±æ˜¯latest 123456FROM centosRUN yum update -yRUN yum install -y nginxCOPY . /usr/share/nginx/htmlEXPOSE 80CMD ["nginx", "-g", "daemon off;"] ç„¶åé€šè¿‡docker run -p 80:80 unclepis/centos-nginx:V2 å…³è”å®¹å™¨çš„80ç«¯å£å’Œå®¿ä¸»æœºçš„80ç«¯å£ é€šè¿‡æµè§ˆå™¨è®¿é—®localhost:8080å°±å¯ä»¥çœ‹è§ç»“æœäº† dockerfileé…ç½®è§£æ å‚è€ƒé“¾æ¥Dockerç®€æ˜æ•™ç¨‹9102 å¹´äº†ï¼Œå­¦ç‚¹ Docker çŸ¥è¯†]]></content>
      <categories>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—</category>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ1ï¼‰- å®¹å™¨æŠ€æœ¯ã€dockerå…¥é—¨åŸºç¡€ã€‘</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>image</tag>
        <tag>container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨expressåˆ›å»ºä¸€ä¸ªwebæœåŠ¡]]></title>
    <url>%2F2019%2F12%2F09%2Fexpress%2F</url>
    <content type="text"><![CDATA[expressæ˜¯ä¸€ä¸ªå¿«é€Ÿæ­å»ºwebæœåŠ¡å™¨çš„nodeæ¡†æ¶ï¼Œé€šè¿‡expressæˆ–è€…expressçš„cliå·¥å…·express-generatorå°±èƒ½å¿«é€Ÿçš„æ­å»ºä¸€ä¸ªhttp-serverâ€¦ expressåˆ›å»ºä¸€ä¸ªhttp-server1.å®‰è£…expressæ¡†æ¶npm install express --save 2.åˆ›å»ºserver123456const express = require('express')const app = express()app.on(3000,()=&gt;&#123; console.log('server is running on 3000')&#125;) 3.ä»€ä¹ˆæ˜¯è·¯ç”±client==ã€‹url==ã€‹ç½‘ç»œä¼ è¾“==ã€‹DNSåŸŸåè§£æ==ã€‹server æ ¹æ®è·¯ç”±å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ è¯·æ±‚åŒ…æ‹¬ è¯·æ±‚æ–¹æ³•req.method - get/post/put/delete/update è¯·æ±‚urlreq.url - https://xxxx.xxx.xxx/xxx/xx/xxxx?username=zhangsan&amp;&amp;password=123 è¯·æ±‚çš„è·¯å¾„req.path - /xxx/xx/xxxx è¯·æ±‚å‚æ•° req.query - username=zhangsan&amp;&amp;password=123 4.å¤„ç†è·¯ç”± é€šè¿‡è¯·æ±‚æ–¹å¼åŒ¹é…å¤„ç† get/postç­‰ 1234567891011app.get('/list',(req,res)=&gt;&#123; res.json(&#123; msg:'method is,'+req.method &#125;)&#125;) app.post('/list',(req,res)=&gt;&#123; res.json(&#123; msg:'method is,'+req.method &#125;)&#125;) é€šè¿‡pathåŒ¹é…å¤„ç† 12345678910app.get('/api/blog/list',(req,res)=&gt;&#123; res.json(&#123; msg:'path is,'+req.path &#125;)&#125;)app.get('/api/user/list',(req,res)=&gt;&#123; res.json(&#123; msg:'path is,'+req.path &#125;)&#125;) 5.express å¸¸ç”¨api all (åŒ¹é…æ‰€æœ‰è¯·æ±‚æ–¹å¼çš„xxxx) 12345app.all('/xxx',(req,res)=&gt;&#123; res.json(&#123; msg:'match all the methods' &#125;)&#125;) (åŒ¹é…æ‰€æœ‰çš„uri) 12345app.all('*',(req,res)=&gt;&#123; res.json(&#123; msg:'match all the methods' &#125;)&#125;) use å»ºè®®ä¸­é—´ä»¶ä½¿ç”¨ä½¿ç”¨å’Œallä¼˜ç‚¹ç±»ä¼¼ 1234567891011app.use('/xxx',(req,res)=&gt;&#123; res.json(&#123; msg:'match all the methods' &#125;)&#125;) app.use((req,res)=&gt;&#123; res.json(&#123; msg:'match all the methods' &#125;)&#125;) 6.express.Router()è·¯ç”±æ‹†åˆ† åœ¨appä¸­ä½¿ç”¨useåŒ¹é…æ ¹è·¯ç”±123// æ³¨å†Œè·¯ç”±app.use('/api/blog',blogRouter)app.use('/api/user',userRouter) åœ¨ä¸šåŠ¡è·¯ç”±ä¸­å†åŒ¹é…å…·ä½“çš„è·¯ç”± åœ¨blogRouterä¸­å®šä¹‰è·¯ç”±123456789101112131415161718192021222324252627282930//blogRouterconst express = require('express')const router = express.Router() // router // .[method] // all // userouter.get('/list',(req,res,next)=&gt;&#123; res.json(&#123; msg:'è·å–åˆ—è¡¨æˆåŠŸ' &#125;) return&#125;)router.post('/new',(req,res,next)=&gt;&#123; res.json(&#123; msg:'æ–°å¢æˆåŠŸ' &#125;) return&#125;)router.post('/del',(req,res,next)=&gt;&#123; res.json(&#123; msg:'åˆ é™¤æˆåŠŸ' &#125;) return&#125;)module.exports = router åœ¨app.jsä¸­æ³¨å†Œæ‹†åˆ†çš„è·¯ç”±12345678910// app.js const express = require('express') const app = express() const blogRouter = require('./router/blog.js') const userRouter = require('./router/user.js') const commonRouter = require('./router/common') // 404 // æ³¨å†Œè·¯ç”± app.use('/api/blog',blogRouter) app.use('/api/user',userRouter) app.use(commonRouter) ä¸­é—´ä»¶ ä¸­é—´ä»¶æ˜¯ä¸€ä¸ªå‡½æ•° (error,req,res,next)=&gt;{} åˆ†ç±» 1.appçº§åˆ«çš„ä¸­é—´ä»¶ - åœ¨appæ³¨å†Œçš„æ—¶å€™å£°æ˜ä½¿ç”¨ app.use(middleWare) 2.routerçº§åˆ«çš„ä¸­é—´ä»¶ - åœ¨è·¯ç”±æ‹†åˆ†ä¹‹åä½¿ç”¨ router.use(middleWare) 12345678910111213141516171819202122232425const isValid = (req,res,next)=&gt;&#123; if(req.query&amp;&amp;req.query.id)&#123; next() // äº¤å‡ºæ§åˆ¶æƒ &#125;else&#123; res.json(&#123; msg:'idä¸èƒ½ä¸ºç©º' &#125;) &#125;&#125;// 1. ä½¿ç”¨useçš„æ–¹å¼ä½¿ç”¨è·¯ç”±ä¸­é—´ä»¶======================================router.use(isValid)router.get('/list', (req, res) =&gt; &#123; res.json(&#123; msg: 'è·å–åˆ—è¡¨æˆåŠŸ' &#125;) return&#125;)// 2.åœ¨è·¯ç”±å†…éƒ¨ä½¿ç”¨ =====================================router.get('/list',isValid, (req, res) =&gt; &#123; res.json(&#123; msg: 'è·å–åˆ—è¡¨æˆåŠŸ' &#125;) return&#125;)]]></content>
      <categories>
        <category>express</category>
        <category>ä½¿ç”¨expressåˆ›å»ºä¸€ä¸ªwebæœåŠ¡</category>
      </categories>
      <tags>
        <tag>nodejs</tag>
        <tag>express</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(4) - Npx - nodeçš„åŒ…æ‰§è¡Œå·¥å…·çš„ä½¿ç”¨å’Œå®‰è£…]]></title>
    <url>%2F2019%2F12%2F05%2Fnpx%2F</url>
    <content type="text"><![CDATA[npxä¸»è¦è§£å†³äº†ä¸€ä¸‹å‡ ä¸ªé—®é¢˜: å±€éƒ¨å®‰è£…çš„åŒ…æ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä¸èƒ½å¾ˆæ–¹ä¾¿çš„åœ¨æœ¬é¡¹ç›®ç›®å½•ä¸‹å’Œå…¨å±€å…¶ä»–ä»»æ„è·¯å¾„ä¸‹ä½¿ç”¨ å…¨å±€å®‰è£…åŒ…åœ¨å…¨å±€ä»»ä½•ä½ç½®éƒ½å¯ç”¨ï¼Œä½†æ˜¯å ç”¨æœ¬æœºå­˜å‚¨ï¼Œè€Œä¸”é¡¹ç›®ä¸­ä¸€æ—¦å¼•ç”¨äº†å…¨å±€çš„æ¨¡å—ï¼Œç‰ˆæœ¬å®¹æ˜“ä¸ä¸€è‡´. è¿™ä¸ªéƒ½æ˜¯é¡¹ç›®ä¸­å¾ˆå¸¸è§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¾ˆå¤šæ—¶å€™ä¸å¾—ä¸åœ¨æ¯ä¸ªé¡¹ç›®é‡å¤å®‰è£…ç›¸åŒçš„æ¨¡å—åŒ…ï¼Œä¸ºäº†åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­æ–¹ä¾¿ä½¿ç”¨;å®åœ¨ä¸ºäº†æ–¹ä¾¿å…¨å±€å®‰è£…äº†ï¼Œä¸€æ—¦é¡¹ç›®ä¸­å¼•ç”¨ï¼Œå¤šäººåä½œçš„æ—¶å€™ä¾èµ–ç‰ˆæœ¬å¯èƒ½ä¼šä¸ä¸€è‡´â€¦é’ˆå¯¹è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬ä»Šå¤©è¯´ä¸€ä¸‹npxè¿™ä¸ªå®‰è£…å·¥å…·çš„ä½¿ç”¨â€¦ npx åœ¨ npm@5.2.0 ç‰ˆæœ¬ä¹‹åï¼Œå¢åŠ  npx ä»¥æä¾›æ¥ä¸€äº›è¾…åŠ©çš„åŠŸèƒ½ï¼Œå…¨å Node Package Executor - nodeçš„åŒ…æ‰§è¡Œå·¥å…· æ‰‹åŠ¨å®‰è£… - ä¸‡ä¸€ä¸èƒ½ç”¨ï¼Œå°±è¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹ã€‚npm install -g npx ===================================================================================================== ç”¨é€”1ï¼šè°ƒç”¨å±€éƒ¨å®‰è£…åŒ…npx æƒ³è¦è§£å†³çš„ä¸»è¦é—®é¢˜ï¼Œå°±æ˜¯è°ƒç”¨é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ã€‚æ¯”å¦‚ï¼Œé¡¹ç›®å†…éƒ¨å®‰è£…äº†æµ‹è¯•å·¥å…· http-server å±€éƒ¨å®‰è£…http-servernpm install -D http-server ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨ http-server ï¼Œåªèƒ½åœ¨é¡¹ç›®è„šæœ¬å’Œ package.json çš„scriptså­—æ®µé‡Œé¢ï¼Œ å¦‚æœæƒ³åœ¨å‘½ä»¤è¡Œä¸‹è°ƒç”¨ï¼Œå¿…é¡»åƒä¸‹é¢è¿™æ ·ã€‚ é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œ$ node-modules/.bin/http-server -p 9999 scriptè„šæœ¬123456&#123; "script":&#123; "dev":"http-server -p 9999" &#125;&#125;// npm run dev npx å°±æ˜¯æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®©é¡¹ç›®å†…éƒ¨å®‰è£…çš„æ¨¡å—ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œåªè¦åƒä¸‹é¢è¿™æ ·è°ƒç”¨å°±è¡Œäº†npx http-server -p 9999 npx çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ°node_modules/.binè·¯å¾„å’Œç¯å¢ƒå˜é‡$PATHé‡Œé¢ï¼Œæ£€æŸ¥å‘½ä»¤æ˜¯å¦å­˜åœ¨ã€‚ ç”±äº npx ä¼šæ£€æŸ¥ç¯å¢ƒå˜é‡$PATHï¼Œæ‰€ä»¥ç³»ç»Ÿå‘½ä»¤ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚ ä¼˜ç‚¹ï¼š ä»»ä½•commandéƒ½é€šè¿‡npxåœ¨machineä»»ä½•ä½ç½®ä½¿ç”¨ ===================================================================================================== ç”¨é€”2ï¼šé¿å…å…¨å±€å®‰è£…æ¨¡å—ï¼Œæ‰§è¡Œä¸€æ¬¡æ€§å‘½ä»¤ å¯¹äºä¸€äº›å·¥å…·ï¼Œæ¯”å¦‚create-react-appï¼Œå®ƒä»¬æœ‰äº›ç‰¹æ€§ï¼š å¯èƒ½å¾ˆä¹…æ‰ä¼šè¢«ä½¿ç”¨ä¸€æ¬¡ å®‰è£…åŒ…ä¼šå¾ˆå¤§ å…¨å±€å®‰è£…åŠ£åŠ¿ï¼š å ç”¨æœ¬æœºç©ºé—´ åŒ…å®‰è£…åœ¨Nodeå®‰è£…ç›®å½•ä¸‹çš„node_modulesæ–‡ä»¶å¤¹ä¸­ ç‰ˆæœ¬é—®é¢˜ å‡å¦‚ä¸€ä¸ªé¡¹ç›®ä¸­çš„æŸä¸€ä¸ªdependencyæ˜¯å…¨å±€å®‰è£…çš„ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸åŒçš„å¼€å‘äººå‘˜ä½¿ç”¨çš„è¿™ä¸ªdependencyç‰ˆæœ¬å®Œå…¨åŸºäºæœ¬åœ°çš„ç‰ˆæœ¬ï¼Œä¹Ÿå°±ä¼šå¯¼è‡´ä¸åŒçš„å¼€å‘äººå‘˜ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬ å†ä¹Ÿä¸éœ€å…¨å±€å®‰è£…ä»»ä½•å·¥å…·åªéœ€è¦npx npx create-react-app my-react npx å¯ä»¥è¿è¡Œå®ƒcreate-react-appï¼Œè€Œä¸”ä¸è¿›è¡Œå…¨å±€å®‰è£…ã€‚ ä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œä½¿ç”¨ä»¥åå†åˆ é™¤ã€‚ ä»¥åå†æ¬¡æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šé‡æ–°ä¸‹è½½ ä¼˜ç‚¹ï¼š ä¸ä¼šæ±¡æŸ“æœ¬æœºçš„å­˜å‚¨ æ°¸è¿œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„dependency ===================================================================================================== ç”¨é€”3ï¼šå¸®åŠ©åˆ‡æ¢ç‰ˆæœ¬ npxçš„-pé€‰é¡¹å…è®¸æ‚¨æŒ‡å®šè¦å®‰è£…çš„åŒ…ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æ­£åœ¨è¿è¡Œçš„$PATHä¸­ å½“ä½ æ²¡æœ‰nvmçš„æ—¶å€™ï¼Œå¸®ä½ æ–¹ä¾¿çš„åˆ‡æ¢nodeç‰ˆæœ¬ï¼Œå‡è®¾ä½ æœ¬æœºå®‰è£…çš„nodeç‰ˆæœ¬æ˜¯node@8ï¼Œä½†æ˜¯ä½ çš„é¡¹ç›®å¯èƒ½éœ€è¦ä½¿ç”¨ä½¿ç”¨node@6åšæµ‹è¯•ï¼Œå¦‚æœä½ æœ‰nvmï¼Œå¯ä»¥ä½¿ç”¨nvm use v8.11ï¼Œå…¶å®npxä¹Ÿå¯ä»¥å¸®ä½ åšæˆã€‚ 1234567ä½¿ç”¨npx -p node@6 npm run testï¼šnpxä¼šå¸®åŠ©ä½ ä¸‹è½½node@6å°†æ­¤æ—¶çš„ç¯å¢ƒå˜æˆnode@6ç‰ˆæœ¬ä½¿ç”¨node@6å¸®ä½ æ‰§è¡Œnpm run testå‘½ä»¤æ‰§è¡Œå®Œæ¯•ä¹‹åä¸ä¼šä¿®æ”¹ä½ åŸæ¥çš„nodeç‰ˆæœ¬æŒ‡ä»¤å¯ä»¥ç†è§£ä¸ºä½¿ç”¨node@6ç‰ˆæœ¬è¿è¡Œnpm run test å‚è€ƒé“¾æ¥npx ä»‹ç»]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—</category>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(4) Npx - nodeçš„åŒ…æ‰§è¡Œå·¥å…·</category>
      </categories>
      <tags>
        <tag>npx</tag>
        <tag>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(4)</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(3) - Nvm - (Node Version Manager)nodeç‰ˆæœ¬ç®¡ç†å·¥å…·çš„ä½¿ç”¨å’Œå®‰è£…]]></title>
    <url>%2F2019%2F12%2F05%2Fnvm%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©ç®€å•æ•´ç†ä¸€ä¸‹nvmçš„å®‰è£…å’ŒåŸºç¡€ä½¿ç”¨â€¦ nvm å®‰è£…å’Œç®¡ç† Node.jsç‰ˆæœ¬ node.js version manager æ˜¯ä¸€ä¸ªnodeçš„ç‰ˆæœ¬ç®¡ç†å·¥å…· å®‰è£…å¤šç‰ˆæœ¬ node/npmnvm install 4.2.2 åˆ—å‡ºå·²å®‰è£…å®ä¾‹nvm ls ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åˆ—å‡ºè¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„å¯ç”¨ç‰ˆæœ¬ï¼šnvm ls-remote åˆ‡æ›ç‰ˆæœ¬nvm use 4.2.2 åˆ‡æ¢åˆ°æœ€æ–°ç‰ˆï¼šnvm use node æ¯æ¬¡æ‰§è¡Œåˆ‡æ¢çš„æ—¶å€™ï¼Œç³»ç»Ÿéƒ½ä¼šæŠŠ node çš„å¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥æ”¾åˆ°ç‰¹å®šç‰ˆæœ¬çš„æ–‡ä»¶ä¸Šã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ nvm ç»™ä¸åŒçš„ç‰ˆæœ¬å·è®¾ç½®åˆ«åï¼š nvm alias awesome-version 4.2.2nvm use awesome-versionnvm unalias awesome-version // å–æ¶ˆåˆ¥å ç¡®è®¤æŸä¸ªç‰ˆæœ¬Nodeçš„è·¯å¾„nvm which 4.2.2 ç›´æ¥è¿è¡Œç‰¹å®šç‰ˆæœ¬çš„ Nodenvm run 4.2.2 â€“version åœ¨å½“å‰ç»ˆç«¯çš„å­è¿›ç¨‹ä¸­è¿è¡Œç‰¹å®šç‰ˆæœ¬çš„ Nodenvm exec 4.2.2 node â€“version]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—</category>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(3) Nvm - (Node Version Manager)</category>
      </categories>
      <tags>
        <tag>nvm</tag>
        <tag>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(3)</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿ä¸Šç¯å¢ƒè¿›ç¨‹å®ˆæŠ¤/è´Ÿè½½å‡è¡¡/æ—¥å¿—ç®¡ç†çš„Nodeåº”ç”¨çš„è¿›ç¨‹ç®¡ç† - pm2]]></title>
    <url>%2F2019%2F12%2F05%2Fpm2%2F</url>
    <content type="text"><![CDATA[1)ä¸€èˆ¬æ–¹å¼å¯åŠ¨ä¸€ä¸ªnodeæœåŠ¡node app.js é‡åˆ°è¿›ç¨‹å¥”æºƒï¼Œæ‰‹åŠ¨å¯åŠ¨ 2)æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨node monitor - nodemonå¯åŠ¨ä¸€ä¸ªnodeæœåŠ¡nodemon app.js é‡åˆ°è¿›ç¨‹å¥”æºƒï¼Œè‡ªåŠ¨ç›‘å¬è‡ªåŠ¨å¯åŠ¨ 3)çº¿ä¸Šç¯å¢ƒä½¿ç”¨pm2å¯åŠ¨ä¸€ä¸ªnodeæœåŠ¡pm2 é‡åˆ°è¿›ç¨‹å¥”æºƒï¼Œä¼šè‡ªåŠ¨é‡å¯ pm2æ˜¯ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·,å¯ä»¥ç”¨å®ƒæ¥ç®¡ç†ä½ çš„nodeè¿›ç¨‹ï¼Œå¹¶æŸ¥çœ‹nodeè¿›ç¨‹çš„çŠ¶æ€ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒæ€§èƒ½ç›‘æ§ï¼Œè¿›ç¨‹å®ˆæŠ¤ï¼Œè´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½â€¦ä¸‹é¢æ¥å®‰è£…é…ç½®ä¸€ä¸‹pm2åœ¨éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨åšnodejsæœåŠ¡çš„è¿›ç¨‹å®ˆæŠ¤â€¦æ€»çš„æ¥è¯´ç‰¹ç‚¹æœ‰ï¼š1&gt;å†…å»ºè´Ÿè½½å‡è¡¡ï¼ˆä½¿ç”¨Node cluster é›†ç¾¤æ¨¡å—ï¼‰- è‡ªåŠ¨æ£€æµ‹ç©ºé—²çš„è¿›ç¨‹2&gt;å¯ä»¥åœ¨åå°è¿è¡Œ - åå°å¯åŠ¨åå‘½ä»¤è¡Œå°±ä¸åœ¨å ç”¨äº†3&gt;å¯ä»¥0ç§’åœæœºé‡è½½ï¼Œï¼ˆå¯ä»¥ç†è§£ä¸ºä¸éœ€è¦åœæœºé‡å¯ï¼Œåœ¨ç”¨æˆ·æ„‰å¿«çš„æµè§ˆé¡µé¢æ—¶æˆ‘ä»¬å·²ç»ç¨‹åºæ›´æ–°äº†ï¼‰4&gt;æ§åˆ¶å°æ£€æµ‹5&gt;æ—¥å¿—ç®¡ç†6&gt;çƒ­é‡è½½ 0.å®‰è£…npm i pm2 -g 1.å¯åŠ¨123pm2 start app.jspm2 start bin/wwwpm2 start pm2.conf.json // ä»é…ç½®æ–‡ä»¶å¯åŠ¨ 2.æŸ¥çœ‹å¯åŠ¨çš„è¿›ç¨‹pm2 list 3.é‡æ–°å¯åŠ¨pm2 restart appName|id 4.åœæ­¢ (åœæ­¢è¿˜å¯ä»¥åœ¨å¯åŠ¨èµ·æ¥)pm2 stop appName|idpm2 stop all // å…³é—­å…¨éƒ¨ 5.åˆ é™¤(åˆ é™¤å°±æ²¡æ³•å†å¯åŠ¨èµ·æ¥äº†)pm2 delete appName|idpm2 delete all // åˆ é™¤å…¨éƒ¨ 6.æŸ¥çœ‹æ—¥å¿—pm2 log appName|id 7.æŸ¥çœ‹ç›‘æ§å™¨åˆ†æé—®é¢˜cpu å†…å­˜çš„ä¸€äº›ä¿¡æ¯pm2 monit appName|id 8.æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯pm2 info appName|id é…ç½®é¡¹ï¼šï¼ˆè¿›ç¨‹æ•°é‡/ æ—¥å¿—æ–‡ä»¶ç›®å½•ç­‰ï¼‰pm2 start pm2.json // é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨pm212345678910111213141516// pm2.jsonçš„é…ç½®æ–‡ä»¶&#123; "apps": &#123; "name": "pm2-test-server", // è¿›ç¨‹åç§° "script": "app.js", // serveræ–‡ä»¶ "watch": false, // æ£€æµ‹æ›´æ–° "ignore_watch": [ // å¿½ç•¥æ–‡ä»¶å˜åŒ– "node_modules", "log" ], "instance": 4, // è¿›ç¨‹æ•° "error_file": "log/err.log", // é”™è¯¯æ—¥å¿— "out_file": "log/out.log", // æ—¥å¿—è¾“å‡ºè·¯å¾„ "log_date_format": "YYYY-MM-DD HH:MM:SS" // æ—¥å¿—æ—¶é—´æˆ³ &#125;&#125; PM2çš„å¤šè¿›ç¨‹ 1.ä¸ºä½•ä½¿ç”¨å¤šè¿›ç¨‹ 1ï¼‰å†…å­˜æ˜¯å—é™çš„ä¾‹å¦‚nodejsä¸€ä¸ªå•çº¿ç¨‹åœ¨32ä¸ºæ“ä½œç³»ç»Ÿä¸‹æœ€å¤§ä½¿ç”¨1.6Gå†…å­˜ 2ï¼‰å†…å­˜ï¼šæ— æ³•é‡å¤åˆ†åˆ©ç”¨æœºå™¨å…¨éƒ¨å†…å­˜ 3ï¼‰cpuï¼šæ— æ³•å……åˆ†åˆ©ç”¨å¤šæ ¸cpuçš„ä¼˜åŠ¿ 2.å¤šè¿›ç¨‹å’Œredisï¼šå¤šè¿›ç¨‹ä¹‹é—´ï¼Œå†…å­˜æ— æ³•å…±äº«ï¼ˆå¤šè¿›ç¨‹è®¿é—®ä¸€ä¸ªredisï¼Œå®ç°æ•°æ®å…±äº«ï¼‰ é‡åˆ°çš„é—®é¢˜å°±æ˜¯å¤šè¿›ç¨‹æ— æ³•å…±äº«æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡redisæ¥å…±äº« demopm2 demo]]></content>
      <categories>
        <category>nodejs</category>
        <category>pm2 è¿›ç¨‹å®ˆæŠ¤</category>
      </categories>
      <tags>
        <tag>pm2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(2) - Nrm - (Node Registry Manager)nodeé•œåƒæºç®¡ç†å·¥å…·çš„ä½¿ç”¨å’Œå®‰è£…]]></title>
    <url>%2F2019%2F12%2F04%2Fnrm%2F</url>
    <content type="text"><![CDATA[åœ¨ä¸€èˆ¬å‰ç«¯å·¥ç¨‹åŒ–ä¸­ï¼Œnpmè¿™ç§nodeçš„åŒ…ç®¡ç†å·¥å…·æˆ‘ä»¬ä½¿ç”¨çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯ç”±äºå¾ˆå¤šåŒ…æ˜¯æ‰˜ç®¡åœ¨å›½å¤–çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥åœ¨è£…åŒ…çš„æ—¶å€™èµ„æºåŠ è½½å¾ˆæ…¢ï¼Œä¸€èˆ¬çš„åšæ³•æˆ‘ä»¬å°±æ˜¯å¼•å…¥ç¬¬ä¸‰æ–¹çš„é•œåƒä»“åº“(ä¾‹å¦‚æ·˜å®çš„é•œåƒä»“åº“:https://registry.npm.taobao.org),è€Œæ›´ä¼˜çš„åšé¥­æ˜¯ä½¿ç”¨nrmè¿›è¡Œç®¡ç†...ä»Šå¤©ç®€å•æ•´ç†ä¸€ä¸‹nrmçš„å®‰è£…å’ŒåŸºç¡€ä½¿ç”¨... nrm nrm(npm registry manager )æ˜¯npmçš„é•œåƒæºç®¡ç†å·¥å…·ï¼Œæœ‰æ—¶å€™å›½å¤–èµ„æºå¤ªæ…¢ï¼Œä½¿ç”¨è¿™ä¸ªå°±å¯ä»¥å¿«é€Ÿåœ°åœ¨ npm æºé—´åˆ‡æ¢ å®‰è£…nrm åœ¨å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ï¼Œnpm install -g nrmï¼Œå…¨å±€å®‰è£…nrmã€‚ ä½¿ç”¨ æ‰§è¡Œå‘½ä»¤nrm lsæŸ¥çœ‹å¯é€‰çš„æºã€‚ 123456789nrm ls*npm ---- https://registry.npmjs.org/cnpm --- http://r.cnpmjs.org/taobao - http://registry.npm.taobao.org/eu ----- http://registry.npmjs.eu/au ----- http://registry.npmjs.org.au/sl ----- http://npm.strongloop.com/nj ----- https://registry.nodejitsu.com/å…¶ä¸­ï¼Œå¸¦*çš„æ˜¯å½“å‰ä½¿ç”¨çš„æºï¼Œä¸Šé¢çš„è¾“å‡ºè¡¨æ˜å½“å‰æºæ˜¯å®˜æ–¹æºã€‚ åˆ‡æ¢å¦‚æœè¦åˆ‡æ¢åˆ°taobaoæºï¼Œæ‰§è¡Œå‘½ä»¤nrm use taobaoã€‚ å¢åŠ ä½ å¯ä»¥å¢åŠ å®šåˆ¶çš„æºï¼Œç‰¹åˆ«é€‚ç”¨äºæ·»åŠ ä¼ä¸šå†…éƒ¨çš„ç§æœ‰æºï¼Œæ‰§è¡Œå‘½ä»¤ nrm add &lt;registryName&gt; &lt;registryUrl&gt;ï¼Œå…¶ä¸­registryNameä¸ºæºåï¼ŒregistryUrlä¸ºæºçš„è·¯å¾„ã€‚ 1nrm add registryName http: //registry.npm.frp.trmap.cn/ åˆ é™¤æ‰§è¡Œå‘½ä»¤nrm del &lt;registry&gt;åˆ é™¤å¯¹åº”çš„æºã€‚ æµ‹è¯•é€Ÿåº¦ä½ è¿˜å¯ä»¥é€šè¿‡ nrm test &lt;registry&gt;æµ‹è¯•ç›¸åº”æºçš„å“åº”æ—¶é—´ã€‚ 1nrm test npm]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—</category>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(2) Nrm - (Node Registry Manager)</category>
      </categories>
      <tags>
        <tag>nrm</tag>
        <tag>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(2)</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(1) - Npm - (Node Package Manager)nodeåŒ…ç®¡ç†å·¥å…·çš„ä½¿ç”¨å’Œå®‰è£…]]></title>
    <url>%2F2019%2F12%2F04%2Fnpm%2F</url>
    <content type="text"><![CDATA[npm å¸¸ç”¨çš„å‘½ä»¤æ±‡æ€»æœ€è¿‘ä½¿ç”¨verdaccioæ­å»ºç§æœ‰npmä»“åº“ï¼Œç”¨åˆ°å¾ˆå¤šçš„npmå‘½ä»¤ï¼Œç‰¹åˆ«æ•´ç†ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ï¼Œæ¯•ç«Ÿç°åœ¨å‰ç«¯éƒ½ä½¿ç”¨npmæˆ–è€…yarnè¿™ç§åŒ…ç®¡ç†å·¥å…·ï¼Œå­¦ä¹ ä¸€ä¸‹npmå¸¸ç”¨å‘½ä»¤å’ŒåŸºæœ¬åŸç†å¾ˆæœ‰å¿…è¦â€¦ npm(Node Package Managemer)npm æ˜¯nodeçš„æ¨¡å—ç®¡ç†å™¨ã€‚æˆ‘ä»¬åªè¦ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å®‰è£…åˆ«äººå†™å¥½çš„æ¨¡å—ï¼Œå®ƒåŒ…æ‹¬ä¸¤å±‚å«ä¹‰: åŸºäºNode.jså¼€å‘çš„åŒ…çš„æ‰˜ç®¡ç½‘ç«™,æ¨¡å—ç™»è®°å’Œç®¡ç†ç³»ç»Ÿï¼Œregitry cliå‘½ä»¤è¡Œæ¨¡å—ç®¡ç†å™¨ å®‰è£…nodejsè‡ªåŠ¨å®‰è£…npm (1)npm åŸºæœ¬æ“ä½œ12345npm docs åŒ…å æŸ¥çœ‹åŒ…çš„æ–‡æ¡£npm help #æŸ¥çœ‹npmå‘½ä»¤åˆ—è¡¨npm -l #æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ç®€å•ç”¨æ³•npm -v #æŸ¥çœ‹npmç‰ˆæœ¬npm config list -l # æŸ¥çœ‹npmé…ç½® npm initåˆå§‹åŒ–ç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶ 1npm init -y # ä½¿ç”¨é»˜è®¤é…ç½®ç”Ÿæˆä¸€ä¸ªpackageæ–‡ä»¶ npm setç”±äºnpm inité‡Œé¢æœ‰å¾ˆå¤šé»˜è®¤çš„è®¾ç½®ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹é»˜è®¤è®¾ç½®ï¼Œè¿™æ ·ä»¥ååˆå§‹åŒ–é¡¹ç›®éƒ½ä½¿ç”¨é…ç½®çš„é»˜è®¤è®¾ç½®å°±å¯ä»¥ä½¿ç”¨npm set 1npm set init-author-name 'uncle pis' # ä¿®æ”¹packageçš„ä½œè€…å§“å npm installï¼install -f æ™®é€šå®‰è£…åŒ…ï¼å¼ºåˆ¶å®‰è£…æ¯ä¸ªæ¨¡å—å¯ä»¥â€œå…¨å±€å®‰è£…â€ï¼Œä¹Ÿå¯ä»¥â€œæœ¬åœ°å®‰è£…â€ã€‚ â€œå…¨å±€å®‰è£…â€æŒ‡çš„æ˜¯å°†ä¸€ä¸ªæ¨¡å—å®‰è£…åˆ°ç³»ç»Ÿç›®å½•ä¸­ï¼Œå„ä¸ªé¡¹ç›®éƒ½å¯ä»¥è°ƒç”¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå…¨å±€å®‰è£…åªé€‚ç”¨äºå·¥å…·æ¨¡å—ï¼Œæ¯”å¦‚eslintå’Œgulpã€‚â€œæœ¬åœ°å®‰è£…â€æŒ‡çš„æ˜¯å°†ä¸€ä¸ªæ¨¡å—ä¸‹è½½åˆ°å½“å‰é¡¹ç›®çš„node_moduleså­ç›®å½•ï¼Œç„¶ååªæœ‰åœ¨é¡¹ç›®ç›®å½•ä¹‹ä¸­ï¼Œæ‰èƒ½è°ƒç”¨è¿™ä¸ªæ¨¡å—ã€‚ 1npm install &lt;packageName&gt;#å®‰è£…æ¨¡å—åˆ°node_modulesç›®å½• æ‰§è¡Œinstallä¹‹å‰ï¼Œä¼šæ£€æŸ¥node_modulesç›®å½•ä¹‹ä¸­æ˜¯å¦å·²ç»å­˜åœ¨æŒ‡å®šæ¨¡å—ï¼Œå­˜åœ¨ä¸å†é‡æ–°å®‰è£…ï¼Œå³ä½¿è¿œç¨‹ä»“åº“å‘å¸ƒäº†ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¹Ÿä¸ä¼šå®‰è£… å¸Œæœ›ä¸€ä¸ªæ¨¡å—æ— è®ºæ˜¯å¦å®‰è£…è¿‡ï¼Œnpméƒ½å¼ºåˆ¶é‡æ–°å®‰è£…å¯ä»¥ä½¿ç”¨-fæˆ–è€…--force æ³¨æ„ä¸€ä¸‹å®‰è£…çš„æ—¶å€™ï¼Œé¡¹ç›®ç›¸å…³çš„è¦æ”¾åœ¨ -Sä¸‹çš„dependencyä¸­ï¼Œå¼€å‘ç¯å¢ƒå’Œå·¥å…·ç›¸å…³çš„è¦æ”¾åœ¨-Dçš„devDependencyä¸­ npm install é»˜è®¤ä¼šå®‰è£…dependecyå’ŒdevDependencyçš„åŒ…ï¼Œå¦‚æœâ€“productionåˆ™ä¼šå®‰è£…dependencyè€Œä¸ä¼šå®‰è£… 12345678npm install &lt;packageName&gt; --force #å¼ºåˆ¶å®‰è£…npm i &lt;packageName&gt;#ç¼©å†™npm i &lt;packageName&gt;@&lt;version range&gt;#npm i npm@latest æŒ‡å®šç‰ˆæœ¬// â€œdevDependenciesâ€: These packages are only needed for development and testing.ï¼ˆè¿™äº›åŒ…ä»…ç”¨äºå¼€å‘å’Œæµ‹è¯•ï¼‰npm i &lt;packageName&gt; -D # â€“save-dev: æ¨¡å—åå°†è¢«æ·»åŠ åˆ°devDependenciesï¼Œå¯ä»¥ç®€åŒ–ä¸ºå‚æ•°-Dã€‚//â€œdependencyâ€:These packages are required by your application in production.ï¼ˆè¿™äº›è½¯ä»¶åŒ…æ˜¯ç”Ÿäº§ä¸­çš„åº”ç”¨ç¨‹åºéœ€è¦çš„ï¼‰npm i &lt;packageName&gt; -S # â€“saveï¼šæ¨¡å—åå°†è¢«æ·»åŠ åˆ°dependenciesï¼Œå¯ä»¥ç®€åŒ–ä¸ºå‚æ•°-Sã€‚ npm i &lt;packageName&gt; -g # æˆ–è€…ï¼ï¼global å¦‚æœä½ å¸Œæœ›ï¼Œæ‰€æœ‰æ¨¡å—éƒ½è¦å¼ºåˆ¶é‡æ–°å®‰è£…ï¼Œé‚£å°±åˆ é™¤node_modulesç›®å½•ï¼Œé‡æ–°æ‰§è¡Œnpm installã€‚ 12rm -rf node_modulesnpm install å…¨å±€å®‰è£…å’Œå±€éƒ¨å®‰è£…çš„åŒºåˆ«:npm uninstall12npm uninstall [package name] #å¸è½½æœ¬åœ°æ¨¡å—npm uninstall [package name] ï¼g #å¸è½½å…¨å±€æ¨¡å— npm updateå®ƒä¼šå…ˆåˆ°è¿œç¨‹ä»“åº“æŸ¥è¯¢æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åæŸ¥è¯¢æœ¬åœ°ç‰ˆæœ¬ï¼Œå¦‚æœæœ¬åœ°ç‰ˆæœ¬ä¸å­˜åœ¨æˆ–è€…è¿œç¨‹è¾ƒæ–°ï¼Œå°±ä¼šæ›´æ–°å®‰è£…1npm update &lt;packageName&gt; #æ›´æ–°å·²ç»å®‰è£…çš„æ¨¡å— npmæŸ¥è¯¢æœåŠ¡(registry)npmæ¨¡å—ä»“åº“æä¾›ä¸€ä¸ªæŸ¥è¯¢æœåŠ¡å«åšregistryã€‚ä¾‹å¦‚npmjs.orgæä¾›çš„æŸ¥è¯¢æœåŠ¡ç½‘å€æ˜¯ https://registry.npmjs.org/ æœåŠ¡åé¢è·Ÿä¸Šæ¨¡å—åå­—å°±ä¼šå¾—åˆ°ä¸€ä¸ªjsonå¯¹è±¡ï¼Œé‡Œé¢æ˜¯æ”¹æ¨¡å—æ‰€æœ‰çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚æ¯”å¦‚ï¼Œè®¿é—® https://registry.npmjs.org/reactï¼Œå°±ä¼šçœ‹åˆ° react æ¨¡å—æ‰€æœ‰ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚ è¿”å›çš„jsonå¯¹è±¡é‡Œé¢åˆä¸€ä¸ªdist.tarballå±æ€§ï¼Œæ˜¯è¯¥ç‰ˆæœ¬çš„å‹ç¼©åŒ…åœ°å€ã€‚ä½¿ç”¨npm installæˆ–è€…npm updateå°±æ˜¯é€šè¿‡è¿™ä¸ªæ–¹å¼å®‰è£…æ¨¡å—çš„ æ¨¡å—å®‰è£…è¿‡ç¨‹12341.å‘å‡ºnpm installå‘½ä»¤2.npmå‘registryæŸ¥è¯¢æœåŠ¡å‘é€è¯·æ±‚ï¼ŒæŸ¥è¯¢æ¨¡å—å‹ç¼©åŒ…çš„åœ°å€3.ä¸‹è½½å‹ç¼©åŒ…ï¼Œå­˜æ”¾åœ¨æœ¬åœ°çš„ç¼“å­˜ç›®å½•4.è§£å‹å‹ç¼©åŒ…åˆ°å½“å‰ç›®å½•çš„node_modules è¿è¡Œnpm installåªä¼šæ£€æŸ¥æœ¬åœ°çš„node_moduleså­˜ä¸å­˜åœ¨éœ€è¦çš„åŒ…ï¼Œä¸ä¼šæ£€æŸ¥ç¼“å­˜ æ‰€ä»¥ç¼“å­˜é‡Œé¢æœ‰ï¼Œä½†æ˜¯node_modulesé‡Œé¢æ²¡æœ‰ï¼Œè¿˜æ˜¯ä¼šä»è¿œç¨‹çš„npmä»“åº“ä¸‹è½½ä¸€æ¬¡ æŸ¥çœ‹npmæº1npm config get registry è®¾ç½®npmæº1npm config set registry xxxxx npm run npmä¸ä»…å¯ä»¥ç”¨äºæ¨¡å—ç®¡ç†ï¼Œè¿˜å¯ä»¥ç”¨äºæ‰§è¡Œè„šæœ¬ã€‚package.jsonæ–‡ä»¶æœ‰ä¸€ä¸ªscriptså­—æ®µï¼Œå¯ä»¥ç”¨äºæŒ‡å®šè„šæœ¬å‘½ä»¤ï¼Œä¾›npmç›´æ¥è°ƒç”¨ã€‚ npmå†…ç½®äº†ä¸¤ä¸ªå‘½ä»¤ç®€å†™ï¼Œnpm testç­‰åŒäºæ‰§è¡Œnpm run testï¼Œnpm startç­‰åŒäºæ‰§è¡Œnpm run startã€‚ å…ˆè¿è¡Œnpm run build-jsï¼Œç„¶åå†è¿è¡Œnpm run build-cssï¼Œä¸¤ä¸ªå‘½ä»¤ä¸­é—´ç”¨&amp;&amp;è¿æ¥ã€‚å¦‚æœå¸Œæœ›ä¸¤ä¸ªå‘½ä»¤åŒæ—¶å¹³è¡Œæ‰§è¡Œï¼Œå®ƒä»¬ä¸­é—´å¯ä»¥ç”¨&amp;è¿æ¥ npm runå‘½ä»¤è¿˜å¯ä»¥æ·»åŠ å‚æ•°,å¦‚æœè¦é€šè¿‡npm testå‘½ä»¤ï¼Œå°†å‚æ•°ä¼ åˆ°mochaï¼Œåˆ™å‚æ•°ä¹‹å‰è¦åŠ ä¸Šä¸¤ä¸ªè¿è¯çº¿ã€‚ å‚è€ƒè¿æ¥é˜®ä¸€å³°npm æ¨¡å—å®‰è£…æœºåˆ¶ç®€ä»‹é˜®ä¸€å³° npmæ¨¡å—ç®¡ç†å™¨]]></content>
      <categories>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—</category>
        <category>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(1) Npm - (Node Package Manager)</category>
      </categories>
      <tags>
        <tag>npm</tag>
        <tag>ä½ ä¸çŸ¥é“çš„Nxx(ğŸ‚x)ç³»åˆ—(1)</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[electron - åŸºäºnodejså’Œchromiumçš„è·¨å¹³å°æ¡Œé¢åº”ç”¨]]></title>
    <url>%2F2019%2F12%2F04%2Felectron%2F</url>
    <content type="text"><![CDATA[å®˜æ–¹ï¼šElectronæ˜¯ç”±Githubå¼€å‘ï¼Œç”¨HTMLï¼ŒCSSå’ŒJavaScriptæ¥æ„å»ºè·¨å¹³å°æ¡Œé¢åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªå¼€æºåº“ã€‚ Electroné€šè¿‡å°†Chromiumå’ŒNode.jsåˆå¹¶åˆ°åŒä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒä¸­ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºMacï¼ŒWindowså’ŒLinuxç³»ç»Ÿä¸‹çš„åº”ç”¨æ¥å®ç°è¿™ä¸€ç›®çš„ã€‚ ä¸ªäººç†è§£ï¼šelectronå°±æ˜¯ä¸€ä¸ªnodejsåº”ç”¨ç¨‹åºï¼Œç„¶åä½¿ç”¨äº†chromiumä½œä¸ºä»–çš„GUIè§†å›¾ï¼Œå®ƒå¯ä»¥ä½¿ç”¨çº¯javascriptè°ƒç”¨åŸç”Ÿæ“ä½œç³»ç»Ÿçš„apiæ¥åˆ›å»ºæ¡Œé¢åº”ç”¨ï¼Œä½¿ç”¨javascriptï¼Œhtmlå’Œcssæ¸²æŸ“è§†å›¾ã€‚ ç²¾ç®€ç‰ˆç†è§£æ‰€ä»¥ä½ èƒ½æŠŠå®ƒçœ‹ä½œæˆä¸€ä¸ªè¢« JavaScript æ§åˆ¶çš„ï¼Œç²¾ç®€ç‰ˆçš„ Chromium æµè§ˆå™¨ã€‚ electronåº”ç”¨1) å…ˆåˆå§‹åŒ–ä¸€ä¸ªnodeåº”ç”¨1npm init -y è¿™æ ·å°±ç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶ 12345&#123; "name": "your-app", "version": "0.1.0", "main": "index.js",&#125; 2) mainæŒ‡å®šnodeç¨‹åºçš„ä¸»å…¥å£ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå°±åŠ è½½å½“å‰æ ¹ç›®å½•ä¸‹çš„index.js12345&#123; "name": "your-app", "version": "0.1.0", "main": "main.js" // ä¿®æ”¹ç¨‹åºçš„ä¸»å…¥å£&#125; 3) é€šè¿‡npmçš„node package managerå®‰è£…electronåŒ…1npm install --save-dev electron 4) æ·»åŠ scriptsè„šæœ¬å¼•å¯¼nodeå»æ‰§è¡Œå½“å‰çš„electronåº”ç”¨12345678&#123; "name": "your-app", "version": "0.1.0", "main": "main.js", "scripts":&#123; "start":"electron ." &#125;&#125; 5) æœ¬åœ°å¼€å‘å¯ä»¥ä½¿ç”¨nodemon(node monitor)æ¥ç›‘å¬æœ¬åœ°æ–‡ä»¶å˜åŒ–è§¦å‘çƒ­æ›´æ–°1234567891011// å®‰è£…nodemonnpm install nodemon -D // ç¼–å†™npmè„šæœ¬ &#123; "name": "your-app", "version": "0.1.0", "main": "main.js", "scripts":&#123; "start":"nodemon --watch main.js --exec electron ." // ç›‘å¬main.jsæ–‡ä»¶å˜åŒ–åæ‰§è¡Œelectron . &#125;&#125; é¡¹ç›®æ­å»º å¯ä»¥ä½¿ç”¨ electron-forgeçš„è„šæ‰‹æ¶cliå·¥å…·åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ï¼Œç„¶åä½¿ç”¨electron-builderå°†ç¨‹åºæ‰“åŒ…æˆä¸åŒçš„å®‰è£…åŒ… 12345678910// å®‰è£…prebuildä¾èµ–npm install electron-prebuilt-compile -g --registry=https://registry.npm.taobao.org// å®‰è£…npm i electron-forge -g --registry = https: //registry.npm.taobao.org// inité¡¹ç›®electron-forge init my-first-electron// cd cd my-first-electron// runnpm start ä¹Ÿå¯ä»¥cloneå®˜æ–¹çš„electron-quick-starté¡¹ç›®ï¼Œnpm install&amp;&amp;npm startå°±å¯ä»¥è·‘èµ·æ¥ä¸€ä¸ªç®€å•çš„electroné¡¹ç›® åº”ç”¨æ¶æ„mainProcess ä¸»è¿›ç¨‹ åœ¨package.jsonä¸­é…ç½®çš„mainè„šæœ¬å°±æ˜¯ä¸€ä¸ªä¸»è¿›ç¨‹ electronåº”ç”¨æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸»è¿›ç¨‹ ä¸»è¿›ç¨‹é€šè¿‡nodejsçš„apiå¯ä»¥è°ƒç”¨åº•å±‚åŸç”Ÿapiï¼ˆæ™®é€šæµè§ˆå™¨åœ¨æ²™ç›’æ¨¡å‹ä¸­æ— æ³•è®¿é—®æ“ä½œç³»ç»Ÿçš„åŸç”Ÿèµ„æºï¼‰ å¯ä»¥é€šè¿‡ipcMainå’Œæ¸²æŸ“ç°æˆé€šä¿¡ å¯ä»¥æ“ä½œnodejså’Œdomçš„apirenderProcess æ¸²æŸ“è¿›ç¨‹ å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¸²æŸ“è¿›ç¨‹ å¯ä»¥æ“ä½œnodejså’Œdomçš„api å¯ä»¥é€šè¿‡ipcRendererå’Œä¸»è¿›ç¨‹é€šä¿¡ ä»£ç æ¼”ç¤º1234567891011121314151617181920212223242526// ä¸»è¿›ç¨‹const &#123;app,BrowserWindow&#125; = require('electron') // åªèƒ½åœ¨ä¸»è¿›ç¨‹ä¸­ä½¿ç”¨app.on('ready',()=&gt;&#123; const mainWindow = new BrowserWindow(&#123; // ä¸»è¿›ç¨‹ä½¿ç”¨ BrowserWindow å®ä¾‹åˆ›å»ºé¡µé¢ width:800, height:600 &#125;) mainWindow.loadFile('./index.html') // æ¯ä¸ª BrowserWindow å®ä¾‹éƒ½åœ¨è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹é‡Œè¿è¡Œé¡µé¢&#125;)// index.html&lt;body&gt; &lt;div id="content"&gt;æš‚æ— æ•°æ®&lt;/div&gt; &lt;button id="btn"&gt;ç‚¹æˆ‘&lt;/button&gt;&lt;/body&gt;&lt;script&gt; require('./index.js') // æ¸²æŸ“è¿›ç¨‹,ä½¿ç”¨nodejsçš„api&lt;/script&gt;// index.jsconst &#123;BrowserWindow&#125; = require('electron').remote; // é€šè¿‡remoteå¯ä»¥åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å¼•å…¥BrowserWindowåˆ›å»ºé¡µé¢ç­‰ä»·äºconst &#123;remote&#125; = require('electron')const &#123;BrowserWindow&#125; = remote;const renderWindow = new BrowserWindow() ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹è§ï¼šåœ¨ä¸»è¿›ç¨‹ä¸­é€šè¿‡electron.BrowserWindowåˆ›å»ºäº†æ¸²æŸ“è¿›ç¨‹çš„å®ä¾‹é¡µé¢ ä¸»çº¿ç¨‹å’Œæ¸²æŸ“çº¿ç¨‹é€šä¿¡ é€šè¿‡ipcMainå’ŒipcRendererçš„äº‹ä»¶ 12345678910111213141516171819// ä¸»è¿›ç¨‹const &#123;app,BrowserWindow,ipcMain&#125; = require('electron')app.on('ready',()=&gt;&#123;const mainWindow = new BrowserWindow(&#123; width:800, height:600 &#125;) mainWindow.send('sendToRenderProcess','i am from mainProcess') // ä¸»è¿›ç¨‹å‘é€äº‹ä»¶&#125;)æˆ–è€…// ç›‘å¬ä»æ¸²æŸ“è¿›ç¨‹å‘é€è¿‡æ¥çš„äº‹ä»¶ipcMain.on('sendFromRender',(event,arg)=&gt;&#123; // å‘æ¸²æŸ“è¿›ç¨‹å‘é€äº‹ä»¶ event.render.send('sendToRenderProcess','i am from mainProcess')&#125;)ipcMain.on('sendFromRenderProcess',(event,msg)=&gt;&#123; console.log(msg) // i am from renderProcess&#125;) è¿™æ ·ä¸»è¿›ç¨‹mainProcessçš„æ¶ˆæ¯å°±å‘é€ç»™æ¸²æŸ“è¿›ç¨‹renderProcessäº† 12345678const &#123;ipcRenderer&#125; = require('electron')// æ¸²æŸ“é€‰ä¸­çš„åˆ—è¡¨ipcRenderer.on('sendToRenderProcess', (event, msg) =&gt; &#123;// æ¥æ”¶ä»ä¸»è¿›ç¨‹å‘é€è¿‡æ¥çš„äº‹ä»¶ console.log(msg) // i am from mainProcess // å‘ä¸»è¿›ç¨‹å‘é€äº‹ä»¶ ipcRenderer.send('sendFromRenderProcess','i am from renderProcess')&#125;)]]></content>
      <categories>
        <category>electron</category>
        <category>åŸºäºnodejså’Œchromiumçš„è·¨å¹³å°æ¡Œé¢åº”ç”¨</category>
      </categories>
      <tags>
        <tag>electron</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ7ï¼‰- æ—¥å¿—ç®¡ç†]]></title>
    <url>%2F2019%2F11%2F27%2Fnodejs-7%2F</url>
    <content type="text"><![CDATA[æ—¥å¿—æ˜¯ä¸€ä¸ªåå°æœåŠ¡çš„çœ¼ç›ï¼Œä¸€æ—¦ç³»ç»Ÿå‡ºç°äº†é—®é¢˜ï¼Œç³»ç»Ÿçš„æ—¥å¿—å°±èƒ½å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½é—®é¢˜ï¼Œæ‰€ä»¥æ—¥å¿—æ˜¯éå¸¸é‡è¦çš„ï¼Œæœ¬ç« å°±åœ¨nodejsçš„fsæ¨¡å—çš„åŸºç¡€ä¸Šï¼Œè®²è§£æ—¥å¿—ç®¡ç†â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âŒ] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âœ”] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ æ—¥å¿—åˆ†ç±» è®¿é—®æ—¥å¿— - access log ï¼ˆseverç«¯æœ€é‡è¦çš„æ—¥å¿—ï¼‰ è‡ªå®šä¹‰æ—¥å¿— - åŒ…æ‹¬è‡ªå®šä¹‰äº‹ä»¶event log/é”™è¯¯æ—¥å¿—error logç­‰ æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨ - æ–‡ä»¶å­˜å‚¨ æ—¥å¿—æ–‡ä»¶å¾ˆå¤§ï¼Œä¸ºäº†cpuå’Œå­˜å‚¨çš„æ–¹ä¾¿ï¼Œä¸å¯èƒ½å­˜å‚¨åœ¨redisä¸­ï¼Œå› ä¸ºredisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¤ªæ¶ˆè€—å†…å­˜ï¼Œå½±å“æ€§èƒ½ï¼Œæˆæœ¬å¤ªé«˜ mysqlé€‚åˆäºè¡¨ç»“æ„ç±»å‹æ•°æ®çš„å­˜å‚¨ï¼Œæ—¥å¿—æ–‡ä»¶è®°å½•çš„å†…å®¹ä¸å¤ªé€‚åˆã€‚ nodejsçš„æ–‡ä»¶æ“ä½œ åŸºæœ¬çš„æ–‡ä»¶æ“ä½œreadFile/writeFile å¼‚æ­¥çš„æ“ä½œ123456789101112131415161718192021222324252627const fs = require('fs') // è¯»å–æ–‡ä»¶çš„fsæ¨¡å—const path = require('path') //è·¨æ“ä½œç³»ç»Ÿæ‹¼æ¥æ–‡ä»¶è·¯å¾„// æ–‡ä»¶è¯»å–const filename = path.resolve(__dirname, 'file1.txt');fs.readFile(filename,(error,data)=&gt;&#123; if(error)&#123; console.log(error) return &#125; console.log(data.toString()) // å°†æµæ–‡ä»¶è½¬æ¢æˆå­—ç¬¦ä¸²æ‰“å°&#125;)// æ–‡ä»¶å†™å…¥const content = 'è¿™æ˜¯å†™å…¥çš„å†…å®¹'const opt = &#123; flag:'a' // aæ˜¯appendç´¯åŠ å†™å…¥ï¼Œwæ˜¯writeè¦†ç›–&#125;fs.writeFile(filename,content,opt,error=&gt;&#123; if(error)&#123; console.log(error) &#125;&#125;)// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨fs.isExist(filename,(isExist)=&gt;&#123; console.log(isExist) // true ã€false&#125;) nodejs streamæµ å› ä¸ºæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè€Œä¸”ä¸ç®¡æ˜¯æ–‡ä»¶ioè¿˜æ˜¯ç½‘ç»œioéƒ½å®¹æ˜“é˜»å¡ï¼Œè€Œä¸”å¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ—¥å¿—ä¸­ä½¿ç”¨streamæµçš„æ–¹å¼è¿›è¡Œ: æ ‡å‡†è¾“å…¥è¾“å‡º 1process.stdin.pipe(process.stdout) reqå’Œreséƒ½æ˜¯æ”¯æŒstreamçš„æ–¹å¼ 12345678// stream å®ç°ç½‘ç»œioä¼ è¾“const http = require('http')const server = http.createServer((req,res)=&gt;&#123; if(req.method === 'POST')&#123; req.pipe(res) // postè¯·æ±‚ä¸­postDataä¼ å…¥çš„æ•°æ®å°±ä¼šåœ¨resä¸­ç›´æ¥è¿”å› &#125;&#125;)server.listen(3000) æµçš„ioæ“ä½œï¼šfs.createReadStream(filename)/fs.createWriteStream(filename) 1234567891011121314151617// streamå®ç°æ–‡ä»¶ioæ“ä½œconst fs = require('fs')const path = require('path')const file1 = path.resolve(__dirname,'file1.txt')const file2 = path.resolve(__dirname,'file2.txt')const readStream = fs.createReadStream(file1)const writeStream = fs.createWriteStream(file2)readStream.pipe(writeStream) // è¯»å–file1ä¸­çš„æ–‡ä»¶å¹¶é€šè¿‡streamæµçš„æ–¹å¼ä¸€ç‚¹ä¸€ç‚¹å†™å…¥file2// è·Ÿè·å–postDataä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸ªdata/endäº‹ä»¶ä¸ºæ–‡ä»¶è¯»å–çš„æ•°æ®å’Œè¯»å–å®ŒæˆreadStream.on('data',chunk=&gt;&#123; console.log(chunk.toString())&#125;)readStream.on('end',()=&gt;&#123; console.log('finished')&#125;) 1234567891011const http = require('http')const fs = require('fs')const path = require('path')const file1 = path.resolve(__dirname,'file1.txt')const readStream = fs.createReadStream(file1)const server = http.createServer((req,res)=&gt;&#123; if(req.method === 'get')&#123; readStream.pipe(res) // æ–‡ä»¶ioè¯»å–æ–‡ä»¶é€šè¿‡ç½‘ç»œioä¼ è¾“åˆ°æµè§ˆå™¨è¿”å›æ•°æ® &#125;&#125;)server.listen(3000) æ—¥å¿—åŠŸèƒ½çš„å¼€å‘å’Œä½¿ç”¨123456789101112131415161718192021222324// logsconst fs = require('fs')const path = require('path')const createWriteStream = (filename)=&gt;&#123; const fullFileName = path.join(__dirname,'../','../','logs',filename) const writeStream = fs.createWriteStream(fullFileName,&#123; flag:'a' &#125;) return writeStream&#125;const writeStream = createWriteStream('access.log');const access = (log)=&gt;&#123; if(process.env.NODE_ENV ==='dev')&#123; console.log(log) // æœ¬åœ°å¼€å‘æ‰“å°å‡ºæ¥ &#125;else&#123; writeStream.write(log + '\n') // çº¿ä¸Šç¯å¢ƒå†™å…¥æ—¥å¿— &#125;&#125;module.exports = &#123; access&#125; // serverHandler1access(`$&#123;req.method&#125; -- $&#123;req.url&#125; -- $&#123;req.headers['user-agent']&#125; -- $&#123;Date.now&#125; `) æ—¥å¿—æ–‡ä»¶çš„æ‹†åˆ†ï¼ˆæœåŠ¡å™¨ç¯å¢ƒä¸€èˆ¬é€šè¿‡å®šæ—¶ä»»åŠ¡æŒ‰ç…§æ—¥æœŸè¿›è¡Œæ‹†åˆ†ï¼‰ æ—¥å¿—æ–‡ä»¶ç´¯è®¡çš„è¯ï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ä¸å¥½ç»´æŠ¤ï¼Œè€Œä¸”è¿›è¡Œæ—¥å¿—åˆ†æï¼Œä¸€èˆ¬æ˜¯æŒ‰ç…§æ—¥æœŸä¸€å¤©ä¸€å¤©çš„åˆ†æï¼Œæ‰€ä»¥æŒ‰ç…§ä¸€å¤©æˆ–è€…ä¸€å°æ—¶ä¸ºç»´åº¦æ‹†åˆ†æ—¥å¿—å¾ˆæœ‰å¿…è¦ åœ¨linuxé€šè¿‡crontabå‘½ä»¤å®šæ—¶ä»»åŠ¡æ¥æ‹†åˆ†æ—¥å¿— 12// è®¾ç½®å®šæ—¶ä»»åŠ¡çš„æ ¼å¼ï¼š***** command ï¼ˆ*åˆ†åˆ«ä»£è¡¨åˆ†é’Ÿï¼Œå°æ—¶ï¼Œæ—¥æœŸï¼Œæœˆä»½ï¼Œæ˜ŸæœŸå‡ ï¼‰å¦‚æœä¸º*åˆ™å¿½ç•¥ï¼Œå¦åˆ™åˆ™ä¸€ä¸ªå•å…ƒæ‰§è¡Œä¸€æ¬¡ï¼Œä¾‹å¦‚ 1 **** commandæ„æ€ä¸ºæ¯1åˆ†é’Ÿæ‰§è¡Œè¿™ä¸ªshellè„šæœ¬commandå‘½ä»¤ï¼Œ21***ä¸ºæ¯å¤©ç¬¬ä¸€ä¸ªå°æ—¶ç¬¬äºŒåˆ†é’Ÿæ‰§è¡Œ å°†access.logæ¯å¤©æ‹·è´å¹¶é‡å‘½åä¸ºyyyy-mm-dd.access.logå¹¶æ¸…ç©ºaccess.logç»™æ˜å¤©ç»§ç»­ä½¿ç”¨ 123456789// copy.sh#!/bin/sh cd logcp access.log $(date +%Y-%m-%d-%H).access.logecho "" &gt; access.logcrontab -e // è¿›å…¥ç¼–è¾‘æ¨¡å¼* 0 * * * sh ../xx/xxx/xxx/copy.sh // æ¯å¤©ç¬¬0å°æ—¶æ‰§è¡Œshè„šæœ¬ æ—¥å¿—åˆ†æ æ—¥å¿—æ˜¯æŒ‰è¡Œå­˜å‚¨çš„ï¼Œä¸€è¡Œå°±æ˜¯ä¸€æ¡æ—¥å¿— ä½¿ç”¨nodejsçš„readline(åŸºäºstreamï¼Œæ•ˆç‡é«˜)æ¥é€è¡Œåˆ†ææ—¥å¿— 1234567891011121314151617181920212223242526272829303132const fs = require('fs')const path = require('path')const readline = require('readline')// æ—¥å¿—æ–‡ä»¶åconst fileName = path.join(__dirname,'../','../','logs',access.log)// åˆ›å»ºreadStreamconst readStream = fs.createReadStream(filename)// åˆ›å»ºreadlineå¯¹è±¡const rl = readline.createInterface(&#123; input:readStream&#125;)let rowSum = 0let getSum = 0 // getè¯·æ±‚æ•°// å¼€å§‹è¯»å–æ–‡ä»¶rl.on('line',lineData=&gt;&#123; if(!lineData)&#123; return &#125; rowSum++; const arr = lineData.split('--'); if(arr[0]&amp;&amp;arr[0]==='GET')&#123; getSum ++ &#125;&#125;)// ç›‘å¬è¯»å–æ–‡ä»¶å®Œæˆrl.on('close',()=&gt;&#123; if(rowSum)&#123; console.log('getè¯·æ±‚å æ¯”'ï¼Œ(getSum/rowSum).toFix(2)) &#125;&#125;) æ€»ç»“é€šè¿‡fsçš„streamå°±å®Œæˆäº†ç½‘ç»œioå’Œæ–‡ä»¶ioçš„æ—¥å¿—ï¼Œå·²ç»é€šè¿‡linuxçš„å®šæ—¶ä»»åŠ¡å®Œæˆæ—¥å¿—æ‹†åˆ†ï¼Œé€šè¿‡fsçš„readlineå®Œæˆäº†æ—¥å¿—åˆ†æâ€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (7) - æ—¥å¿—ç®¡ç†</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ7ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ6ï¼‰- nginxåå‘ä»£ç†]]></title>
    <url>%2F2019%2F11%2F27%2Fnodejs-6%2F</url>
    <content type="text"><![CDATA[åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå°±å®Œæˆäº†ç™»é™†ï¼Œéœ€è¦ç”¨http-serveråœ¨ä¸€ä¸ªç«¯å£ï¼ˆä¾‹å¦‚8000ç«¯å£ï¼‰æ‹‰èµ·htmlçš„é™æ€é¡µé¢ï¼Œç„¶åå†htmlä¸­è®¿é—®æˆ‘ä»¬ä½¿ç”¨nodejså†™çš„åå°ç¨‹åº(ä¾‹å¦‚8081ç«¯å£)è¿›è¡Œå‰åç«¯è”è°ƒï¼Œå› ä¸ºç«¯å£ä¸ä¸€è‡´ï¼Œhttpè¯·æ±‚æ—¶è·¨åŸŸçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨nginxåšåå‘ä»£ç†ï¼Œæ¥è§£å†³è·¨åŸŸçš„é—®é¢˜â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âŒ] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âœ”] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ nginxç®€ä»‹ 1.nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„WebæœåŠ¡å™¨å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä½œä¸ºç”µå­é‚®ä»¶ä»£ç†æœåŠ¡å™¨ã€‚ 2.åœ¨è¿æ¥é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œnginxæ˜¯ApacheæœåŠ¡ä¸é”™çš„æ›¿ä»£å“ï¼Œèƒ½å¤Ÿæ”¯æŒé«˜è¾¾ 50,000 ä¸ªå¹¶å‘è¿æ¥æ•°çš„å“åº”ã€‚ 3.ä¸€èˆ¬åšé™æ€æœåŠ¡å’Œè´Ÿè½½å‡è¡¡. æ­£å‘ä»£ç†ä¸åå‘ä»£ç† 1.åå‘ä»£ç†:å¯¹å®¢æˆ·ç«¯ä¸å¯è§çš„ä»£ç†æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨(ä¾‹å¦‚nginxæœåŠ¡å™¨)æ¥æ¥å—Internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›åˆ°Internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚ 2.æ­£å‘ä»£ç†ï¼šå®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶çš„ä»£ç†æ­£å‘ä»£ç†ï¼Œæ˜¯åœ¨ç”¨æˆ·ç«¯çš„ã€‚æ˜¯æŒ‡ç”¨æˆ·æ— æ³•è®¿é—®æŸç½‘ç«™ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®æŸä»£ç†æœåŠ¡å™¨ï¼Œè€Œä»£ç†æœåŠ¡å™¨å¯ä»¥è®¿é—®è¯¥ç½‘ç«™ã€‚äºæ˜¯ç”¨æˆ·é€šè¿‡è®¿é—®ä»£ç†æœåŠ¡å™¨å»è®¿é—®è¯¥ç½‘ç«™ï¼Œä»£ç†æœåŠ¡å™¨æŠŠå“åº”ä¿¡æ¯è¿”å›ç»™ç”¨æˆ·ã€‚ 3.åå‘ä»£ç†ä¸­ç”¨æˆ·è®¿é—®çš„IPå’Œç«¯å£æ˜¯nginxæœåŠ¡å™¨çš„ï¼Œä¸çŸ¥é“æä¾›æœåŠ¡çš„åº•å±‚æœåŠ¡å™¨ï¼Œåº•å±‚æœåŠ¡å™¨åœ¨å†…ç½‘ä¸­ï¼Œå¯¹å¤–å…¬å¼€çš„æ˜¯nginxæœåŠ¡å™¨ï¼Œnginxå……å½“ä¸­é—´å±‚ã€‚ 4.è€Œæ­£å‘ä»£ç†ä¸­ç”¨æˆ·æ˜¯çŸ¥é“ç›®æ ‡æœåŠ¡å™¨çš„åŸŸåä¿¡æ¯çš„ï¼Œåªæ˜¯è¿«äºç½‘ç»œçš„é™åˆ¶æ— æ³•è®¿é—®ï¼Œå¦‚æœ€å¸¸è§çš„è®¿é—®å¤–ç½‘ã€‚ é…ç½®nginx1234nginx -t //æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®nginx -s reload nginx startnginx stop å¯ä»¥å†windowä¸‹é…ç½®batç»“å°¾çš„è„šæœ¬æ–‡ä»¶ start.bat 12345@ECHOstart nginx.exepause stop.bat 12345@ECHO nginx -s stop pause é…ç½®nginx.confæ–‡ä»¶1234567891011121314151617181920212223242526272829303132# cpuå¤šæ ¸çš„è¯å¯ä»¥å¯åŠ¨å¤šä¸ªå®ä¾‹worker_processes 4;# blogç³»ç»Ÿæµ‹è¯•nginxé…ç½® server &#123; # ç›‘å¬nginxçš„8000ç«¯å£ listen 8000; server_name localhost; # httpè¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯65sã€‚ä¸Šä¼ æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œåœ¨è§„å®šæ—¶é—´æœªä¸Šä¼ å®Œæˆï¼Œä¼šè‡ªåŠ¨æ–­å¼€è¿æ¥ keepalive_timeout 100; client_header_timeout 120s; #è°ƒå¤§ç‚¹ client_body_timeout 120s; #è°ƒå¤§ç‚¹ client_max_body_size 500m; #ä¸»è¦æ˜¯è¿™ä¸ªå‚æ•°ï¼Œé™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶å¤§å¤§å° # ui location / &#123; root H:\\nodejs\\blog-client; index index.html index.htm; # é™æ€htmlæ–‡ä»¶ä»£ç†åˆ°8001ç«¯å£ proxy_pass http://localhost:8001; &#125; # api location /api/ &#123; # nodejsçš„åå°æœåŠ¡èµ·åœ¨8000ç«¯å£ proxy_pass http://localhost:8000; # ä»£ç†ä¹‹åæŠŠhostä¼ è¿‡æ¥ proxy_set_header Host $host; &#125; &#125; æ€»ç»“åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨é€šè¿‡è®¿é—®nginxæœåŠ¡å™¨çš„http://localhost:8888è®¿é—®åˆ°è¿™ä¸ªåšå®¢é¡¹ç›®äº†ï¼Œç„¶ånginxç›‘å¬8888ç«¯å£,å°†å‰ç«¯htmlé¡µé¢ä»£ç†åˆ°http:localhost:8081ä¸Šèµ·çš„http-serveræ‹‰èµ·çš„é™æ€é¡µé¢,ç„¶åé™æ€é¡µé¢è®¿é—®localhost:8888/api/xxx/xxxçš„æ¥å£çš„æ—¶å€™ï¼Œåˆè¢«nginxä»£ç†åˆ°localhost:8000/api/xxx/xxxä¸Šçš„nodejsè¿›ç¨‹æ‹‰èµ·çš„serverä¸Šã€‚å› ä¸ºè·¨åŸŸåªæ˜¯é’ˆå¯¹å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨çš„ï¼Œç°åœ¨é€šè¿‡nginxæœåŠ¡å™¨åå‘ä»£ç†ï¼ŒnginxæœåŠ¡å™¨è®¿é—®åˆ«çš„æœåŠ¡å™¨å°±ä¸å­˜åœ¨è·¨åŸŸé™åˆ¶äº†â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (6) -  nginxåå‘ä»£ç†</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ6ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ5ï¼‰- cookie-sessionç™»é™†æ ¡éªŒ - ä¸‹]]></title>
    <url>%2F2019%2F11%2F26%2Fnodejs-5%2F</url>
    <content type="text"><![CDATA[åœ¨ä¸Šä¸€ç« cookie-sessionç™»é™†æ ¡éªŒ - ä¸Šä¸­å·²ç»å®ç°äº†é€šè¿‡cookieæºå¸¦ç”¨æˆ·çš„usernameä¿¡æ¯ï¼Œç„¶ååœ¨ä¸šåŠ¡ä¸­åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ï¼Œæ˜¯å¦æœ‰æƒé™æ“ä½œç­‰åŠŸèƒ½ï¼›ä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼š cookieä¸­å­˜å‚¨äº†ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯ cookieä¸­æ˜æ–‡å­˜å‚¨äº†ç”¨æˆ·çš„usernameï¼Œusernameä¸å…‰æ˜¯ç”¨æˆ·åï¼Œå¯èƒ½æ˜¯ç”¨æˆ·çš„æ‰‹æœºå·ï¼Œé‚®ç®±ç­‰ä¿¡æ¯ï¼Œåœ¨nodejsæ“ä½œmySqlæ•°æ®åº“ä¸­æˆ‘ä»¬è®²è¿‡sqlæ³¨å…¥å°±æ˜¯å› ä¸ºçŸ¥é“äº†ç”¨æˆ·çš„usernameç»•è¿‡å¯†ç å°±å®Œæˆäº†ç”¨æˆ·ç™»é™†ã€‚ æ‰€ä»¥æœ¬ç« èŠ‚æ¥ä»‹ç»cookie-sessionæœºåˆ¶æ¥å®Œæˆç”¨æˆ·çš„ç™»é™†å’Œç™»é™†ä¿¡æ¯å­˜å‚¨â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âœ”] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âœ”] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ å®ç°æ€»è§ˆ åˆ¤æ–­cookieä¸­æ˜¯å¦å­˜åœ¨sessionIdï¼Œä¸å­˜åœ¨ç”Ÿæˆéšæœºçš„sessionId,åˆå§‹åŒ–æœ¬åœ°req.sessionå’Œredisä¸­æ ¹æ®sessionIdä¸ºkeyçš„sessionæ•°æ® åœ¨routerä¸­æ‹¦æˆªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¦‚æœè·¯ç”±åŒ¹é…æˆåŠŸï¼Œè®¾ç½®cookie- res.setHeader(â€˜Set-Cookieâ€™,userid=${req.sessionId}; path=/; httpOnly; expires=${getCookieExpires()}) åœ¨ç™»é™†loginæ¥å£è°ƒç”¨æˆåŠŸåï¼Œä»mysqlæ•°æ®åº“ä¸­è¯»å–ä½†é’±ç™»é™†ç”¨æˆ·æ•°æ®ï¼Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯åˆ°æœ¬åœ°req.sessionå¹¶åŒæ­¥æ›´æ–°redis ä½¿ç”¨nodejsè¿æ¥redisæ•°æ®åº“ è·Ÿmysqlä¸€èµ·æ ¹æ®nodeçš„ç¯å¢ƒå˜é‡é…ç½®çº¿ä¸Šå’Œçº¿ä¸‹redisçš„ç¯å¢ƒï¼Œç„¶åå¯¹redisçš„å†™å…¥å’Œè¯»å–æ–¹æ³•è¿›è¡Œå°è£…ï¼Œæ³¨æ„å­˜å…¥redisçš„æ•°æ®éœ€è¦åºåˆ—åŒ–ï¼Œè¯»å–çš„æ—¶å€™ä¹Ÿè¦åˆ¤æ–­æ˜¯å¦éœ€è¦ååºåˆ—åŒ–. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 // å¼•å…¥redisconst redis = require('redis')let REDIS_CONFIG = &#123;&#125;// è·å–nodeçš„ç¯å¢ƒå˜é‡const env = process.env.NODE_ENV// æ ¹æ®çº¿ä¸Šçº¿ä¸‹åœ°å€è·å–redisçš„é…ç½®if (env === 'dev') &#123; REDIS_CONFIG = &#123; host: 'localhost', port: '6379' &#125;&#125; else &#123; REDIS_CONFIG = &#123; host: 'localhost', port: '6379' &#125;&#125;const PORT = REDIS_CONFIG.portconst HOST = REDIS_CONFIG.HOST// const redisClient = redis.createClient(PORT, HOST)redisClient.on('error', err =&gt; &#123; console.log(err)&#125;)// ä¿å­˜æ•°æ®åˆ°rediså¹¶åºåˆ—åŒ–const saveInRedis = (key, value) =&gt; &#123; if (typeof value === 'Object') &#123; redisClient.set(key, JSON.stringify(value)) return &#125; redisClient.set(key, value, redis.print)&#125;//è·å–redisçš„æ•°æ®å¹¶ä¸”ååºåˆ—åŒ–const getFromRedis = (key) =&gt; &#123; redisClient.get(key, (err, val) =&gt; &#123; if (err) &#123; console.log(err) return &#125; return JSON.parse(val) // redisClient.quit() &#125;)&#125;module.exports = &#123; saveInRedis, getFromRedis&#125; å¤„ç†sessioncookieä¸­å­˜å‚¨ä¸€ä¸ªsessionIdæ¥ä»£æ›¿æ•æ„Ÿä¿¡æ¯username123456789101112131415161718192021222324// æ ‡è¯†ç”Ÿæˆçš„sessionIdæ˜¯å¦è¦å­˜å…¥cookielet needSetCookie = false;// åˆ¤æ–­cookieæ˜¯å¦å·²ç»å­˜åœ¨sessionIdlet userId = req.cookie.userId;if(!userId)&#123; needSetCookie = true; // æ–°ç”Ÿæˆçš„æ‰è¦å­˜å…¥ // ä¸å­˜åœ¨ç”Ÿæˆä¸€ä¸ª userId = `$&#123;Date.now()&#125;_$&#123;Math.random()&#125;` // åˆå§‹åŒ–session saveInRedis(userId, &#123;&#125;)&#125;req.sessionId = userId;getFromRedis(req.sessionId).then(sessionData =&gt; &#123; if (sessionData == null) &#123; // åˆå§‹åŒ–session saveInRedis(userId, &#123;&#125;) req.session = &#123;&#125; &#125; else &#123; req.session = sessionData; &#125; console.log('req.session', req.session) // å¤„ç†postè¯·æ±‚å¼‚æ­¥çš„bodyä¸­æºå¸¦çš„æ•°æ® return getPostBodyData(req) &#125;) åœ¨è·¯ç”±æ‹¦æˆªå™¨ä¸­æ ¹æ®needSetCookieæ ‡è¯†è®¾ç½®cookie å› ä¸ºè¿™ä¸ªserverHandleræ˜¯æ‰€æœ‰è¯·æ±‚çš„å…¥å£ï¼Œè¿™æ ·å°±æ˜¯åªæœ‰å½“è·¯ç”±è¢«æ‹¦æˆªçš„æ—¶å€™æ‰ä¼šå†™å…¥cookieè¿›è¡Œå­˜å‚¨ï¼Œ404ç­‰å¼‚å¸¸çš„æ—¶å€™ä¸å­˜å‚¨cookie åœ¨ç™»é™†çš„æ—¶å€™è®¾ç½®cookie ç™»é™†æˆåŠŸåè®¾ç½®sessionåˆ°æœ¬åœ°req.sessionå¹¶å­˜å…¥redisä¸­ æµ‹è¯•ä¸€ä¸‹ ä¸ç™»é™†è®¿é—®ä¸€ä¸ªlogin-test ç™»é™†ä¹‹å æŸ¥çœ‹redisä¸­å­˜å‚¨çš„æ•°æ® å†æµ‹è¯•ä¸€ä¸‹login-testï¼Œæ‰“å°session æ€»ç»“åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±é€šè¿‡cookieä¸­å­˜å‚¨äº†éšæœºæ•°sessionIdï¼Œç„¶åå°†ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯å­˜å‚¨å†redisä¸­ï¼Œå®ç°äº†ç™»é™†ä»¥åŠç™»é™†ä¿¡æ¯çš„å­˜å‚¨ã€‚è¿™ä¸ªå°±æ˜¯cookie-sessionæœºåˆ¶ç³»ç»Ÿç™»é™†ä¸­çš„å®ç°â€¦.ç°åœ¨æ¯”è¾ƒå¸¸ç”¨çš„è¿˜æœ‰ä¸€ç§æ˜¯JWTçš„æ–¹å¼(JSON WEB TOKEN),å®ƒçš„ä¸»è¦å¥½å¤„å°±æ˜¯æœåŠ¡å™¨ä¸å­˜å‚¨tokenä¿¡æ¯ï¼Œå…¨éƒ¨å­˜å‚¨å†æµè§ˆå™¨ç«¯ï¼Œç„¶åæ¯æ¬¡è¯·æ±‚éƒ½ä¼šå°†ç™»å½•æ—¶ç”Ÿæˆçš„JWTä¿¡æ¯å¸¦å›æœåŠ¡å™¨ï¼Œè¿™æ ·æœåŠ¡å™¨ç«¯å°±å¯ä»¥å¤šæœåŠ¡å™¨éƒ¨ç½²çš„æ—¶å€™ä¸éœ€è¦redisåšæŒä¹…åŒ–â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (5) - cookie-sessionç™»é™†æ ¡éªŒ - ä¸‹</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ5ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ4ï¼‰- cookie-sessionç™»é™†æ ¡éªŒ - ä¸Š]]></title>
    <url>%2F2019%2F11%2F25%2Fnodejs-4%2F</url>
    <content type="text"><![CDATA[åœ¨ä¸Šä¸€ç« nodejsæ“ä½œmySqlæ•°æ®åº“å·²ç»å®ç°äº†åšå®¢ç³»ç»Ÿçš„åŸºæœ¬æ“ä½œï¼Œä½†æ˜¯æœ‰ä¸€äº›ç»†èŠ‚é—®é¢˜æˆ‘ä»¬è¿˜æ²¡æœ‰å¤„ç†ï¼Œä¾‹å¦‚ç”¨æˆ·ç™»é™†ä¹‹åè¦å­˜å‚¨ç™»é™†ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç„¶åç™»é™†äººåªèƒ½åˆ é™¤å’Œç¼–è¾‘è‡ªå·±åˆ›å»ºçš„åšå®¢ï¼Œè¿™å°±ç‰µæ‰¯åˆ°ç™»é™†çš„æ—¶å€™å¯¹å½“å‰ç™»é™†ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„å­˜å‚¨â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âœ”] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ cookie-session æœºåˆ¶ä»€ä¹ˆæ˜¯cookie?1)å­˜å‚¨åœ¨æµè§ˆå™¨çš„ä¸€æ®µå­—ç¬¦ä¸²(æœ€å¤§5kb) 2)è·¨åŸŸä¸å…±äº« 3)æ ¼å¼ä¸ºk1=v1;k2=v2; 4)æ¯æ¬¡å‘é€httpè¯·æ±‚ä¼šå°†è¯·æ±‚ä¸çš„cookieä¸€èµ·å‘é€ç»™server 5)serverç«¯å¯ä»¥ä¿®æ”¹cookieå¹¶è¿”å›ç»™æµè§ˆå™¨ 6)æµè§ˆå™¨ä¹Ÿå¯ä»¥é€šè¿‡jsä¿®æ”¹cookie(serverç«¯å¯ä»¥é™åˆ¶httpOnlyä¸è®©å®¢æˆ·ç«¯è¯»å–å’Œä¿®æ”¹cookie) 7)åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨document.cookieçš„æ–¹å¼è¿›è¡Œèµ‹å€¼å…¶å®æ˜¯ç´¯åŠ çš„è¿‡ç¨‹ã€‚ javascriptæ€ä¹ˆæ“ä½œå’ŒæŸ¥çœ‹cookie- æµè§ˆå™¨æŸ¥çœ‹cookieæœ‰ä¸‰ç§æ–¹å¼ 1)åœ¨networkä¸­çš„requesté‡Œé¢æŸ¥çœ‹cookie 2)åœ¨æ§åˆ¶å°document.cookieæŸ¥çœ‹cookie 3)åœ¨applicationä¸­çš„storage=&gt;cookiesä¸­æŸ¥çœ‹cookieï¼ˆname/value/domain/path/expire/max-ageï¼‰ serverç«¯nodejsæ€ä¹ˆæ“ä½œcookieå®ç°ç™»é™†éªŒè¯ æŸ¥çœ‹cookie:req.headers.cookie ä¿®æ”¹cookie res.setHeader(â€˜Set-Cookieâ€™,username=${userInfo[0].username};path=/;) ç™»é™†åè®¾ç½®cookie - res.setHeader(â€˜Set-cookieâ€™,username=${userInfo[0].username};path=/;) å› ä¸ºhttpåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œéœ€è¦é€šè¿‡ä¸Šé¢æ‰€è¯´çš„cookieæ¥æºå¸¦ä¸€äº›ç”¨æˆ·ä¿¡æ¯ï¼Œåœ¨å‰åç«¯é€šä¿¡çš„æ—¶å€™ï¼Œæ¥å¤„ç†ä¸€äº›é€»è¾‘ã€‚1234567891011121314151617const userRouterHandler = (req, res) =&gt; &#123; // ç”¨æˆ·ç™»é™†çš„æ¥å£ if (req.method === 'POST' &amp;&amp; req.path === `$&#123;interface&#125;$&#123;user&#125;$&#123;USER_LOGIN&#125;`) &#123; const &#123; username, password &#125; = req.body; let loginResult = login(username, password); return loginResult.then(userInfo =&gt; &#123; if (userInfo &amp;&amp; userInfo[0]) &#123; if (userInfo[0].username) &#123; // ------------------------------ç™»é™†æˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥cookie------------------------------------------ res.setHeader('Set-Cookie',`username=$&#123;userInfo[0].username&#125;;path=/;`) &#125; return new SuccessModal(userInfo, 'ç™»é™†æˆåŠŸ') &#125; return new ErrorModal('ç™»é™†å¤±è´¥') &#125;) &#125;&#125; ä»req.headers.cookieè·å–cookie1234567891011121314151617181920212223242526const serverHandler = (req, res) =&gt; &#123; // è®¾ç½®æ‰€æœ‰è¯·æ±‚çš„å“åº”å¤´ä¸ºjsonæ ¼å¼ res.setHeader('Content-type', 'application/json') // è§£æå®¢æˆ·ç«¯è¯·æ±‚çš„åŸºæœ¬æ•°æ® const method = req.method; const url = req.url; const queryString = querystring.parse(url.split('?')[1]); const path = url.split('?')[0] // æ‰©å±•reqçš„å‚æ•° req.path = path; req.query = queryString; // --------------------------------è§£æcookie---------------------------------------------- req.cookie = &#123;&#125;; const cookieStr = req.headers.cookie || '' cookieStr.split(';').forEach(element =&gt; &#123; if (!element) &#123; return &#125; const arr = element.split('=') const key = arr[0] const value = arr[1] req.cookie[key] = value &#125;);&#125; è¿™æ ·é€šè¿‡req.cookieå°±å¯ä»¥åœ¨cookieä¸­è·å–ç™»é™†çš„æ—¶å€™ç”¨æˆ·çš„usernameï¼Œæ¥åšä¸šåŠ¡åˆ¤æ–­ å­˜åœ¨çš„é—®é¢˜ï¼šç°åœ¨è™½ç„¶å¯ä»¥ä»reqä¸­è·å–cookieäº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜: cookieå¯ä»¥è¢«å®¢æˆ·ç«¯æµè§ˆå™¨ä¿®æ”¹ åœ¨æœ¬ç« å¼€å§‹çš„æ—¶å€™æˆ‘ä»¬è¯´è¿‡ä¸‰ç§å®¢æˆ·ç«¯æµè§ˆå™¨å¯ä»¥æŸ¥çœ‹cookieçš„åŠæ³•ï¼Œä¹Ÿåˆ†åˆ«è¯´äº†å®¢æˆ·ç«¯å’Œserverç«¯æ€ä¹ˆä¿®æ”¹cookieï¼Œæ‰€ä»¥ä¸ºäº†é˜²æ­¢cookieåœ¨å®¢æˆ·ç«¯è¢«ä¿®æ”¹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨httpOnlyå±æ€§é™åˆ¶cookieè¢«å®¢æˆ·ç«¯ä¿®æ”¹ 1res.setHeader('Set-Cookie',`username=$&#123;userInfo[0].username&#125;;path=/;httpOnly`) å½’çº³serverè¯»å–cookie: req.headers.cookieserverè®¾ç½®cookieï¼šres.setHeader(&#39;Set-Cookie&#39;,username=zhangsan;path=/;httpOnly)serverè¯»å–content-type:res.headers[&#39;content-type&#39;] // æ³¨æ„å¤§å°å†™serverè®¾ç½®content-type:req.setHeader(&#39;Content-type&#39;,&#39;application/json&#39;) æ€»ç»“åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ç™»é™†loginçš„æ¥å£ï¼Œå°†ç”¨æˆ·çš„usernameä¿¡æ¯å­˜å…¥åˆ°cookieä¸­ï¼Œå› ä¸ºhttpæ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥é€šè¿‡cookieä¸­å­˜å‚¨çš„usernameå°±å¯ä»¥å¢åŠ ä¸šåŠ¡åˆ¤æ–­ï¼›å¹¶ä¸”åå°è®¾ç½®çš„cookieé€šè¿‡httpOnlyçš„é™åˆ¶ï¼Œåªèƒ½é€šè¿‡åå°è®¾ç½®ä½¿ç”¨ï¼Œå®¢æˆ·ç«¯æ²¡æ³•document.cookieçš„jsæ–¹æ³•æŸ¥çœ‹å’Œä¿®æ”¹cookieä¸­å­˜å‚¨çš„ä¿¡æ¯ã€‚ç°åœ¨å­˜åœ¨çš„é—®é¢˜å°±æ˜¯cookieä¸­å­˜åœ¨ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯ï¼Œusernameå¯èƒ½æ˜¯ç”¨æˆ·çš„æ‰‹æœºæˆ–è€…é‚®ç®±åˆæˆ–è€…æ˜¯å…·ä½“çš„ç”¨æˆ·åï¼Œä¸‹ä¸€ç« èŠ‚æˆ‘ä»¬å°†é€šè¿‡åœ¨cookieä¸­ä»…ä»…å­˜å‚¨ä¸€ä¸ªsessionId,å®ƒæ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œç„¶åå°†æ•æ„Ÿä¿¡æ¯é€šè¿‡sessionIdå­˜å…¥redisä¸­æ¥è§„é¿è¿™äº›é—®é¢˜â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (4) - cookie-sessionç™»é™†æ ¡éªŒ - ä¸Š</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ4ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ3ï¼‰- nodejsæ“ä½œmySqlæ•°æ®åº“]]></title>
    <url>%2F2019%2F11%2F25%2Fnodejs-3%2F</url>
    <content type="text"><![CDATA[åœ¨ä¸Šä¸€ç« èŠ‚å¤„ç†httpè¯·æ±‚æˆ‘ä»¬å·²ç»å®Œæˆäº†åŸºæœ¬çš„httpå‚æ•°å¤„ç†ï¼Œå¹¶ä¸”æŠ½ç¦»äº†æ¨¡å—ï¼Œç°åœ¨æˆ‘ä»¬è¦ä½¿ç”¨nodejsé“¾æ¥mysqlæ•°æ®åº“ï¼Œå®Œæˆapiæ¥å£ä¸­çš„ä¸šåŠ¡å¤„ç†â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âœ”] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âœ”] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âŒ] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ æ•°æ®åº“åŸºæœ¬æ“ä½œ12345678910111213141516171819202122232425262728293031show databases; // æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“use databaseName; // ä½¿ç”¨æŸä¸€ä¸ªå…·ä½“çš„æ•°æ®åº“show tables; // æŸ¥çœ‹æ•°æ®åº“ä¸­æ‰€æœ‰çš„è¡¨select version(); // æŸ¥çœ‹æ•°æ®åº“çš„ç‰ˆæœ¬ä¸ç­‰äºä½¿ç”¨ä¸¤ä¸ªå°–æ‹¬å·&lt;&gt; // update users set state="1" where id&lt;&gt;4-- show databases; // mysqlä¸­ä½¿ç”¨ --å•è¡Œå¤‡æ³¨/*è¿™æ˜¯å¤šè¡Œå¤‡æ³¨*/`å…³é”®å­—éœ€è¦æ‹¬èµ·æ¥`// æ’å…¥insert into TableName (ColumnsA,columnB) values (ColumnAValue,ColumnBValue)// å…¨éƒ¨åˆ—æŸ¥è¯¢ï¼ˆæœ‰æ€§èƒ½é—®é¢˜ï¼Œä¸å»ºè®®ä½¿ç”¨*ï¼‰select * from TableName ;// å›ºå®šåˆ—æŸ¥è¯¢select ColumnA,columnB from TableName;// æ¡ä»¶æŸ¥è¯¢select ColumnA from TableName where Column='VALUE'; // select id from users where username='123'// å¤šæ¡ä»¶äº¤é›†æŸ¥è¯¢select ColumnA from TableName where ColumnB='valueB' and ColumnC="valueC"; // select id from users where username='123' and password='321'// å¤šæ¡ä»¶å¹¶é›†æŸ¥è¯¢select ColumnA from TableName where ColumnB='valueB' or ColumnC="valueC"; // select id from users where username='123' or password='321'// æ¨¡ç³ŠæŸ¥è¯¢select ColumnA from TableName where ColumnB like '%value%' // select * from users where username like '%zhang%'// æ’åºselect * from TableName order by Column desc // é™åº select * from users where password like '%23%' order by id desc;select * from TableName order by Column asc // å‡åº select * from users where password like '%23%' order by id asc;// æ›´æ–°update TableName set ColumnName='columnValue'// å¤šåˆ—æ›´æ–°(é€—å·åˆ†å‰²)update TableName set ColumnNameA='ColumnNameAValue',ColumnNameB="ColumnNameBValue"// åˆ é™¤delete from TableName where ColumnNameA='ColumnNameAValue' // delete from users where username='zhangsi' mysqlå¿˜è®°rootå¯†ç çš„è§£å†³åŠæ³• 1ï¼‰é¦–å…ˆåœ¨windowç³»ç»Ÿä¸‹çš„è¯C:\ProgramData\MySQL\MySQL Server 5.7æ‰¾æ‰“my.iniæ–‡ä»¶ï¼Œå¢åŠ  skip-grant-tables é€‰é¡¹å‰é¢æ›¾ç»ä»‹ç»è¿‡ï¼Œæ„æ€æ˜¯å¯åŠ¨ MySQL æœåŠ¡çš„æ—¶å€™è·³è¿‡æƒé™è¡¨è®¤è¯ã€‚ å¯åŠ¨åï¼Œè¿æ¥åˆ° MySQL çš„ root å°†ä¸éœ€è¦å£ä»¤ã€‚ 12// æ–‡ä»¶æœ€åå¢åŠ ä¸€å¥ skip-grant-tables 2)åœ¨mysqlå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹æ‰§è¡Œ mysql -u root -pï¼Œç„¶åä¸è¾“å…¥å¯†ç ç›´æ¥å›è½¦è¿›å…¥mysql. 3)ç”¨show databases; æŸ¥çœ‹æ•°æ®åº“,åœ¨å¼€å¤´è¯´è¿‡mysqlçš„å¯†ç å…¶å®æ˜¯ä¿å­˜åœ¨åä¸ºâ€œmysqlâ€çš„æ•°æ®åº“ä¸­ï¼Œæ‰€ä»¥åˆ‡æ¢åˆ°mysqlæ•°æ®åº“ã€‚ 1use mysql // åˆ‡æ¢åˆ°mysqlæ•°æ®åº“ 4)ä¿®æ”¹å¯†ç :è¿™é‡Œè¦æ ¹æ®ç‰ˆæœ¬æ¥æ‰§è¡Œä¸åŒçš„SQLè¯­å¥äº†ï¼Œå› ä¸ºç‰ˆæœ¬ä¸åŒï¼Œå­˜å‚¨å¯†ç çš„å­—æ®µå¯èƒ½ä¸ç›¸åŒã€‚5.7ä»¥å‰çš„ç‰ˆæœ¬å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥æ›´æ–°rootå¯†ç ï¼š 1update user set password = password('123456') where user='root'; 5)å¦‚æœé¡ºåˆ©çš„è¯ï¼Œrootçš„å¯†ç åº”è¯¥å·²ç»è¢«ä¿®æ”¹ä¸ºâ€œ123456â€ï¼Œé‚£å¯ä»¥ä¸å¿…å¾€ä¸‹çœ‹äº†ã€‚ç„¶è€Œæˆ‘çš„mysqlç‰ˆæœ¬æ˜¯5.7.21ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡å°è¯•çš„æ—¶å€™è¿™é‡ŒåˆæŠ¥é”™äº†ï¼š 1ERROR 1054 (42S22): Unknown column &apos;password&apos; in &apos;field list&apos; 6ï¼‰è¡¨ä¸­æ²¡æœ‰passwordå­—æ®µï¼Œå¯ä»¥ç”¨desc user;æŒ‡ä»¤çœ‹ä¸€ä¸‹æœç„¶æ²¡æœ‰ã€‚æŸ¥èµ„æ–™å‘å¾—çŸ¥5.7ç‰ˆæœ¬å¯†ç ä¿å­˜å­—æ®µå·²ç»æ”¹æˆä¸Šå›¾ä¸­çš„â€œauthentication_stringâ€äº†ï¼Œäºæ˜¯é‡æ–°è¾“å…¥updateæŒ‡ä»¤é‡ç½®å¯†ç ï¼š 1update user set authentication_string = password('123456') where user='root'; ä¿®æ”¹æˆåŠŸï¼ï¼ï¼ï¼ï¼ï¼ï¼ 7) é‡å¯mysqlåœ¨mysqlå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹æ‰§è¡Œcmdå‘½ä»¤12net stop MySQL57; // å…³é—­mysqlæœåŠ¡net start MySQL57; // å¯åŠ¨mysqlæœåŠ¡ ä½¿ç”¨nodejsè¿æ¥mysqlæ•°æ®åº“ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253const mysql = require('mysql') // å¼•å…¥mysql// å®šä¹‰mysqlçš„é…ç½®let MYSQL_CONFIG = &#123;&#125;;// è¯»å–nodejsæœ¬åœ°è¿è¡Œç¯å¢ƒconst env = process.env.NODE_ENV;// ä¸Šç¯‡æ–‡ç« ä¸­ä½¿ç”¨cross-envå®šä¹‰äº†nodeçš„è¿è¡Œç¯å¢ƒå˜é‡"mock":"cross-env NODE_ENV=dev nodemon ./bin/app.js"// å¦‚æœæ˜¯æœ¬åœ°ç¯å¢ƒåŠ è½½æœ¬åœ°mysqlçš„é…ç½®if(env=='dev')&#123; MYSQL_CONFIG =&#123; host:'localhost', port:'3306', user:'root', password:'mysql_2019' &#125;&#125;else&#123; MYSQL_CONFIG =&#123; host:'çº¿ä¸Šåœ°å€', port:'3306', user:'root', password:'mysql_2019' &#125;&#125;const db = mysql.createConnection(MYSQL_CONFIG);// å¼€å§‹å»ºç«‹è¿æ¥db.connect(error=&gt;&#123; if(error)&#123; console.log(error) return &#125;&#125;);// æ•°æ®åº“æŸ¥è¯¢æ—¶å¼‚æ­¥çš„ï¼Œæš‚æ—¶ç”¨promiseå°è£…ä¸€ä¸‹ï¼ŒkoaåŸç”Ÿå°±æ”¯æŒasyn/awaitå‡½æ•°å¤„ç†å¼‚æ­¥ï¼Œå°è£…å¤„ç†sqlçš„å‡½æ•°const queryDataBase = (sql)=&gt;&#123; return new Promise((resolve,reject))=&gt;&#123; db.query(sql,(error,result)=&gt;&#123; if(error)&#123; reject(error) return &#125; resolve(result) &#125;) &#125;)&#125;module.exports = &#123; queryDataBase, escape:mysql.escape // escapeæ–¹æ³•å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ç &#125; æ ¹æ®ä¸šåŠ¡æ¥å°è£…è‡ªå·±çš„api,é€šè¿‡sqlæŸ¥è¯¢æ•°æ®åº“å®ç°ä¸šåŠ¡çš„å¢åˆ æ”¹æŸ¥æ“ä½œ é˜²æ­¢sqlæ³¨å…¥ å› ä¸ºåœ¨mysqlä¸­ä½¿ç”¨--å°±æ˜¯å¤‡æ³¨ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åœ¨æ‹¼æ¥sqlçš„æ—¶å€™ï¼Œå¦‚æœå¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°ä¸åšå¤„ç†ï¼Œå¾ˆå®¹æ˜“å¼•å…¥sqlæ³¨å…¥çš„å®‰å…¨é—®é¢˜ã€‚ä¾‹å¦‚: 12345678910const sql = `select * from users where username='$&#123;username&#125;' and password = '$&#123;password&#125;'`// å¦‚æœç”¨æˆ·æ­£å¸¸è¾“å…¥çš„username='zhangsan' and password = '123'å°±å¯ä»¥æˆåŠŸç™»é™†// åŠ å…¥åªçŸ¥é“ç”¨æˆ·åä¸çŸ¥é“å¯†ç ï¼Œä½†æ˜¯ç”¨æˆ·åusernameè¾“å…¥ä¸ºusername = "zhangsan '--"sql = "select * from users where username='zhangsan' -- and password = '$&#123;password&#125;'"å…¶å®ç­‰ä»·äºsql = "select * from users where username='zhangsan'åé¢å†…å®¹å°±è¢«å¤‡æ³¨æ‰äº†ï¼Œæ‰€ä»¥è¾“å…¥ä»»ä½•å¯†ç éƒ½èƒ½ç™»é™† è§£å†³sqlæ³¨å…¥åŠæ³•ï¼šå¼•å…¥escapeæ–¹æ³•å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ç 1234567 //apiconst &#123;escape,queryData&#125; = require('../db/mysql.js') const login =(req)=&gt;&#123; const &#123;username,password&#125; = req.body const sql = `select * from users where username = $&#123;escape(username)&#125; and password = $&#123;escape(password)&#125;` return queryData(sql) &#125; æ€»ç»“é€šè¿‡nodejsé“¾æ¥äº†æ•°æ®åº“ï¼Œé¦–å…ˆå¯ä»¥æ ¹æ®é…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œå¯¹æœ¬åœ°å¼€å‘ç¯å¢ƒå’Œçº¿ä¸Šç¯å¢ƒåšä¸åŒé…ç½®;å†å°±æ˜¯å°è£…äº†mysqlçš„æŸ¥è¯¢å’Œescapeæ–¹æ³•ï¼Œåˆ†åˆ«æ ¹æ®sqlæ“ä½œæ•°æ®åº“æ•°æ®å’Œé˜²æ­¢sqlæ³¨å…¥â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (3) - nodejsæ“ä½œmySqlæ•°æ®åº“</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ3ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ0ï¼‰- linux åŸºç¡€åŠå…¶æœåŠ¡å™¨nginxé™æ€èµ„æºéƒ¨ç½²]]></title>
    <url>%2F2019%2F11%2F18%2FlinuxDeploy%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å…¬å¸æœ¬åœ°çš„æœåŠ¡å™¨ç”¨nginxéƒ¨ç½²äº†ä¸€ä¸ªå•é¡µé¢çš„åº”ç”¨ç¨‹åºï¼Œåšä¹‹å‰æƒ³æƒ³æ„Ÿè§‰è¿‡ç¨‹æŒºç®€å•çš„ï¼Œæ— éå°±æ˜¯æ‰“åŒ…é™æ€èµ„æºï¼Œä¿®æ”¹serverçš„nginxé…ç½®ç„¶åå°±å¯ä»¥è®¿é—®äº†ï¼Œåæ¥å‘ç°éœ€è¦å®‰è£…nodeç¯å¢ƒï¼Œä¸€æ–¹é¢éœ€è¦å®‰è£…å‰ç«¯å·¥ç¨‹çš„ä¾èµ–åŒ…ï¼Œå¦ä¸€æ–¹é¢éœ€è¦ä½¿ç”¨nodejsèµ·ä¸€ä¸ªexpressçš„serverâ€¦ä¸€èˆ¬ä¸‰æŠ˜ä¹‹åè¿˜æ˜¯æ‰“ç®—è®°å½•ä¸€ä¸‹â€¦. é“¾æ¥è¿œç¨‹æœåŠ¡å™¨è¿™ä¸ªæ²¡å•¥å¯è¯´çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨xshellè¿æ¥æœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨xftpå°†æ‰“åŒ…å¥½çš„å‰ç«¯é™æ€èµ„æºä¼ è¾“ä¸Šå»éƒ¨ç½²ï¼Œåœ¨è¿™åˆ†äº«ä¸€ä¸ªå·¥å…·â€”finalShellï¼Œè¿™ä¸ªå·¥å…·æ˜¯ä¸€ä¸ªé›†æˆxshellå’Œxftpçš„å·¥å…·ï¼Œè¿˜å¯ä»¥é€šè¿‡mstscé“¾æ¥è¿œç¨‹æ¡Œé¢ã€‚ linuxåŸºç¡€ä¸€èˆ¬æ¥è¯´è‘—åçš„linuxæ“ä½œç³»ç»ŸåŸºæœ¬ä¸Šåˆ†ä¸ºä¸¤å¤§ç±»:1)RedHatç³»åˆ—ï¼šRedHat\Centos\Fedoraç­‰ - å¸¸è§çš„å®‰è£…åŒ…æ ¼å¼ rpmåŒ…,å®‰è£…rpmåŒ…çš„å‘½ä»¤æ˜¯â€œrpm -å‚æ•°â€ - åŒ…ç®¡ç†å·¥å…· yumï¼Œyumå¯ä»¥ç”¨äºè¿ä½œrpmåŒ… - æ”¯æŒtaråŒ… yum: æ˜¯redhat, centos ç³»ç»Ÿä¸‹çš„è½¯ä»¶å®‰è£…æ–¹å¼ï¼ŒåŸºäºLinuxï¼Œå…¨ç§°ä¸º Yellow dog Updater, Modifiedï¼Œ æ˜¯ä¸€ä¸ªåœ¨Fedoraå’ŒRedHatä»¥åŠCentOSä¸­çš„Shellå‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ åŸºäºRPMåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ã€‚ 123å®‰è£…ï¼šyum installå¸è½½ï¼šyum removeæ›´æ–°ï¼šyum update å¯ä»¥é…ç½®-yå‚æ•° yum install nginx -y æ ‡è¯†é»˜è®¤å‘½ä»¤è¡Œäº¤äº’çš„æ—¶å€™éƒ½æ˜¯ä»¥yes 2)Debianç³»åˆ—ï¼šDebian\Ubantuç­‰ - å¸¸è§çš„å®‰è£…åŒ…æ ¼å¼ debåŒ…,å®‰è£…debåŒ…çš„å‘½ä»¤æ˜¯â€œdpkg -å‚æ•°â€ - åŒ…ç®¡ç†å·¥å…· apt-getï¼Œå¯ä»¥ç”¨äºè¿ä½œdebåŒ… - æ”¯æŒtaråŒ… ap-getæ˜¯ubuntuä¸‹çš„ä¸€ä¸ªè½¯ä»¶å®‰è£…æ–¹å¼ï¼Œå®ƒæ˜¯åŸºäºdebainã€‚123å®‰è£…ï¼šapt-get installå¸è½½ï¼šapt-get removeæ›´æ–°ï¼šapt-get update å¯ä»¥é…ç½®-yå‚æ•° apt-get install nginx -y æ ‡è¯†é»˜è®¤å‘½ä»¤è¡Œäº¤äº’çš„æ—¶å€™éƒ½æ˜¯ä»¥yes Linux å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ï¼Œé©¬ä¸Šå°±èƒ½æƒ³åˆ°ä¸¤ä¸ªå·¥å…·ï¼šwget å’Œ cURLcurlå’Œwgetçš„åŒºåˆ«å’Œä½¿ç”¨curlå’ŒwgetåŸºç¡€åŠŸèƒ½æœ‰è¯¸å¤šé‡å ï¼Œå¦‚ä¸‹è½½ç­‰ã€‚éè¦è¯´åŒºåˆ«çš„è¯: curlç”±äºå¯è‡ªå®šä¹‰å„ç§è¯·æ±‚å‚æ•°æ‰€ä»¥åœ¨æ¨¡æ‹Ÿwebè¯·æ±‚æ–¹é¢æ›´æ“…é•¿ï¼› wgetç”±äºæ”¯æŒftpå’ŒRecursiveæ‰€ä»¥åœ¨ä¸‹è½½æ–‡ä»¶æ–¹é¢æ›´æ“…é•¿ã€‚ç±»æ¯”çš„è¯curlæ˜¯ä¸€ä¸ªç²¾ç®€çš„å‘½ä»¤è¡Œç½‘é¡µæµè§ˆå™¨ï¼Œè€Œwgetæ˜¯è¿…é›·9 wgetä¸æ˜¯å®‰è£…æ–¹å¼ï¼Œå®ƒæ˜¯ä¸€ç§ä¸‹è½½å·¥å…·ï¼Œç±»ä¼¼äºè¿…é›·ã€‚é€šè¿‡HTTPã€HTTPSã€FTPä¸‰ä¸ªæœ€å¸¸è§çš„TCP/IPåè®®ä¸‹è½½ï¼Œå¹¶å¯ä»¥ä½¿ç”¨HTTPä»£ç†ï¼Œåå­—æ˜¯World Wide Webâ€ä¸â€œgetâ€çš„ç»“åˆ,å¦‚æœè¦ä¸‹è½½ä¸€ä¸ªè½¯ä»¶,å¯ä»¥ç›´æ¥è¿è¡Œï¼š 1wget ä¸‹è½½åœ°å€ å®‰è£…wget 123sudo apt-get update / yum updatesudo apt-get install wget / yum install wgetwget --version curlcurlçš„ç”¨æ³•å…·ä½“å¯ä»¥å‚è€ƒé˜®è€å¸ˆçš„æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸é‡å¤èµ˜è¿°äº†â€¦curl çš„ç”¨æ³•æŒ‡å— linuxå¸¸ç”¨shellæ“ä½œ 1) &gt;å’Œ &gt;&gt; linuxä¸­&gt;è¡¨ç¤ºè¦†ç›–åŸæ–‡ä»¶å†…å®¹ï¼Œ&gt;&gt;è¡¨ç¤ºè¿½åŠ å†…å®¹ 2)cat 12345-n æˆ– --numberï¼šç”± 1 å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å·ã€‚// cat -n linuxfile1 &gt; linuxfile2 æŠŠ linuxfile1 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ linuxfile2 è¿™ä¸ªæ¡£æ¡ˆé‡Œ-b æˆ– --number-nonblankï¼šå’Œ -n ç›¸ä¼¼ï¼Œåªä¸è¿‡å¯¹äºç©ºç™½è¡Œä¸ç¼–å·ã€‚//cat -b linuxfile1 linuxfile2 &gt;&gt; linuxfile3 æŠŠ linuxfile1 å’Œ linuxfile2 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·(ç©ºç™½è¡Œä¸åŠ )ä¹‹åå°†å†…å®¹é™„åŠ åˆ°linuxfile3 é‡Œã€‚-s æˆ– --squeeze-blankï¼šå½“é‡åˆ°æœ‰è¿ç»­ä¸¤è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œï¼Œå°±ä»£æ¢ä¸ºä¸€è¡Œçš„ç©ºç™½è¡Œã€‚ æŸ¥çœ‹å·²ç»å­˜åœ¨çš„æ–‡ä»¶cat filename æ–°å»ºæ–‡ä»¶ (åªèƒ½åˆ›å»ºæ–°æ–‡ä»¶,ä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶.)cat &gt; filename åˆå¹¶å‰¯æœ¬(æ‹·è´)cat sourcefile &gt; distfile å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚cat file1 file2 &gt; file // file1 å’Œfile2éƒ½å†™å…¥åˆ°fileä¸­ åœ¨linux shellè„šæœ¬ä¸­æˆ‘ä»¬ç»å¸¸è§åˆ°ç±»ä¼¼äºcat &lt;&lt; EOFçš„è¯­å¥,EOFæ˜¯æ–‡ä»¶çš„ç»“æŸç¬¦-EOFæ˜¯â€œend of fileâ€ï¼Œè¡¨ç¤ºæ–‡æœ¬ç»“æŸç¬¦,EOFåªæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚å¯ä»¥æ¢æˆåˆ«çš„æ ‡è¯†ã€‚1234// å°†EOFä¹‹é—´è¾“å…¥çš„å†…å®¹å†™å…¥åˆ°filenameä¸­ cat &gt; filename &lt;&lt;EOF ï¼ˆå†…å®¹ï¼‰ EOF 1234// å°†EOFä¹‹é—´è¾“å…¥çš„å†…å®¹"è¿½åŠ å†™å…¥"åˆ°filenameä¸­ cat &gt;&gt; filename &lt;&lt;EOF ï¼ˆå†…å®¹ï¼‰ EOF 3)echo åœ¨æ§åˆ¶å°è¾“å‡ºæ–‡æœ¬echo xxxxx // æ‰“å°xxxxx æ˜¾ç¤ºç»“æœå®šå‘è‡³æ–‡ä»¶echo xxxxx &gt; filename // xxxxxå†™å…¥åˆ°filenameä¸­ 4)touch touchå‘½ä»¤ç”¨äºåˆ›å»ºä¸åŒ…å«ä»»ä½•å†…å®¹çš„æ–‡ä»¶touch xxxx 5)mv mvå‘½ä»¤å°†æ–‡ä»¶æˆ–ç›®å½•ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®mv sourcefile1 sourfile2 /etc/app é‡å‘½åmv sourcefile1 sourcefile2 6)pwd å‘½ä»¤ç”¨äºæ‰“å°å½“å‰å·¥ä½œç›®å½• æŸ¥çœ‹æ“ä½œç³»ç»Ÿï¼ˆuname -aï¼‰12uname -a // å¯ä»¥æŸ¥çœ‹æ“ä½œç³»ç»Ÿ Linux master 3.10.0-862.el7.x86_64 #1 SMP Fri Apr 20 16:44:24 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux æŸ¥çœ‹ç‰ˆæœ¬ï¼ˆcat /etc/redhat-releaseï¼‰1CentOS Linux release 8.0.1905 (Core) æ‰€ä»¥æ ¹æ®ä¸Šé¢çš„ä¿¡æ¯å¯ä»¥è´­ä¹°çš„åä¸ºäº‘æ˜¯Linux 64ä½çš„Centos 6.8ç‰ˆæœ¬ å®‰è£…nodejsè¦å®‰è£…nodejsï¼Œæœ€é€šä¿—çš„åšæ³•æ— éæ˜¯æŸ¥çœ‹è¿œç¨‹æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬ï¼Œç„¶åä»nodejså®˜ç½‘ä¸‹è½½,ç„¶åé€šè¿‡è§£å‹å·¥å…·è§£å‹æ–‡ä»¶ ä½¿ç”¨ä¸Šé¢è¯´çš„wget/curl/æ‰‹åŠ¨å®˜æ–¹ä¸‹è½½1234// ä½¿ç”¨curlä¸‹è½½curl -O http://cdn.npm.taobao.org/dist/node/v8.12.2/node-v8.12.2-linux-x64.tar.gz// ä½¿ç”¨wgetä¸‹è½½ wget http://cdn.npm.taobao.org/dist/node/v8.12.2/node-v8.12.2-linux-x64.tar.gz è§£å‹gzæ–‡ä»¶- tarå‘½ä»¤æ˜¯ç±»Linuxä¸­æ¯”ä»·å¸¸ç”¨çš„è§£å‹ä¸å‹ç¼©å‘½ä»¤ã€‚123456// åŸºæœ¬ç”¨æ³•tar -xzvf filename.tar.gz // è§£å‹æ–‡ä»¶å¹¶æ‹·è´åˆ°æŒ‡å®šç›®å½•tar -xzvf filename.tar.gz -C destPath// --strip-components 1 å»æ‰ç¬¬ä¸€å±‚æ–‡ä»¶å¤¹tar --strip-components 1 -xzvf file.tar.gz -C /opt/webs/folder/ å½“ç„¶ä¹Ÿæœ‰uzipç­‰æ–¹å¼å¯ä»¥è§£å‹zipåç¼€çš„å‹ç¼©æ–‡ä»¶â€¦ä»¥ä¸Šå°±æ˜¯å°†file.tar.gzæ–‡ä»¶è§£å‹åˆ°/opt/webs/folder/æ–‡ä»¶å¤¹ä¸‹ å¦å¤–è¡¥å……ä¸€å¥å¦‚æœä¸‹è½½çš„æ–‡ä»¶éœ€è¦â€“é‡å‘½å/ç§»åŠ¨/å¤åˆ¶çš„è¯å¯ä»¥ä½¿ç”¨ 123ç§»åŠ¨æ–‡ä»¶ï¼šmv æ–‡ä»¶å ç§»åŠ¨ç›®çš„åœ°æ–‡ä»¶å é‡å‘½åæ–‡ä»¶ï¼šmv æ–‡ä»¶å ä¿®æ”¹åçš„æ–‡ä»¶åå¤åˆ¶æ–‡ä»¶ï¼šcp æ–‡ä»¶åè·¯å¾„ ç›®æ ‡è·¯å¾„ nginxåŸºæœ¬æ“ä½œ123nginx -s reload // é‡å¯nginx start // å¯åŠ¨nginx stop //å…³é—­ åå°è¿›ç¨‹ç›¸å…³12netstat -apn | grep 3000 // æŸ¥çœ‹3000ç«¯å£å¯åŠ¨çš„è¿›ç¨‹ ä¸€èˆ¬å¯ä»¥çœ‹è§è¿›ç¨‹idå’Œè¿›ç¨‹ç±»å‹ å¦‚ï¼š 11321/nginxï¼Œ11321å°±æ˜¯è¿›ç¨‹idï¼Œnginxå°±æ˜¯è¿›ç¨‹ç±»å‹kill -9 è¿›ç¨‹id // å…³é—­åå°è¿›ç¨‹ PSæ˜¯LINUXä¸‹æœ€å¸¸ç”¨çš„ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤pså‘½ä»¤å°†æŸä¸ªè¿›ç¨‹æ˜¾ç¤ºå‡ºæ¥,grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚grepå‘½ä»¤æ˜¯æŸ¥æ‰¾,æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚ä¸­é—´çš„|æ˜¯ç®¡é“å‘½ä»¤ æ˜¯æŒ‡pså‘½ä»¤ä¸grepåŒæ—¶æ‰§è¡Œ 1ps -ef | grep 3000 UID PID PPID C STIME TTY TIME CMD root 27391 2049 0 17:42 pts/0 00:00:00 grep 8089 å…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š UIDï¼šç¨‹åºè¢«è¯¥ UID æ‰€æ‹¥æœ‰ PIDï¼šå°±æ˜¯è¿™ä¸ªç¨‹åºçš„ ID PPIDï¼šåˆ™æ˜¯å…¶ä¸Šçº§çˆ¶ç¨‹åºçš„ID C ï¼šCPUä½¿ç”¨çš„èµ„æºç™¾åˆ†æ¯” STIME ï¼šç³»ç»Ÿå¯åŠ¨æ—¶é—´ TTY ï¼šç™»å…¥è€…çš„ç»ˆç«¯æœºä½ç½® TIMEï¼šä½¿ç”¨æ‰çš„CPUæ—¶é—´ã€‚ CMDï¼šæ‰€ä¸‹è¾¾çš„æ˜¯ä»€ä¹ˆæŒ‡ä»¤ nohupåšåå°è¿›ç¨‹ä¹‹å‰ä¸€ç›´ç”¨pm2åšè¿›ç¨‹å®ˆæŠ¤ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨çº¿ä¸Šç¯å¢ƒ,è¿™æ¬¡ç”¨nphupâ€¦ 12// ä½¿ç”¨nohupåœ¨æŒ‡å®šçš„hostå’Œportå¯åŠ¨å¹¶è®°å½•è¿›ç¨‹idåœ¨pidfileï¼Œè®°å½•æ—¥å¿—åˆ°mockserverçš„logæ–‡ä»¶nohup json-server --host 172.21.24.22 --port 8088 ./db.json --routes ./router.json &gt; mockSever.log &amp; echo $! &gt; pidfile.txt è¿™æ ·æ€æ­»è¿›ç¨‹çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡ 1kill -9 `cat pidfile.txt` é€šè¿‡å…¬ç½‘IPè®¿é—®åä¸ºäº‘æœåŠ¡ä¸Šéƒ¨ç½²ç¨‹åºï¼Œéƒ¨ç½²æˆåŠŸä¹‹åï¼Œå‘ç°å®ƒçš„å…¬ç½‘IPä¸èƒ½è¢«å¤–ç½‘è®¿é—®,ä¸€ç›´ä»¥ä¸ºåªèƒ½é€šè¿‡åŸŸåè®¿é—®ï¼Œä½†æ˜¯åŸŸåä¹Ÿæ˜¯é€šè¿‡DNSåŸŸåè§£æä¹‹åè·å–çœŸå®çš„å…¬ç½‘ipåœ°å€å•Šï¼Œä¸åº”è¯¥å•Šï¼Œæ€€ç€è¿™ä¸ªç–‘é—®æŸ¥äº†ä¸€ä¸‹â€¦. åŸæ¥äº‘æœåŠ¡å™¨éœ€è¦æ·»åŠ ä¸€äº›é…ç½®ï¼Œæ‰å¯ä»¥é€šè¿‡å…¬ç½‘ipè®¿é—®éƒ¨ç½²çš„åº”ç”¨: äº‘æœåŠ¡å™¨è¦æ·»åŠ å®‰å…¨åè®® æœåŠ¡å™¨è¦æ·»åŠ å…¥ç«™è§„åˆ™ æˆ‘ä¸ªäººçš„ç†è§£å°±æ˜¯éœ€è¦å¼€æ”¾äº‘æœåŠ¡å™¨å„ä¸ªç«¯å£çš„ä½¿ç”¨æƒé™ã€‚é…ç½®ä¸€ä¸‹å“ªäº›ipåœ°å€æ¥è¯·æ±‚å¯ä»¥è®¿é—®æˆ‘çš„äº‘æœåŠ¡å™¨ï¼Œç„¶åå¯¹å®ƒå¼€å‘é‚£äº›ç«¯å£â€¦ç±»ä¼¼è¿™æ ·çš„è§„åˆ™ å¦‚ä¸Šå›¾æ‰€ç¤ºå°±æ˜¯å°±æ˜¯åè®®/åº”ç”¨é€‰æ‹©TCPï¼Œè¾“å…¥ä½ å¼€æ”¾çš„ç«¯å£å·82ï¼Œæºåœ°å€é€‰æ‹©IPåœ°å€ï¼Œå››ä¸ªé›¶ï¼Œç‚¹å‡»ç¡®å®šï¼›ä¸ºä»€ä¹ˆæºåœ°å€é€‰æ‹©IPåœ°å€ï¼Œå››ä¸ªé›¶ï¼Œå› ä¸ºå¼€æ”¾å…¨éƒ¨ç”¨æˆ·è®¿é—®ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡å¤–ç½‘ipè¿›è¡Œè®¿é—®äº†â€¦.. å‚è€ƒé“¾æ¥åœ¨åä¸ºäº‘æœåŠ¡å™¨éƒ¨ç½²ç¨‹åºä¸èƒ½è¢«å¤–ç½‘è®¿é—®çš„é—®é¢˜]]></content>
      <categories>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—</category>
        <category>æ°´ç‰›ä¸‹æ°´ç³»åˆ—ï¼ˆ0ï¼‰-  linux åŸºç¡€åŠå…¶æœåŠ¡å™¨nginxé™æ€èµ„æºéƒ¨ç½²</category>
      </categories>
      <tags>
        <tag>centOs</tag>
        <tag>Linux</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ2ï¼‰- å¤„ç†httpè¯·æ±‚]]></title>
    <url>%2F2019%2F11%2F08%2Fnodejs-2%2F</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬æ­å»ºäº†nodejsçš„serverç«¯å¼€å‘ç¯å¢ƒï¼Œæœ¬ç« èŠ‚æˆ‘ä»¬å°±å¼€å§‹å¯¹httpè¯·æ±‚åšä¸€äº›é¢„å¤„ç†â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âŒ] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âŒ] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âŒ] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âœ”] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âœ”] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âœ”] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âŒ] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ æ¨¡å—æ‹†åˆ† bin/www.jsä¸ºæ•´ä¸ªnodeåº”ç”¨çš„ä¸»å…¥å£ï¼Œç®€ç§°app,å°†appæ‹†å°æˆ: è·Ÿhttp-serverç›¸å…³çš„é€»è¾‘ï¼ˆåªå…³æ³¨http-serveræœ¬èº«çš„é…ç½®ï¼‰ å¤„ç†å…·ä½“åå°ä¸šåŠ¡çš„serverHandler(reqå¯¹è±¡æœ‰req.methodå¯ä»¥è·å–æ±‚æƒ…ç±»å‹ï¼Œreq.urlå¯ä»¥è·å–è¯·æ±‚çš„urlåœ°å€) 12345 //http-server è¿™é‡Œçš„é€»è¾‘å’Œå…·ä½“ä¸šåŠ¡æ²¡æœ‰å…³ç³»const serverHandler = require('./serverHandler') // ç»Ÿä¸€æ‹¦æˆªè·¯ç”±ï¼Œå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚const http =require('http')const server = http.createServer((req,res)&#123;&#125;) ==== æŠ½ç¦»æˆ==== &gt; const server = http.createServer(serverHandler)server.listen(3000) serverHandleré¢„å¤„ç†httpçš„getè¯·æ±‚:é€šè¿‡req.urlå’Œreq.methodå¯ä»¥åˆ†åˆ«è·å–æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„åœ°å€ä¿¡æ¯å’Œè¯·æ±‚ç±»å‹ä¿¡æ¯ï¼š 1234567891011// serverHandlerconst querystring = require('querystring')//------------------------- ç¬¬ä¸€æ­¥ å¤„ç†è¿”å›æ•°æ®çš„æ ¼å¼ä¸ºjson---------------------------------------------res.setHeader("Content-type","application/json") // æ³¨æ„å¤§å°å†™//------------------------- ç¬¬äºŒæ­¥ å¤„ç†getè¯·æ±‚çš„å‚æ•°---------------------------------------------------// è§£æpathï¼Œç„¶åèµ‹å€¼ç»™reqå¯¹è±¡req.path = querystring.parse(req.url.split('?')[0]);// å¼•å…¥querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°ï¼Œç„¶åèµ‹å€¼ç»™reqå¯¹è±¡const querystring = require('querystring')req.query = querystring.parse(req.url.split('?')[1]); è®¾ç½®http requestè¯·æ±‚å¤´çš„content-type12// è·å–è¯·æ±‚å¤´çš„content-typereq.headers['content-type','application/json'] // æ³¨æ„å¤§å°å†™ é€šè¿‡promiseçš„æ–¹å¼å°è£…postè¯·æ±‚è·å–bodyå‚æ•°123456789101112131415161718192021//---------------------------ç¬¬ä¸‰æ­¥ é€šè¿‡promiseçš„æ–¹å¼å°è£…postè¯·æ±‚è·å–bodyå‚æ•°---------------------------// å› ä¸ºpostè¯·æ±‚è·å–bodyçš„æ•°æ®æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥ç”¨promiseå°è£…ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢å¤„ç†ä»£ç æ‰§è¡Œé€»è¾‘ï¼Œç­‰è·å–åˆ°bodyåå¤„ç†è·¯ç”±æ•°æ®const getPostData=(req)=&gt;&#123; return new Promise((resolve,reject)=&gt;&#123; if(req.method==='POST')&#123; let postData= '' // ç±»ä¼¼streamæµçš„æ–¹å¼è·å–bodyä¸­çš„data req.on('data',chunk=&gt;&#123; postData += chunk.toString() &#125;) // ç›‘å¬åˆ°å®Œæˆè¿”å›æ•°æ® req.on('end',()=&gt;&#123; if(postData)&#123; resolve(postData) return &#125; resolve(&#123;&#125;) &#125;) &#125; &#125;)&#125; æ ¹æ®ä¸šåŠ¡å¤„ç†è·¯ç”±123456789101112131415161718192021222324252627// ---------------------------ç¬¬å››æ­¥ å¼•å…¥è·¯ç”±å¤„ç†ï¼Œç„¶åæ ¹æ®reqè¯·æ±‚çš„ç±»å‹å’Œå‚æ•°ç±»å‹å¤„ç†ä¸åŒçš„é€»è¾‘-------------------const blogRouterHandler = require('./src/router/blog')const userRouterHandler = require('./src/router/user') // å¤„ç†postè¯·æ±‚å¼‚æ­¥çš„bodyä¸­æºå¸¦çš„æ•°æ®getPostData(req).then(postData =&gt; &#123; // å°†è§£æçš„bodyæ•°æ®æ”¾å…¥reqçš„bodyä¸­åœ¨è·¯ç”±ä¸­ä½¿ç”¨ req.body = postData; // å¤„ç†é¡µé¢è·¯ç”± const blogResult = blogRouterHandler(req, res); if (blogResult) &#123; blogResult.then(blogData=&gt;&#123; res.end(JSON.stringify(blogData)) return &#125;) &#125; const userData = userRouterHandler(req, res); if (userResult) &#123; userResult.then(blogData=&gt;&#123; res.end(JSON.stringify(userData)) return &#125;) &#125; // å¤„ç†å¼‚å¸¸è·¯ç”± res.writeHead(404, &#123; 'content-Type': 'text/plain' &#125;) res.write('404 Not Fount \n'); res.end();&#125;); å¤„ç†å“åº”æ•°æ®çš„æ•°æ®ç»“æ„ serverHandlerä¸­ï¼ŒæŒ‰ç…§ä¸šåŠ¡åˆæ‹†åˆ†æˆï¼šå¤„ç†åšå®¢çš„ç›¸å…³è·¯ç”±/ç”¨æˆ·ç›¸å…³çš„è·¯ç”±/ä»¥åŠè·¯ç”±æœªå‘½ä¸­çš„404å¼‚å¸¸ ä¸ºäº†å†å“åº”å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œè¿”å›çš„æ•°æ®èƒ½å¤Ÿæ ¼å¼ç»Ÿä¸€ï¼Œäºæ˜¯å°è£…äº†ä¸€ä¸ªresponseModelã€‚åŒ…æ‹¬data,messageå’Œstateä¸‰ä¸ªå‚æ•°è¿™æ ·å“åº”çš„æ—¶å€™å°±èƒ½ç»Ÿä¸€è¿”å›ä¸€ä¸ªå›ºå®šçš„æ ¼å¼ï¼š 12345678910111213141516171819202122232425262728293031323334353637// åŸºç±»class BaseModel&#123; constructor(data,message)&#123; if(typeof data =="String")&#123; this.message = data data = null message = null &#125; if(data)&#123; this.data =data &#125; if(message)&#123; this.message = message &#125; &#125;&#125;// æˆåŠŸç±»class SuccessModel extends BaseModel&#123; constructor(data,message)&#123; super(data,message) this.state = 0 // æˆåŠŸçš„çŠ¶æ€ &#125;&#125;// æ˜¯è´¥ç±»class ErrorModel extends BaseModel&#123; constructor(data,message)&#123; super(data,message) this.state = -1 // å¤±è´¥çš„çŠ¶æ€ &#125;&#125;// å“åº”çš„ç¤ºä¾‹ï¼š &#123; "data"ï¼š"å“åº”æ•°æ®", "message":"è¿™æ˜¯å“åº”çš„æ¶ˆæ¯"ï¼Œ "state":"è¿™æ˜¯å“åº”çš„çŠ¶æ€" &#125; å°è£…apiè·Ÿmysqlæ•°æ®åº“äº¤äº’æŸ¥è¯¢æ•°æ® åœ¨åšå®¢çš„ç›¸å…³è·¯ç”±å’Œç”¨æˆ·ç›¸å…³è·¯ç”±ä¸­åˆæ ¹æ®å„è‡ªçš„ä¸šåŠ¡ï¼Œè®¾è®¡RestFulæ¥å£Apiæ¥å¤„ç†å…·ä½“çš„ä¸šåŠ¡å’Œæ•°æ®è¿”å›,ç„¶åå°†apiæ¥å£è¿”å›çš„æ•°æ®é€šè¿‡SuccessModelè¿›è¡ŒåŒ…è£…ã€‚ 123456789101112131415161718192021222324252627const &#123; SuccessModel, ErrorModel&#125; = require('../model/model')const &#123; getBlogList // è¿™å°±æ˜¯ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„æ¥å£ï¼Œéœ€è¦ç”¨nodejsé“¾æ¥mysqlæ•°æ®åº“ï¼Œç„¶åå°è£…æŸ¥è¯¢çš„æ–¹æ³•queryData&#125;= require('../api/blog')// blogRouterHandler.jsconst blogRouterHandler = (req,res)=&gt;&#123; // åˆ—è¡¨ if(req.method === 'GET'&amp;&amp; req.path==="api/blog/list")&#123; // éœ€è¦å°è£…getBlogListçš„apiæ¥è·å–åšå®¢åˆ—è¡¨ const blogListResult = getBlogList(req); if(blogListResult)&#123; return new SuccessModel(blogListResult,'è¯·æ±‚åšå®¢åˆ—è¡¨æˆåŠŸ') &#125; return ErrorModel('è¯·æ±‚åšå®¢åˆ—è¡¨å¤±è´¥') &#125; // åˆ›å»º if(req.method === 'POST'&amp;&amp; req.path==="api/blog/create")&#123; // éœ€è¦å°è£…createBlogçš„apiæ¥æ–°å¢ &#125; ... &#125;module.exports = blogRouterHandler æ€»ç»“åˆ°æ­¤ä½ç½®ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥çš„å‰¥ç¦»serverç«¯çš„åŠŸèƒ½ï¼Œä»app.js(æ­å»ºhttpæœåŠ¡å’Œå¤„ç†è¯·æ±‚çš„serverHandlder)===&gt;serverHandler(é¢„å¤„ç†get/postè¯·æ±‚ï¼Œå¤„ç†è·¯ç”±å’Œå¼‚å¸¸çš„404ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¤„ç†cookie/sessionç­‰)===&gt;routerï¼ˆæ ¹æ®ä¸šåŠ¡æ‹†åˆ†ä¸åŒçš„è·¯ç”±ï¼‰===&gt;apiï¼ˆåœ¨ä¸åŒçš„è·¯ç”±ä¸­åˆæ ¹æ®ä¸åŒçš„ä¸šåŠ¡å°è£…apiå’Œæ•°æ®åº“äº¤äº’ï¼‰ã€‚çœ‹ä¼¼å¾ˆå¤æ‚ï¼Œä½†æ˜¯ä¸€æ­¥ä¸€æ­¥åˆå¾ˆåˆç†â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (2) - å¤„ç†httpè¯·æ±‚</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ2ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ1ï¼‰- æ­å»ºå¼€å‘ç¯å¢ƒ]]></title>
    <url>%2F2019%2F11%2F07%2Fnodejs-1%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨çœ‹å¾ˆæ—©ä¹‹å‰å°±çœ‹è¿‡çš„ä¸€ä¸ªnodejsæ•™ç¨‹ï¼Œä¸»è¦æ˜¯ä»é›¶æ­å»ºä¸€ä¸ªå‰åå°nodeé¡¹ç›®çš„åšå®¢ç³»ç»Ÿ,åœ¨å…¬äº¤ä¸Šé€šå‹¤æ— èŠå°±æ‹¿å‡ºæ¥çœ‹çœ‹ï¼Œå½“æ—¶çœ‹çš„æ¯”è¾ƒç²—ï¼Œå¯èƒ½æ˜¯å·¥ä½œä¸Šæœ‰äº†ä¸€äº›æ²‰æ·€ï¼Œè¿™æ¬¡çœ‹çš„æ—¶å€™å‘ç°äº†å¾ˆå¤šç»†èŠ‚ï¼Œä¾‹å¦‚ä¸ºä»€ä¹ˆè¦è¿™æ ·åˆ‡åˆ†æ¨¡å—ï¼Œä¸ºä»€ä¹ˆè¦æŠŠä¸šåŠ¡é€»è¾‘è¿›è¡ŒæŠ½ç¦»ï¼Œæ€ä¹ˆä½¿ç”¨vscodeè¿›è¡Œnodejsç¨‹åºçš„è°ƒè¯•ç­‰ã€‚è™½ç„¶å¾ˆåŸºç¡€ï¼Œä½†æ˜¯è¿˜æƒ³è®°å½•ä¸€ä¸‹ï¼Œæ¯•ç«Ÿtalk is cheap,èƒ½å†™ä¸‹æ¥æˆ–è€…ç»™åˆ«äººè®²ä¸€éï¼Œæ‰è¯´æ˜è‡ªå·±çœŸçš„æ˜ç™½äº†ã€‚æ‰€ä»¥è®°å½•ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹â€¦ å‰è¨€æˆ‘ä¸ªäººå–œæ¬¢çŸ­å°ä¸€äº›çš„åšæ–‡ï¼Œç‰¹åˆ«æ˜¯é•¿æ—¶é—´åœ¨é€šå‹¤è·¯ä¸Šæˆ–è€…ä¸€äº›ç¢ç‰‡çš„æ—¶é—´ï¼Œæˆ‘éƒ½å–œæ¬¢çœ‹ä¸€äº›æŠ€æœ¯åšå®¢ã€‚é•¿æ—¶é—´ä¸‹æ¥ï¼Œæˆ‘å‘ç°æ˜é‡‘å•Šï¼Œsegment defaultä¸Šæœ‰ä¸€ç±»åšæ–‡æˆ‘å°±ç‰¹åˆ«é’Ÿçˆ±ï¼šç¯‡å¹…ä¸é•¿ï¼Œå†…å®¹åˆ‡åˆ†æˆå¤šä¸ªç« èŠ‚ï¼Œä¸€ä¸ªç« èŠ‚åªé˜è¿°ä¸€ä¸ªæˆ–è€…ä¸€ç±»çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯å†™åšå®¢ä¹Ÿæ˜¯åœ¨éµå®ˆå•ä¸€åŸåˆ™è¿™æ ·ä¸€æ–¹é¢æˆ‘å¯èƒ½åœ¨10åˆ†é’Ÿçœ‹å®Œä¸€ä¸ªå†…å®¹,å°±å¯ä»¥å»å¿™åˆ«çš„äº‹æƒ…äº†ï¼Œæœ‰ä¸€ä¸ªcommitçš„èŠ‚ç‚¹ã€‚å†å°±æ˜¯ä¸‹æ¬¡è¿˜å¯ä»¥æ¥ç€çœ‹åé¢çš„å†…å®¹ï¼Œä¸éœ€è¦å›å¿†ä¹‹å‰çš„å†…å®¹ï¼Œå†…å®¹ç›¸å¯¹ç‹¬ç«‹ã€‚æ‰€ä»¥è¿™ä¸ªç³»åˆ—ï¼Œæˆ‘ä¹Ÿæ‰“ç®—è¿™æ ·å°è¯•ä¸€ä¸‹ï¼Œåˆ†æˆå‡ ä¸ªä¸åŒçš„ç« èŠ‚ï¼Œä¸€ä¸ªç« èŠ‚å¾ˆç®€å•çš„å†™ä¸€ä¸ªå†…å®¹â€¦ æœ¬ç¯‡å¹…ä¸»è¦çš„æŠ€æœ¯ç‚¹[âœ”] ä½¿ç”¨nodeåŸç”Ÿhttpæ¨¡å—æ­å»ºhttp-server[âœ”] ä½¿ç”¨nodemonå¤„ç†çƒ­åŠ è½½[âœ”] ä½¿ç”¨cross-envå¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡(é€šè¿‡nodejsçš„processå…¨å±€å˜é‡çš„process.env.NODE_ENVå°±å¯ä»¥è·å–)[âŒ] ä½¿ç”¨querystringå¤„ç†getè¯·æ±‚çš„å‚æ•°[âŒ] ä½¿ç”¨promiseçš„æ–¹å¼è·å–postè¯·æ±‚bodyå‚æ•°çš„è·å–[âŒ] ä½¿ç”¨es6 Classçš„æ–¹å¼å®šä¹‰å“åº”æ•°æ®çš„åŸºç¡€æ ¼å¼ï¼Œç„¶åå¯¹æˆåŠŸå“åº”å’Œå¤±è´¥å“åº”extendsåŸºç¡€æ ¼å¼[âŒ] mySqlå¸¸ç”¨æ“ä½œæ±‡æ€»[âŒ] nodejsé“¾æ¥æœ¬åœ°mysqlæ•°æ®åº“å“åº”å®¢æˆ·ç«¯è¯·æ±‚[âŒ] ç™»é™†æ ¡éªŒ/ç™»é™†ä¿¡æ¯å­˜å‚¨[âŒ] nodejsé“¾æ¥redisæ•°æ®åº“[âŒ] nginxçš„é…ç½®åå‘ä»£ç†[âŒ] æ—¥å¿—ç®¡ç†[âŒ] ä¿¡æ¯å®‰å…¨ï¼ˆsqlæ³¨å…¥/xssæ”»å‡»/md5ä¿¡æ¯åŠ å¯†ï¼‰ åˆå§‹åŒ–é¡¹ç›®123456mkdir blog // åˆ›å»ºé¡¹ç›®ç›®å½•cd blog //è¿›å…¥é¡¹ç›®ç›®å½•npm init -y //åˆå§‹åŒ–é¡¹ç›®çš„package.jsonæ–‡ä»¶mkdir bin // åˆ›å»ºé¡¹ç›®å…¥å£æ–‡ä»¶å¤¹bintouch www.js // åˆ›å»ºé¡¹ç›®çš„å…¥å£æ–‡ä»¶www.jsnpm install cross-env nodemon --save-dev é¡¹ç›®å®‰è£…ä¸€äº›æ’ä»¶ cross-envé€‚é…windowå’Œmacosç­‰æ“ä½œç³»ç»Ÿï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ nodemonæœ¬åœ°å¼€å‘é˜¶æ®µå¸®ä½ ç›‘å¬æ–‡ä»¶ä¿®æ”¹å¹¶çƒ­æ›´æ–°/çº¿ä¸Šç¯å¢ƒå¸¸ä½¿ç”¨pm2æ¥åšè¿›ç¨‹å®ˆæŠ¤å’Œå¤šçº¿ç¨‹ä»»åŠ¡ï¼Œå……åˆ†åˆ©ç”¨ç¡¬ä»¶çš„æ€§èƒ½ è¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ªé¡¹ç›®çš„ç›®å½•ï¼Œç°åœ¨æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹package.jsonä¸­é¡¹ç›®çš„å…¥å£æ–‡ä»¶ 1234567891011121314151617&#123; "name": "blog", "version": "1.0.0", "description": "", "main": "bin/www.js", "scripts": &#123; "test": "echo \"Error: no test specified\" &amp;&amp; exit 1", "dev": "cross-env NODE_ENV=dev nodemon bin/www.js" &#125;, "keywords": [], "author": "", "license": "ISC", "devDependencies": &#123; "cross-env": "^6.0.3", "nodemon": "^1.19.4" &#125;&#125; ä¿®æ”¹package.jsonä¸­é¡¹ç›®çš„ä¸»å…¥å£12345&#123; "script":&#123; "main":"bin/www.js" &#125;&#125; è®¾ç½®ç¯å¢ƒå˜é‡ åœ¨package.jsonä¸­ä½¿ç”¨cross-envè®¾ç½®NODE_ENVå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡,ç„¶åå†ä½¿ç”¨çš„åœ°æ–¹å¯ä»¥æ ¹æ®nodejsæä¾›çš„processå…¨å±€å˜é‡ä¸Šçš„process.env.NODE_ENVè·å–å½“å‰è¿è¡Œçš„ç¯å¢ƒå˜é‡ é€šå¸¸æ ¹æ®è¿™ä¸ªç¯å¢ƒå˜é‡å¯ä»¥æ§åˆ¶æœ¬åœ°æ•°æ®åº“å’Œçº¿ä¸Šæ•°æ®åº“ï¼Œæœ¬åœ°å¼€å‘çš„ipå’Œä¸Šçº¿åéƒ¨ç½²æœåŠ¡å™¨çš„ipç­‰ã€‚ å†™npmè„šæœ¬123"scripts": &#123; "dev": "cross-env NODE_ENV=dev nodemon bin/www.js"&#125; ä½¿ç”¨nodejsèµ·ä¸€ä¸ªhttpserver12345678910111213 // ç¬¬ä¸€æ­¥ï¼šå¼•å…¥httpæ¨¡å— const http= require('http') const PORT = 3000 ; // å¯ä»¥å°†ç«¯å£ï¼Œapiå’Œæ¨¡å—å‰ç¼€è¿˜æœ‰æ¥å£åœ°å€éƒ½é…ç½®åœ¨configæ–‡ä»¶ä¸­ // ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ªhttpserver const server = http.createServer((req,res)=&gt;&#123; // é€»è¾‘ &#125;) // ä»è®¾è®¡æ¨¡å¼çš„è§’åº¦ï¼Œè¿™é‡Œå¯ä»¥æŠŠå¤„ç†é€»è¾‘æŒ‰æ¨¡å—å•Šè¯åˆ‡åˆ†æˆserverHandlerï¼Œè¿™ä¸ªå…¥å£æ–‡ä»¶åªè´Ÿè´£èµ·ä¸€ä¸ªhttp-serverï¼Œé€»è¾‘åˆ†ç¦»const serverHandler = require('./serverHandler.js')const server = http.createServer(serverHandler) // ç¬¬ä¸‰æ­¥ï¼šç›‘å¬ç«¯å£ server.listen(PORT) console.log('server is running on port', PORT) vscode debugè°ƒè¯•nodejsä»£ç  é…ç½®debugçš„æ–‡ä»¶å…¥å£ åœ¨ç›¸åº”çš„ä»£ç ä¸­å¤§æ–­ç‚¹å°±å¯ä»¥è°ƒè¯•äº† æ€»ç»“åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°±åœ¨ä¸ä½¿ç”¨æ¡†æ¶çš„å‰æä¸‹ï¼Œæ­å»ºäº†ä¸€ä¸ªhttp-serverï¼Œå¯ä»¥é€šè¿‡cross-envè®¾ç½®NODE_ENVæ¥é…ç½®nodejså†…ç½®çš„process.env.NODE_ENVç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨nodemonåšæœ¬åœ°å¼€å‘æ—¶å€™çš„çƒ­æ›´æ–°;å¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨vs-codeå†…ç½®çš„debugæ–¹å¼è¿›è¡Œæ–­ç‚¹è°ƒè¯•ï¼›è¿™æ ·ä¸€ä¸ªç®€å•çš„serverå¼€å‘ç¯å¢ƒå°±æ­å»ºå¥½äº†â€¦]]></content>
      <categories>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—</category>
        <category>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ— (1) - æ­å»ºå¼€å‘ç¯å¢ƒ</category>
      </categories>
      <tags>
        <tag>nodejs å±±ç¾Šä¸Šå±±ç³»åˆ—ï¼ˆ1ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ9ï¼‰- ç»„ä»¶é€šä¿¡è·¯ç”±ä¼ å‚]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-9%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ9ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬ä¹ç§ï¼šé€šè¿‡routerå¯ä»¥æºå¸¦å‚æ•°è·³è½¬é¡µé¢çš„æ–¹å¼å®ç°æ•°æ®å…±äº«â€¦ è·¯ç”±ä¼ å‚ vue router ä¸€èˆ¬ä¼ é€’å‚æ•°æœ‰ä¸¤ç§æ–¹å¼:é€šè¿‡this.$router.pushçš„æ–¹å¼å°½å¿ƒè·¯ç”±è·³è½¬ï¼Œç„¶åå†queryå’Œparamså‚æ•°ä¸­ä¼ é€’æ•°æ® æ³¨æ„:ä¼ å‚æ˜¯this.$router,æ¥æ”¶å‚æ•°æ˜¯this.$route,è¿™é‡Œåƒä¸‡è¦çœ‹æ¸…äº†ï¼ï¼ï¼ this.$router å’Œthis.$routeæœ‰ä½•åŒºåˆ«?åœ¨æ§åˆ¶å°æ‰“å°ä¸¤è€…å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºä¸¤è€…çš„ä¸€äº›åŒºåˆ«ï¼š1.$routerä¸ºVueRouterå®ä¾‹ï¼Œæƒ³è¦å¯¼èˆªåˆ°ä¸åŒURLï¼Œåˆ™ä½¿ç”¨$router.pushæ–¹æ³•2.$routeä¸ºå½“å‰routerè·³è½¬å¯¹è±¡ï¼Œé‡Œé¢å¯ä»¥è·å–nameã€pathã€queryã€paramsç­‰ queryæ–¹å¼ä¼ å‚å’Œæ¥æ”¶å‚æ•° ä¼ é€’ä¼ å‚: 123456this.$router.push(&#123; path:'/xxx', query:&#123; id:id &#125;&#125;) æ¥æ”¶å‚æ•°: 1this.$route.query.id paramsæ–¹å¼ä¼ å‚å’Œæ¥æ”¶å‚æ•° ä¼ é€’ä¼ å‚: 123456this.$router.push(&#123; name:'xxx', params:&#123; id:id &#125;&#125;) æ¥æ”¶å‚æ•°: 1this.$route.params.id æ³¨æ„: paramsä¼ å‚ï¼Œpushé‡Œé¢åªèƒ½æ˜¯ name:â€™xxxxâ€™,ä¸èƒ½æ˜¯path:â€™/xxxâ€™,å› ä¸ºparamsåªèƒ½ç”¨nameæ¥å¼•å…¥è·¯ç”±ï¼Œå¦‚æœè¿™é‡Œå†™æˆäº†pathï¼Œæ¥æ”¶å‚æ•°é¡µé¢ä¼šæ˜¯undefinedï¼ï¼ï¼ å¦å¤–ï¼ŒäºŒè€…è¿˜æœ‰ç‚¹åŒºåˆ«ï¼Œç›´ç™½çš„æ¥è¯´queryç›¸å½“äºgetè¯·æ±‚ï¼Œé¡µé¢è·³è½¬çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨åœ°å€æ çœ‹åˆ°è¯·æ±‚å‚æ•°ï¼Œè€Œparamsç›¸å½“äºpostè¯·æ±‚ï¼Œå‚æ•°ä¸ä¼šå†åœ°å€æ ä¸­æ˜¾ç¤º é¡µé¢åˆ·æ–°çš„è¯ï¼Œqueryå‚æ•°è¿˜åœ¨urlé‡Œé¢å­˜åœ¨ï¼Œparamså‚æ•°å°±ä¸å­˜åœ¨äº†]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ9ï¼‰- ç»„ä»¶é€šä¿¡è·¯ç”±ä¼ å‚</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ9ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ8ï¼‰- ç»„ä»¶é€šä¿¡ä¸­å¤®äº‹ä»¶bus(eventBus)]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-8%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ8ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬å…«ç§ï¼šé€šè¿‡new Vue()å®ä¾‹çš„æ–¹å¼ï¼Œåœ¨è¿™ä¸ªå®åŠ›ä¸Šé€šè¿‡äº‹ä»¶å¹¿æ’­å’Œäº‹ä»¶ç›‘å¬çš„æ–¹å¼å®Œæˆè·¨ç»„ä»¶ä¸­é—´ä»¶æ•°æ®ä¼ è¾“çš„æ–¹å¼å®ç°æ•°æ®å…±äº«â€¦ ä¸­å¤®äº‹ä»¶æ€»çº¿Bus$emit/$on è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„Vueå®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶,å·§å¦™è€Œè½»é‡åœ°å®ç°äº†ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ã€å…„å¼Ÿã€è·¨çº§ã€‚å½“æˆ‘ä»¬çš„é¡¹ç›®æ¯”è¾ƒå¤§æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ›´å¥½çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆvuexã€‚ å…·ä½“å®ç°æ–¹å¼123var Event=new Vue();Event.$emit(äº‹ä»¶å,æ•°æ®);Event.$on(äº‹ä»¶å,data =&gt; &#123;&#125;); å…¨å±€å®šä¹‰äº‹ä»¶Bus(ç±»ä¼¼vuexçš„é¡¶å±‚çŠ¶æ€)12345678910// åœ¨ main.jsVue.prototype.$eventBus=new Vue()// ä¼ å€¼ç»„ä»¶this.$eventBus.$emit('eventTarget','è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼')// æ¥æ”¶ç»„ä»¶this.$eventBus.$on("eventTarget",v=&gt;&#123;console.log('eventTarget',v);//è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼&#125;) å®šä¹‰å±€éƒ¨å®ä¾‹123456789101112131415161718// åœ¨index.jsimport Vue from 'Vue';export const eventBus = new Vue()// éœ€è¦é€šè®¯çš„ç»„ä»¶éƒ½importè¿™ä¸ªå®ä¾‹import eventBus from './index'export default &#123; data()&#123; $eventBus:eventBus &#125;&#125;// ä¼ å€¼ç»„ä»¶this.$eventBus.$emit('eventTarget','è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼')// æ¥æ”¶ç»„ä»¶this.$eventBus.$on("eventTarget",v=&gt;&#123;console.log('eventTarget',v);//è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼&#125;) å‚è€ƒé“¾æ¥Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ8ï¼‰- ç»„ä»¶é€šä¿¡ä¸­å¤®äº‹ä»¶bus(eventBus)</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ8ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ7ï¼‰- ç»„ä»¶é€šä¿¡provide/inject]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-7%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ7ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬ä¸ƒç§ï¼šé€šè¿‡provide/injectå®ç°ç¥–å…ˆç»„ä»¶æ•°æ®å¯ä»¥è¢«åä»£ç»„ä»¶å…±äº«çš„æ–¹å¼å®ç°æ•°æ®é€šä¿¡â€¦ provide/inject(provideå¯ä»¥æ¥å—Object|()=&gt;{}) Vue2.2.0æ–°å¢API,è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚ä¸€è¨€è€Œè”½ä¹‹ï¼šç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ provide / inject API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸ä¾èµ–æ³¨å…¥çš„å…³ç³» éœ€è¦æ³¨æ„çš„æ˜¯ï¼šprovide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„â€”-vueå®˜æ–¹æ–‡æ¡£ æ‰€ä»¥ï¼Œä¸Šé¢ father.vue çš„ userName å¦‚æœæ”¹å˜äº†ï¼Œchild.vue çš„ this.name æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä»ç„¶æ˜¯ pisã€‚ åŸºæœ¬æ ¸å¿ƒç”¨æ³•123456789101112131415161718192021// father.vueexport default &#123; provide: &#123; name: this.userName &#125;, data()&#123; return&#123; userName:'pis' &#125; &#125;, mounted()&#123; this.userName = "uncle" // çˆ¶ç»„ä»¶æ”¹äº†userNameï¼Œä½†æ˜¯ä¼ ç»™å­å­™ç»„ä»¶injectè¿˜æ˜¯pis &#125;&#125;// child.vueexport default &#123; inject: ['name'], mounted () &#123; console.log(this.name); // pis &#125;&#125; provideä¸inject æ€ä¹ˆå®ç°æ•°æ®å“åº”å¼provideç¥–å…ˆç»„ä»¶çš„å®ä¾‹ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­æ³¨å…¥ä¾èµ–ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å­å­™ç»„ä»¶ä¸­ç›´æ¥ä¿®æ”¹ç¥–å…ˆç»„ä»¶çš„å®ä¾‹çš„å±æ€§ï¼Œä¸è¿‡è¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯è¿™ä¸ªå®ä¾‹ä¸ŠæŒ‚è½½å¾ˆå¤šæ²¡æœ‰å¿…è¦çš„ä¸œè¥¿æ¯”å¦‚propsï¼Œmethodsä½¿ç”¨2.6æœ€æ–°API Vue.observable ä¼˜åŒ–å“åº”å¼ provide(æ¨è) provideçˆ¶ç»„ä»¶çš„thiså®ä¾‹å¯¹è±¡(æœ‰å¤šä½™æ²¡æœ‰ç”¨çš„å‚æ•°) 123456789101112131415161718192021222324252627282930313233343536 // father ç»„ä»¶&lt;div&gt; &lt;h1&gt;fahter ç»„ä»¶&lt;/h1&gt; &lt;button @click="() =&gt; changeColor()"&gt;æ”¹å˜color&lt;/button&gt; &lt;ChildrenB /&gt; &lt;ChildrenC /&gt; provideçˆ¶ç»„ä»¶çš„colorï¼š&#123;&#123;color&#125;&#125;&lt;/div&gt;......data() &#123; return &#123; color: "blue" &#125;;&#125;,// provide() &#123; // return &#123; // theme: &#123; // color: this.color //è¿™ç§æ–¹å¼ç»‘å®šçš„æ•°æ®å¹¶ä¸æ˜¯å¯å“åº”çš„ // &#125; // å³fatherç»„ä»¶çš„colorå˜åŒ–åï¼Œç»„ä»¶childrenB,childrenCä¸ä¼šè·Ÿç€å˜ // &#125;;// &#125;,provide() &#123; return &#123; theme: this//æ–¹æ³•ä¸€ï¼šæä¾›ç¥–å…ˆç»„ä»¶çš„å®ä¾‹ &#125;;&#125;,methods: &#123; changeColor(color) &#123; if (color) &#123; this.color = color; &#125; else &#123; this.color = this.color === "blue" ? "red" : "blue"; &#125; &#125;&#125; ä½¿ç”¨æ–°ç‰¹æ€§ 123456789101112131415161718// æ–¹æ³•äºŒ:ä½¿ç”¨2.6æœ€æ–°API Vue.observable ä¼˜åŒ–å“åº”å¼ provide provide() &#123; const provideData= Vue.observable(&#123; color: this.$data // ä½¿ç”¨observableåŒ…è£…åå°±åŠ¨æ€å“åº”å¼ &#125;); return &#123; theme: provideData.color // è¿™æ ·å°±å¯ä»¥ç›‘å¬åˆ°æ•°æ®çš„å˜åŒ–äº† &#125;; &#125;, methods: &#123; changeColor(color) &#123; if (color) &#123; this.theme.color = color; &#125; else &#123; this.theme.color = this.theme.color === "blue" ? "red" : "blue"; &#125; &#125; &#125; ComponentBæˆ–è€…ComponentCçš„ç»„ä»¶ä¸­ä½¿ç”¨ 1234567891011121314151617 // å­å­™ç»„ä»¶ä¸­ä½¿ç”¨&lt;template functional&gt;&lt;div class="border2"&gt;&lt;h3 :style="&#123; color:theme.color &#125;"&gt;ComponentBæˆ–è€…ComponentCçš„ç»„ä»¶ä¸­ä½¿ç”¨&lt;/h3&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; inject:['theme'], // å¼•å…¥çˆ¶ç»„ä»¶provideçš„thiså®ä¾‹ inject: &#123; theme: &#123; //å‡½æ•°å¼ç»„ä»¶å–å€¼ä¸ä¸€æ · default: () =&gt; (&#123;&#125;) &#125; &#125;&#125;;&lt;/script&gt; å‚è€ƒé“¾æ¥Vue ç»„ä»¶é—´é€šä¿¡å…­ç§æ–¹å¼Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ7ï¼‰- ç»„ä»¶é€šä¿¡provide/inject</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ7ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ6ï¼‰- ç»„ä»¶é€šä¿¡$attrs/$listeners]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-6%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ6ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬å…­ç§ï¼šé€šè¿‡$attrs/$listenersè·å–æ²¡æœ‰åœ¨ç»„ä»¶propså±æ€§ä¸­å£°æ˜çš„å±æ€§å’Œç»‘å®šåœ¨ç»„ä»¶ä¸Šçš„äº‹ä»¶å¯¹è±¡çš„æ–¹å¼å®Œæˆæ•°æ®é€šä¿¡â€¦ $attrs/$listeners$attrs$attrsä¼ å€¼æ—¶æ˜¯ä¸ä¼šä¼ é€’classå’Œstyleä»¥åŠå·²ç»è¢«propsæ¥æ”¶çš„å€¼çš„åœºæ™¯:å¦‚æœçˆ¶ä¼ å­æœ‰å¾ˆå¤šå€¼,é‚£ä¹ˆåœ¨å­ç»„ä»¶éœ€è¦å®šä¹‰å¤šä¸ª propsè§£å†³:attrsè·å–å­ä¼ çˆ¶ä¸­æœªåœ¨ props å®šä¹‰çš„å€¼ father ===&gt; child ===&gt; grand-child è¿™ç§ç»„ä»¶propsä¸‹å‘ é€šè¿‡åœ¨childç»„ä»¶ä¸­å®šä¹‰éœ€è¦ç»™childç»„ä»¶çš„widthå±æ€§ $attrså°±å‰©ä¸‹éœ€è¦ä¼ ç»™grand-childå­™å­ç»„ä»¶çš„æ•°æ® æ²¡æœ‰å®šä¹‰nativeçš„éåŸç”Ÿäº‹ä»¶ä¼šè¢«$listenerså±‚å±‚ä¼ é€’ 1234567// çˆ¶ç»„ä»¶&lt;child title="è¿™æ˜¯æ ‡é¢˜" width="80" height="80" imgUrl="imgUrl"/&gt;// å­ç»„ä»¶mounted() &#123; console.log(this.$attrs) //&#123;title: "è¿™æ˜¯æ ‡é¢˜", width: "80", height: "80", imgUrl: "imgUrl"&#125;&#125;, ç›¸å¯¹åº”çš„å¦‚æœå­ç»„ä»¶å®šä¹‰äº† props,æ‰“å°çš„å€¼å°±æ˜¯å‰”é™¤å®šä¹‰çš„å±æ€§ 12345678910111213// childç»„ä»¶&lt;template&gt; &lt;grand-child :attrs="$attrs"/&gt;&lt;/template&gt;props: &#123; width: &#123; // --------------------å®šä¹‰äº†width type: String, default: '' &#125;&#125;,mounted() &#123;console.log(this.$attrs) //&#123;title: "è¿™æ˜¯æ ‡é¢˜", height: "80", imgUrl: "imgUrl"&#125; $attrsé‡Œé¢å°±æ²¡æœ‰widthäº†&#125; $listeners$listenersé‡Œå­˜æ”¾çš„æ˜¯çˆ¶ç»„ä»¶ä¸­ç»‘å®šçš„éåŸç”Ÿäº‹ä»¶ ä½¿ç”¨.nativeä¿®é¥°ç¬¦çš„äº‹ä»¶ï¼Œä¸ä¼šä½“ç°åœ¨$listenerså±æ€§ä¸Šã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778// fatherç»„ä»¶ï¼ˆApp.vueï¼‰&lt;template&gt; &lt;div id="app"&gt; &lt;child :username="username" :age="age" v-on:test1="onTest1" v-on:test2="onTest2"&gt; //æ­¤å¤„ç›‘å¬äº†ä¸¤ä¸ªäº‹ä»¶ï¼Œå¯ä»¥åœ¨Bç»„ä»¶æˆ–è€…Cç»„ä»¶ä¸­ç›´æ¥è§¦å‘ &lt;/child&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Child from './Child.vue';export default &#123; data() &#123; return &#123; username:'pis', age:18, job:'developer' &#125;; &#125;, components: &#123; Child &#125;, methods: &#123; onTest1() &#123; console.log('test1 running...'); &#125;, onTest2() &#123; console.log('test2 running'); &#125; &#125;&#125;;&lt;/script&gt;// childrenç»„ä»¶ï¼ˆChild.vueï¼‰&lt;template&gt; &lt;div class="child"&gt; &lt;p&gt;in child:&lt;/p&gt; &lt;p&gt;props: &#123;&#123;userName&#125;&#125;&lt;/p&gt; // pis &lt;p&gt;$attrs: &#123;&#123;$attrs&#125;&#125;&lt;/p&gt; // 18 developer &lt;hr&gt; &lt;!-- grandChildç»„ä»¶ä¸­èƒ½ç›´æ¥è§¦å‘testçš„åŸå› åœ¨äº childç»„ä»¶è°ƒç”¨grandChildç»„ä»¶æ—¶ ä½¿ç”¨ v-on ç»‘å®šäº†$listeners å±æ€§ --&gt; &lt;!-- é€šè¿‡v-bind ç»‘å®š$attrså±æ€§ï¼ŒgrandChildç»„ä»¶å¯ä»¥ç›´æ¥è·å–åˆ°fatherç»„ä»¶ä¸­ä¼ é€’ä¸‹æ¥çš„propsï¼ˆé™¤äº†childç»„ä»¶ä¸­propså£°æ˜çš„ï¼‰ --&gt; &lt;grand-child v-bind="$attrs" v-on="$listeners" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import grandChild from './grandChild.vue';export default &#123; props: ['userName'], data() &#123; return &#123;&#125;; &#125;, inheritAttrs: false, components: &#123; grandChild &#125;, mounted() &#123; this.$emit('test1'); // è¿™é‡Œè§¦å‘test1çš„äº‹ä»¶åœ¨fatherç»„ä»¶ä¸­æ‰“å° &#125;&#125;;&lt;/script&gt;// grandChild ç»„ä»¶ (grandChild.vue)&lt;template&gt; &lt;div class="grandChild"&gt; &lt;p&gt;in grandChild:&lt;/p&gt; &lt;p&gt;props: &#123;&#123;age&#125;&#125;&lt;/p&gt; // 18 &lt;p&gt;$attrs: &#123;&#123;$attrs&#125;&#125;&lt;/p&gt; // developer &lt;hr&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: ['age'], data() &#123; return &#123;&#125;; &#125;, inheritAttrs: false, mounted() &#123; this.$emit('test2'); // è¿™é‡Œé€šè¿‡$listenersè·å–åˆ°test1å’Œtest2çš„äº‹ä»¶ï¼Œè§¦å‘test2çš„äº‹ä»¶åœ¨fatherç»„ä»¶ä¸­æ‰“å° &#125;&#125;;&lt;/script&gt; å‚è€ƒé“¾æ¥Vue æ–°å¢çš„$attrsä¸$listenersçš„è¯¦è§£Vue å¼€å‘å¿…é¡»çŸ¥é“çš„ 36 ä¸ªæŠ€å·§]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ6ï¼‰- ç»„ä»¶é€šä¿¡$attrs/$listeners</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ6ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ5ï¼‰- ç»„ä»¶é€šä¿¡$parent/$children,$refs/$rootè·å–Vueç»„ä»¶å®ä¾‹]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-5%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ5ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬ä¸‰ã€å››ã€äº”ï¼šé€šè¿‡$parent/$children,$refs/$rootè·å–ç»„ä»¶å®ä¾‹ï¼Œä»è€Œè·å–å®ä¾‹ä¸Šç»‘å®šçš„å±æ€§å’Œæ–¹æ³•â€¦ $parent / $childrenä¸ ref refï¼šå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ;å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ $parent / $childrenï¼šè®¿é—®çˆ¶ / å­å®ä¾‹ $rootè·å–æ ¹å®ä¾‹ å…„å¼Ÿç»„ä»¶é€šä¿¡å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿äº†,å¯èƒ½è¦å€ŸåŠ©eventBusæˆ–è€…é¡¶å±‚çŠ¶æ€vuexæ¥è¿›è¡Œé€šä¿¡â€¦ ref æ³¨æ„å®šä¹‰çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ref åœ¨ç»„ä»¶é‡Œé¢ç”¨çš„æ—¶å€™æ˜¯$refs[â€˜refNameâ€™]è·å–ç»„ä»¶çš„vueå®ä¾‹ 123456789101112131415161718192021222324252627 // component-a å­ç»„ä»¶ export default &#123; data () &#123; return &#123; title: 'Vue.js' &#125; &#125;, methods: &#123; sayHello () &#123; window.alert('Hello') &#125; &#125; &#125; // çˆ¶ç»„ä»¶ &lt;template&gt; &lt;component-a ref="comA"&gt;&lt;/component-a&gt; &lt;/template&gt; &lt;script&gt; export default &#123; mounted () &#123; const comA = this.$refs.comA; console.log(comA.title); // Vue.js comA.sayHello(); // å¼¹çª— &#125; &#125;&lt;/script&gt; $parent:çˆ¶å®ä¾‹/$children:å­å®ä¾‹ æ³¨æ„childrenå’Œparentæ˜¯çˆ¶é“¾/å­é“¾,ä¹Ÿå°±æ˜¯å¦‚æœæ˜¯å¤šå±‚çº§çš„è¯å¯ä»¥é€šè¿‡this.$parent[0].$parent[1]â€¦è¿™ç§é“¾å¼çš„æ–¹å¼ä¸€ç›´è·å–ç»„ä»¶é“¾ä¸Šçš„å®ä¾‹å¯¹è±¡ï¼Œä½†æ˜¯ä¸ä¿è¯é¡ºåºã€‚ 1234567891011//çˆ¶ç»„ä»¶ mounted()&#123; console.log(this.$children) //å¯ä»¥æ‹¿åˆ° ä¸€çº§å­ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³• //æ‰€ä»¥å°±å¯ä»¥ç›´æ¥æ”¹å˜ data,æˆ–è€…è°ƒç”¨ methods æ–¹æ³• &#125; //å­ç»„ä»¶ mounted()&#123; console.log(this.$parent) //å¯ä»¥æ‹¿åˆ° parent çš„å±æ€§å’Œæ–¹æ³• &#125; $root æœ€åæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯æŒ‚è½½åˆ°æ ¹å®ä¾‹ä¸Š 123456 // çˆ¶ç»„ä»¶mounted()&#123; console.log(this.$root) //è·å–æ ¹å®ä¾‹,æœ€åæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯æŒ‚è½½åˆ°æ ¹å®ä¾‹ä¸Š console.log(this.$root.$children[0]) //è·å–æ ¹å®ä¾‹çš„ä¸€çº§å­ç»„ä»¶ console.log(this.$root.$children[0].$children[0]) //è·å–æ ¹å®ä¾‹çš„äºŒçº§å­ç»„ä»¶&#125;]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ5ï¼‰- ç»„ä»¶é€šä¿¡$parent/$children,$refs/$rootè·å–Vueç»„ä»¶å®ä¾‹</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ5ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ3ï¼‰- ç»„ä»¶é€šä¿¡propsã€$emit/$on]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-3%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ3ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬ä¸€ç§ï¼špropsã€$emit/$onçš„æ–¹å¼è¿›è¡Œæ•°æ®çš„å±æ€§ä¸‹å‘å’Œäº‹ä»¶å¹¿æ’­/ç›‘å¬çš„æ–¹å¼è¿›è¡Œæ¥æ”¶â€¦ çˆ¶ä¼ å­props/å­ä¼ çˆ¶$emitå‘é€äº‹ä»¶$onç›‘å¬ è¿™ä¹Ÿæ˜¯æœ€å¸¸è§„çš„é€šä¿¡æ–¹å¼ï¼Œå¦‚æœè·¨å±‚çº§ä¹Ÿå¯ä»¥ä¸€å±‚ä¸€å±‚ä¼ é€’ä¸‹å‘propsï¼Œç„¶åä¸€å±‚ä¸€å±‚emitäº‹ä»¶é€šè¿‡ç›‘å¬è·å–å­ç»„ä»¶çš„æ•°æ®. propsçš„é…ç½®é¡¹1234567891011121314151617181920212223242526272829303132333435363738394041424344// children.vueå­ç»„ä»¶// props:['props1Name','props2Name',], ä¸å»ºè®®è¿™ä¹ˆå†™ props:&#123; props1Name:&#123; type:'String', // propsç±»å‹ String/Number/Boolean/Function/Object/Array/Symbol required:false, // æ˜¯å¦å¿…å¡« default:'props1', // é»˜è®¤å‚æ•° &#125;, //å¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›ã€‚å½“ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä»–ä¸º å·¥å‚å‡½æ•°(factory function) ã€‚ props2Name:&#123; type:'Object', default: function () &#123; return &#123; message: 'hello' &#125; &#125; &#125;, // è‡ªå®šä¹‰éªŒè¯å‡½æ•° props3Name: &#123; validator: function (value) &#123; return value &gt; 10 &#125; &#125;ï¼Œ // å‡½æ•° props4Name: &#123; type:Function, default:()=&gt;&#123;&#125; &#125;ï¼Œ // æ•°ç»„ props5Name: &#123; type: Array, // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å– default: () =&gt; [] &#125; &#125;,// ç»„ä»¶ç»‘å®šçš„å±æ€§ // çˆ¶ç»„ä»¶father.vue &lt;div&gt; &lt;p&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶&lt;p&gt; &lt;children :props1Name="props1Name" :props2Name="props2Name" :props3Name="props3Name" :props4Name="props4Name" :props5Name="props5Name" /&gt; &lt;/div&gt; éœ€è¦æ³¨æ„çš„ç‚¹:propsä¼ é€’æ˜¯å•å‘çš„ï¼Œåªèƒ½ä»çˆ¶ç»„ä»¶æµåˆ°å­ç»„ä»¶,æ‰€ä»¥ä¸èƒ½ç›´æ¥åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹propsçš„å€¼(å¯ä»¥é€šè¿‡è®¡ç®—å±æ€§å°†propsé€šè¿‡get/setå­˜å‚¨æˆå­ç»„ä»¶çš„å±€éƒ¨å˜é‡,ç„¶åä¿®æ”¹ä½¿ç”¨)12345678910111213141516171819202122232425262728293031// çˆ¶ç»„ä»¶&lt;children :isShow="isShow" /&gt;// å­ç»„ä»¶ä¸­&lt;template&gt; &lt;Modal v-model="showModal" @on-cancel="closeModal"&gt; &lt;/Modal&gt;&lt;/template&gt;export default&#123; props:&#123; isShow:&#123; type:Boolean, required:true, default:false &#125; &#125;, computed:&#123; showModal:&#123; get()&#123; return this.isShow &#125;, set(val)&#123;&#125; &#125; &#125;, methods:&#123; closeModal()&#123; this.showModal = false; &#125; &#125;&#125; $emit123456789// father.vue&lt;children @emitEventName ="emitEventHandler" /&gt;emitEventHandler(event)&#123; // å¯ä»¥æ¥æ”¶å‘è¿‡æ¥çš„å‚æ•°ï¼Œé»˜è®¤æ˜¯äº‹ä»¶å¯¹è±¡&#125;// children.vuethis.$emit('emitEventName');// $eventé»˜è®¤å‚æ•°ä¼ é€’äº‹ä»¶å¯¹è±¡this.$emit('emitEventName',params);//å¯ä»¥ä¼ é€’paramså‚æ•°]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ3ï¼‰- ç»„ä»¶é€šä¿¡propsã€$emit/$on</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ3ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ4ï¼‰- ç»„ä»¶é€šä¿¡vuex]]></title>
    <url>%2F2019%2F10%2F19%2Fvue-4%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ4ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚1.propsã€$emit/$on2.vuex3.$parent/$children4.$refs5.$root6.$attrs/$listeners7.provide/inject8.ä¸­å¤®äº‹ä»¶bus(eventBus)9.è·¯ç”±ä¼ å‚ æœ¬æ–‡ä¸»è¦é˜è¿°ç¬¬äºŒç§ï¼švuexçš„æ–¹å¼è¿›è¡Œå¤šç»„ä»¶æ•°æ®é€šä¿¡â€¦ vuexVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚ Vuexå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šå…¨å±€Vuexç±»ä¼¼äºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒåœ¨æ•´ä¸ªVueåº”ç”¨ä¸­ç”Ÿæ•ˆã€‚ ç»Ÿä¸€åªè¦çŠ¶æ€ä¿®æ”¹ï¼Œéƒ½ä¼šè‡ªåŠ¨é€šçŸ¥åˆ°æ‰€æœ‰ç›¸å…³ç»„ä»¶ï¼Œä¸éœ€è¦ä½¿ç”¨è€…ä¸»åŠ¨æ¨é€ã€‚ å•ä¸€åœ¨å…¨å±€ä¸­åªéœ€è¦ä¿å­˜ä¸€ä»½ï¼Œå³å¯åœ¨å…¨å±€ä¸­ä½¿ç”¨ã€‚ Vuexè§£å†³äº†å“ªäº›é—®é¢˜ï¼šæ•°æ®è·¨ç»„ä»¶å…±äº«ï¼Œæ•°æ®çš„ä¼ è¾“ä¸å†å—åˆ°çˆ¶å­çº§é™åˆ¶ï¼Œå¯ä»¥åœ¨å„çº§ç»„ä»¶ä¸­ä»»æ„è·å–ã€‚é˜²æ­¢æ•°æ®è¢«æ„å¤–ç¯¡æ”¹ï¼ŒVuexä¼šè®°å½•æ•°æ®è¢«ä¿®æ”¹çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ä¿®æ”¹çŠ¶æ€çš„ç»„ä»¶ã€æ—¶é—´ã€ä»£ç ä½ç½®ç­‰ï¼Œä¾¿äºå®šä½å’Œè¿½è¸ªé”™è¯¯ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿äº†è°ƒè¯•å’Œæµ‹è¯•ã€‚ ç®€å•çš„è¯´å°±æ˜¯storeé‡Œé¢å­˜å‚¨çš„stateæ˜¯æƒ³è¦åœ¨è·¨å¤šå±‚çº§å¤šç»„ä»¶å…±äº«çš„æ•°æ®==ã€‹æ ¹æ®ä¸šåŠ¡æ‹†åˆ†æˆmoduleä¸åŒçš„æ¨¡å—ç‹¬ç«‹ç»´æŠ¤è‡ªå·±çš„é¡¶å±‚çŠ¶æ€==ã€‹ä¸ºäº†stateç»´æŠ¤ï¼Œæé«˜äº†ä¿®æ”¹å®ƒçš„é—¨æ ï¼Œåªèƒ½é€šè¿‡$commitä¸€ä¸ªmutationè§¦å‘stateçš„ä¿®æ”¹==&gt;é€šè¿‡è§¦å‘åŒæ­¥æˆ–è€…å¼‚æ­¥çš„actionæ¥commitä¸€ä¸ªmutationæ¥ä¿®æ”¹stateã€‚ è¿™ä¸ªFluxçš„å•é¡¹æ•°æ®æµå’Œreactçš„reduxæ€æƒ³å…¶å®æ˜¯ä¸€æ ·çš„ã€‚ Vuex åŸºæœ¬æ¦‚å¿µï¼šstate:å®šä¹‰å­˜è´®æ•°æ®çš„ä»“åº“ ,å¯é€šè¿‡this.$store.state æˆ–mapStateè®¿é—® getter:è·å– store å€¼,å¯è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§,å¯é€šè¿‡this.$store.getter æˆ–mapGettersè®¿é—® action:å¼‚æ­¥è°ƒç”¨å‡½æ•°æ‰§è¡Œmutation,è¿›è€Œæ”¹å˜ store å€¼,å¯é€šè¿‡ this.$dispatchæˆ–mapActionsè®¿é—® mutation:åŒæ­¥æ”¹å˜ store å€¼,ä¸ºä»€ä¹ˆä¼šè®¾è®¡æˆåŒæ­¥,å› ä¸ºmutationæ˜¯ç›´æ¥æ”¹å˜ store å€¼,vue å¯¹æ“ä½œè¿›è¡Œäº†è®°å½•,å¦‚æœæ˜¯å¼‚æ­¥æ— æ³•è¿½è¸ªæ”¹å˜.å¯é€šè¿‡mapMutationsè°ƒç”¨ modules:æ¨¡å—,å¦‚æœçŠ¶æ€è¿‡å¤š,å¯ä»¥æ‹†åˆ†æˆæ¨¡å—,æœ€ååœ¨å…¥å£é€šè¿‡â€¦è§£æ„å¼•å…¥ Vuexçš„ä½¿ç”¨å…ˆä½¿ç”¨vue-cliåˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œä¹‹åä½¿ç”¨npm install vuex â€“saveå®‰è£…Vuexï¼Œå°±å¯ä»¥åœ¨/src/main.jsä¸­é…ç½®Vuexï¼š1234567891011121314151617181920212223242526272829303132333435// 1. vuex-å¼•å…¥import Vuex from 'vuex'// vue-cliè‡ªå¸¦çš„ç¼–è¯‘é…ç½®Vue.config.productionTip = false// 1. vuex-åœ¨Vueä¸­ä½¿ç”¨Vuexï¼Œè®©Vuexä¸­çš„æ“ä½œæŒ‚è½½åˆ°Vueä¸­ã€‚Vue.use(Vuex)// 3. vuex-å£°æ˜storeå¯¹è±¡const store = new Vuex.Store(&#123; strict: process.env.NODE_ENV !== 'production', // ä¸¥æ ¼æ¨¡å¼ï¼šé˜²æ­¢ç›´æ¥ä¿®æ”¹stateï¼Œåªèƒ½ç”¨Mutationsæ“ä½œï¼Œç”±äºstrictæ¨¡å¼æ˜¯é€šè¿‡å¯¹è±¡æ·±åº¦åŒ¹é…è¿›è¡Œï¼Œç”Ÿäº§æ¨¡å¼æ‰“å¼€ä¼šä¸¥é‡å½±å“æ€§èƒ½ã€‚ state: &#123;&#125;, // æ ¸å¿ƒï¼šæ•°æ® mutations: &#123; // å®šä¹‰Mutations &#125;, actions: &#123; // å®šä¹‰actions &#125;, getters: &#123; a: state =&gt; state.app.a, b: state =&gt; state.app.b, fullName:state=&gt; `$&#123;state.user.firstName&#125; $&#123;state.user.lastName&#125;` // å½“ç„¶ä¹Ÿå¯ä»¥è·¨æ¨¡å—æ•°æ®é€šè¿‡è®¡ç®—å±æ€§æ¥ç»„åˆ &#125;, // ç±»ä¼¼äºcomputed modules: &#123; app &#125; // å°†storeæ‹†åˆ†æˆå¤šä¸ªå‘½åç©ºé—´ï¼Œåˆ†å¼€ä½¿ç”¨ã€‚&#125;)/* eslint-disable no-new */new Vue(&#123; el: '#app', router, store, // å°†storeæŒ‚è½½åˆ°Vueå®ä¾‹ä¸­ã€‚ components: &#123; App &#125;, template: '&lt;App/&gt;'&#125;) è¯»å–stateçš„å€¼12345678// åœ¨Index.vueä¸­å¯ä»¥é€šè¿‡$store.state.aè¯»å–åˆ°å·²å®šä¹‰çš„açš„å€¼ã€‚&lt;template&gt; &lt;div&gt; &lt;Cmp1/&gt; // è¯»å–Vuexçš„state a: &#123;&#123; $store.state.a &#125;&#125; &lt;/div&gt;&lt;/template&gt; ä¿®æ”¹stateçš„å€¼ å¯ä»¥é€šè¿‡commitä¸€ä¸ªmutationä¿®æ”¹state å¯ä»¥é€šè¿‡dispatchä¸€ä¸ªactionè§¦å‘mutationæ¥ä¿®æ”¹state 1234567891011121314//å®šä¹‰Actionså’ŒMutationsconst app = &#123; state: &#123;a: 12, b: 5&#125;, // æ ¸å¿ƒï¼šæ•°æ® mutations: &#123; // å®šä¹‰Mutationsï¼Œé€šè¿‡actionè§¦å‘å¹¶æ›´æ–°stateï¼ŒVue Devtoolå¯ä»¥ç›‘å¬åˆ°æ•°æ®çš„ä¿®æ”¹æƒ…å†µã€‚ add (state, n) &#123; // ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ—§stateï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºactionä¸­commitä¼ å…¥çš„å‚æ•°ã€‚ state.a += n &#125; &#125;, actions: &#123; // å®šä¹‰actionsï¼Œactionsè¢«è§¦å‘åï¼Œå°†æ•°æ®æäº¤ç»™Mutationsè¿›è¡Œå¤„ç†å¹¶æ›´æ–°stateã€‚ add (&#123; commit &#125;, n) &#123; // ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºcontextå¯¹è±¡ï¼Œå®ƒä¸æ˜¯storeæœ¬èº«ï¼Œå¯ä»¥é€šè¿‡context.commitæäº¤ä¸€ä¸ªMutationã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºç”¨äºæ›´æ–°stateçš„å‚æ•°ã€‚ commit('add', n) &#125; &#125;&#125; 12345678910111213141516171819202122 // æ¥ä¸‹æ¥å®ç°åœ¨Cmp1.vueç»„ä»¶ä¸­ï¼Œç‚¹å‡»æŒ‰é’®åä¿®æ”¹stateä¸­çš„açš„å€¼ &lt;template lang="html"&gt; &lt;div class=""&gt; &lt;input type="button" value="+5" @click="fn()"&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default &#123; name: 'cmp1', methods: &#123; fn()&#123; // this.$store.state.a+=5; // åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œç›´æ¥ä¿®æ”¹stateå¯ä»¥æˆåŠŸï¼Œä½†ä¼šæŠ¥é”™ // this.$store.commit('add', 5); // ç›´æ¥è§¦å‘ä¸€ä¸ªMutationå…¶å®ä¹Ÿå¯è¡Œï¼Œä¸”ä¸ä¼šæŠ¥é”™ï¼Œä½†è¿™å…¶å®è¿èƒŒäº†Vuexè®¾è®¡çš„åˆè¡·ã€‚ this.$store.dispatch('add', 5); // è§¦å‘ä¸€ä¸ªactionï¼Œå®ç°æ•°æ®ä¿®æ”¹ã€‚ &#125; &#125; &#125;&lt;/script&gt;&lt;style lang="css" scoped&gt;&lt;/style&gt; vuexè¾…åŠ©å‡½æ•°mapGetters/mapState/mapActionGetterçš„åŸºæœ¬ä½¿ç”¨ï¼ˆthis.$store.getters.countï¼‰Vuexä¸­çš„Getterçš„ä½œç”¨ç±»ä¼¼äºVueä¸­çš„Computedï¼Œå¯ä»¥å®ç°åœ¨stateå˜åŒ–æ—¶è‡ªåŠ¨è®¡ç®—å‡ºä¸€ä¸ªæ–°çš„ç»“æœã€‚ åœ¨storeä¸­é…ç½®ä¸€ä¸ªGetterï¼š 12345678modules:&#123; // å‡å¦‚æœ‰ä¸¤ä¸ªæ¨¡å— firstNameModule, lastNameModule&#125;,getters: &#123; fullName:state=&gt; `$&#123;state.firstNameModule.firstName&#125; $&#123;state.lastNameModule.lastName&#125;` // å½“ç„¶ä¹Ÿå¯ä»¥è·¨æ¨¡å—æ•°æ®é€šè¿‡è®¡ç®—å±æ€§æ¥ç»„åˆ&#125; åœ¨ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡$store.getters.countå°±å¯ä»¥è¯»å–åˆ°ç›¸åº”çš„å€¼ã€‚ï¼š 1&lt;div&gt;count from getters: &#123;&#123;$store.getters.count&#125;&#125;&lt;/div&gt; ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œé€šå¸¸å¯ä»¥æŠŠGetteré…ç½®åˆ°Computedä¸­ 12345computed: &#123; countFromComputed() &#123; return this.$store.getters.count &#125;&#125; åœ¨Templateä¸­å¼•ç”¨ 1&lt;div&gt;count from computed: &#123;&#123;countFromComputed&#125;&#125;&lt;/div&gt; åˆ©ç”¨Computedçš„get/setæ›´æ–°Stateï¼šå› ä¸ºComputedå±æ€§æ”¯æŒgetå’Œsetæ–¹æ³•ï¼Œæ‰€ä»¥èƒ½å¤Ÿä½¿ç”¨setæ–¹æ³•æ›´æ–°Stateã€‚1234567891011121314151617// é¦–å…ˆåœ¨Storeä¸­è®¾ç½®actionså’ŒMutationsã€‚ mutations: &#123; addA (state, n) &#123; state.a += n &#125;, addB (state, n) &#123; state.b += n &#125;,&#125;,actions: &#123; addA (&#123;commit&#125;, n) &#123; commit('addA', n) &#125;, addB (&#123;commit&#125;, n) &#123; commit('addB', n) &#125;,&#125;, åœ¨è®¡ç®—å±æ€§çš„setä¸­è§¦å‘actionæˆ–è€…commitè§¦å‘mutationä¿®æ”¹state 12345678countFromComputedSet: &#123; get() &#123; return this.$store.getters.count &#125;, set(value) &#123; this.$store.dispatch('addA', 5) &#125;,&#125;, mapæ˜ å°„å‡½æ•° mapStateçš„ä½¿ç”¨ é¦–å…ˆéœ€è¦å¼•å…¥mapå‡½æ•° 1import &#123; mapState, mapActions, mapGetters &#125; from 'vuex' åœ¨computedä¸­ä½¿ç”¨mapStateï¼š 123computed: &#123; ...mapState(['a', 'b']),&#125; å°±å¯ä»¥ä»£æ›¿è¿™æ®µä»£ç  12345678computed: &#123; a() &#123; return this.$store.state.a &#125;, b() &#123; return this.$store.state.b &#125;, &#125; mapActionsçš„ä½¿ç”¨ åœ¨methodsä¸­æ·»åŠ addAå’ŒaddBçš„æ˜ å°„ 123methods: &#123; ...mapActions(['addA', 'addB']),&#125;, ç­‰ä»·äº 12345678methods: &#123; addA(n) &#123; this.$store.dispatch('addA', n) &#125;, addB(n) &#123; this.$store.dispatch('addA', n) &#125;, &#125; mapGettersçš„ä½¿ç”¨ åœ¨computedä¸­æ·»åŠ countçš„æ˜ å°„ï¼š 123computed: &#123; ...mapGetters(['count'])&#125; ç­‰ä»·äº 12345computed: &#123; count() &#123; return this.$store.getters.count &#125;&#125; ä¹Ÿå¯ä»¥ 123methods: &#123; ...mapGetters(['count'])&#125; ç­‰ä»·äº 12345methods:&#123; count()&#123; return this.$store.getters.count &#125;&#125; å‚è€ƒé“¾æ¥Vuexå…¥é—¨Vuex GettermapStateã€mapActionsã€mapGetters]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ4ï¼‰- ç»„ä»¶é€šä¿¡vuex</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ4ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ2ï¼‰- vueç»„ä»¶åŒ–]]></title>
    <url>%2F2019%2F10%2F08%2Fvue-2%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ2ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueçš„ç»„ä»¶åŒ–éƒ¨åˆ†çš„å†…å®¹,ç®€å•æè¿°ä¸€ä¸‹ä¸€ä¸ªvueå®ä¾‹æˆ–è€…è¯´æ˜¯ç»„ä»¶å†…éƒ¨åŒ…å«å“ªäº›é…ç½®é¡¹ç›®â€¦ ç»„ä»¶åŒ–Vueç»„ä»¶ = Vueå®ä¾‹ = new Vue(option) å…¶å®vueç»„ä»¶å°±æ˜¯ä¸€ä¸ªä¸ªä¸åŒoptioné…ç½®çš„vueå®ä¾‹ã€‚123456789101112// ç”¨æ³•&lt;component-demo // ä¸€èˆ¬åœ¨htmlä¸­ä½¿ç”¨åˆ†å‰² name="Hello Vueï¼" // åŸç”Ÿå±æ€§ :type="type" :is-visible="false" :on-change="handlePropChange" title="å±æ€§Demo" // åŸç”Ÿå±æ€§ class="test1" // åŸç”Ÿå±æ€§ :class="['test2']" // è¿™ç§å†™æ³•ç­‰ä»·äºclass="test2" :style="&#123; marginTop: '20px' &#125;" style="margin-top: 10px" // åŸç”Ÿå±æ€§/&gt; é…ç½®ç»„ä»¶çš„option1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162var vueInstant = new Vue(&#123; name:'componentDemo', // ç»„ä»¶åç§° éå¿…å¡«ï¼Œjsä¸­ä½¿ç”¨å°é©¼å³°,åœ¨ä½¿ç”¨é€’å½’ç»„ä»¶çš„æ—¶å€™å¿…å¡« inheritAttrs: false, // æ²¡æœ‰å£°æ˜çš„å±æ€§æ˜¯å¦å†ç»„ä»¶çš„æ ¹èŠ‚ç‚¹è‡ªåŠ¨æŒ‚è½½ï¼Œé»˜è®¤æ˜¯true // props:['props1Name','props2Name',], ä¸å»ºè®®è¿™ä¹ˆå†™ props:&#123; props1Name:&#123; type:'String', // propsç±»å‹ String/Number/Boolean/Function/Object/Array/Symbol required:false, // æ˜¯å¦å¿…å¡« default:'props1', // é»˜è®¤å‚æ•° &#125;, //å¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›ã€‚å½“ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä»–ä¸º å·¥å‚å‡½æ•°(factory function) ã€‚ props2Name:&#123; type:'Object', default: function () &#123; return &#123; message: 'hello' &#125; &#125; &#125;, // è‡ªå®šä¹‰éªŒè¯å‡½æ•° props3Name: &#123; validator: function (value) &#123; return value &gt; 10 &#125; &#125;ï¼Œ // å‡½æ•° props4Name: &#123; type:Function, default:()=&gt;&#123;&#125; &#125;ï¼Œ // æ•°ç»„ props5Name: &#123; type: Array, // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å– default: () =&gt; [] &#125; &#125;,// ç»„ä»¶ç»‘å®šçš„å±æ€§ el:"#app", // vueInstant.$mount('#app') data:&#123; // è§†å›¾å’Œæ•°æ®è¿›è¡Œäº†å“åº” content:'hello world' &#125;, filters:&#123; // è‡ªå®šä¹‰è¿‡æ»¤å™¨ filterItem(item)&#123; return item.toLowerCase() &#125; &#125;, computed:&#123; // è®¡ç®—å±æ€§ isValid()&#123; return this.props1Name=='hello world' &#125;, newContent:&#123; get:function()&#123; return this.content.split('').reverse().join('') &#125;, set:function(newValue)&#123; // ä¿®æ”¹äº†è®¡ç®—å±æ€§çš„setteræ–¹æ³•å¯ä»¥æ¥å—åˆ°æ–°çš„å€¼ &#125; &#125; &#125;,&#125;);ï¼åªæœ‰å½“ç»„ä»¶å®ä¾‹çš„æ—¶å€™å­˜åœ¨çš„å±æ€§æ‰ä¼šè§¦å‘è§†å›¾çš„å“åº”æ›´æ–°ï¼æœªæ¥äº§ç”Ÿçš„å±æ€§éœ€è¦åœ¨å®ä¾‹çš„æ—¶å€™åˆå§‹åŒ–ï¼object.freeze(obj)ä¼šé˜»æ­¢ä¿®æ”¹ç°æœ‰çš„å±æ€§ï¼Œä¹Ÿå°±ä¸ä¼šè§¦å‘è§†å›¾çš„å“åº” 2.ç»„ä»¶çš„ç»„æˆ - å±æ€§ï¼šè‡ªå®šä¹‰çš„åŠ¨æ€å±æ€§props/åŸç”Ÿå±æ€§attrs/ç‰¹æ®Šçš„å±æ€§class/style 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&#123; // å’Œ`v-bind:class`ä¸€æ ·çš„ API 'class': &#123; foo: true, bar: false &#125;, // å’Œ`v-bind:style`ä¸€æ ·çš„ API style: &#123; color: 'red', fontSize: '14px' &#125;, // æ­£å¸¸çš„ HTML ç‰¹æ€§ attrs: &#123; id: 'foo' &#125;, // ç»„ä»¶ props props: &#123; myProp: 'bar' &#125;, // DOM å±æ€§ domProps: &#123; innerHTML: 'baz' &#125;, // äº‹ä»¶ç›‘å¬å™¨åŸºäº `on` // æ‰€ä»¥ä¸å†æ”¯æŒå¦‚ `v-on:keyup.enter` ä¿®é¥°å™¨ // éœ€è¦æ‰‹åŠ¨åŒ¹é… keyCodeã€‚ on: &#123; click: this.clickHandler &#125;, // ä»…å¯¹äºç»„ä»¶ï¼Œç”¨äºç›‘å¬åŸç”Ÿäº‹ä»¶ï¼Œè€Œä¸æ˜¯ç»„ä»¶å†…éƒ¨ä½¿ç”¨ `vm.$emit` è§¦å‘çš„äº‹ä»¶ã€‚ nativeOn: &#123; click: this.nativeClickHandler &#125;, // è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ³¨æ„äº‹é¡¹ï¼šä¸èƒ½å¯¹ç»‘å®šçš„æ—§å€¼è®¾å€¼ // Vue ä¼šä¸ºæ‚¨æŒç»­è¿½è¸ª directives: [ &#123; name: 'my-custom-directive', value: '2', expression: '1 + 1', arg: 'foo', modifiers: &#123; bar: true &#125; &#125; ], // Scoped slots in the form of // &#123; name: props =&gt; VNode | Array&lt;VNode&gt; &#125; scopedSlots: &#123; default: props =&gt; createElement('span', props.text) &#125;, // å¦‚æœç»„ä»¶æ˜¯å…¶ä»–ç»„ä»¶çš„å­ç»„ä»¶ï¼Œéœ€ä¸ºæ’æ§½æŒ‡å®šåç§° slot: 'name-of-slot', // å…¶ä»–ç‰¹æ®Šé¡¶å±‚å±æ€§ key: 'myKey', ref: 'myRef'&#125; ç»„ä»¶çš„åˆ†ç±»:å…¨å±€ç»„ä»¶1é€šè¿‡Vue.component('componentName',&#123;ConfigOption&#125;)çš„æ–¹å¼å…¨å±€æ³¨å†Œã€‚ å±€éƒ¨ç»„ä»¶1234567891011121314151617181920// å®šä¹‰ä¸€ä¸ªç»„ä»¶internalComponent.vueexport default&#123; name:'internalComponent', ...&#125; &lt;template&gt;&lt;internal-component /&gt;&lt;/template&gt;// ä½¿ç”¨æ—¶å€™importå¹¶ä¸”å±€éƒ¨æ³¨å†Œ&lt;script&gt;import internalComponent from './internalComponent.vue'export default&#123; name:'parentComponent', componentsï¼š&#123; internalComponent // å±€éƒ¨æ³¨å†Œ &#125; ...&#125;&lt;/script&gt; åŠ¨æ€ç»„ä»¶12345678910111213141516171819202122232425262728&lt;template&gt; &lt;component :is="dynamicComponentName" /&gt; &lt;button @click="handleChangView('A')"&gt;åˆ‡æ¢åˆ°A&lt;/button&gt; &lt;button @click="handleChangView('B')"&gt;åˆ‡æ¢åˆ°B&lt;/button&gt; &lt;button @click="handleChangView('C')"&gt;åˆ‡æ¢åˆ°C&lt;/button&gt;&lt;/template&gt;&lt;script&gt; import componentA from './componentA.vue' import componentB from './componentB.vue' import componentC from './componentC.vue' export default&#123; components:&#123; componentA, componentB, componentC, &#125;, data()&#123; return&#123; dynamicComponentName:'componentA' &#125; &#125;, methods:&#123; handleChangView(val)&#123; this.dynamicComponentName = `component$&#123;val&#125;` &#125; &#125; &#125;&lt;/script&gt; å½“åœ¨è¿™äº›ç»„ä»¶ä¹‹é—´åˆ‡æ¢çš„æ—¶å€™ï¼Œä½ æœ‰æ—¶ä¼šæƒ³ä¿æŒè¿™äº›ç»„ä»¶çš„çŠ¶æ€ï¼Œä»¥é¿å…åå¤é‡æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½é—®é¢˜.é‡æ–°åˆ›å»ºåŠ¨æ€ç»„ä»¶çš„è¡Œä¸ºé€šå¸¸æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå¦‚æœæ›´å¸Œæœ›é‚£äº›æ ‡ç­¾çš„ç»„ä»¶å®ä¾‹èƒ½å¤Ÿè¢«åœ¨å®ƒä»¬ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºçš„æ—¶å€™ç¼“å­˜ä¸‹æ¥ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª å…ƒç´ å°†å…¶åŠ¨æ€ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚ 123&lt;keep-alive&gt; &lt;component :is="dynamicComponentName"&gt;&lt;/component&gt;&lt;/keep-alive&gt; å‡½æ•°å¼ç»„ä»¶ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç»„ä»¶æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°å¼ç»„ä»¶æƒ³åƒæˆç»„ä»¶é‡Œçš„ä¸€ä¸ªå‡½æ•°ï¼Œå…¥å‚æ˜¯æ¸²æŸ“ä¸Šä¸‹æ–‡(render context)ï¼Œè¿”å›å€¼æ˜¯æ¸²æŸ“å¥½çš„HTMLå¯¹äºå‡½æ•°å¼ç»„ä»¶ï¼Œå¯ä»¥è¿™æ ·å®šä¹‰ï¼š * Stateless(æ— çŠ¶æ€)ï¼šç»„ä»¶è‡ªèº«æ˜¯æ²¡æœ‰çŠ¶æ€çš„ * Instanceless(æ— å®ä¾‹)ï¼šç»„ä»¶è‡ªèº«æ²¡æœ‰å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰this å®šä¹‰ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶å°±åƒè¿™æ ·ï¼š 1234567891011121314151617// Vue.component('my-component', &#123; functional: true, // Props æ˜¯å¯é€‰çš„,ä½ å¯ä»¥çœç•¥ props é€‰é¡¹ï¼Œæ‰€æœ‰ç»„ä»¶ä¸Šçš„ç‰¹æ€§éƒ½ä¼šè¢«è‡ªåŠ¨éšå¼è§£æä¸º prop props: &#123; // ... &#125;, // ä¸ºäº†å¼¥è¡¥ç¼ºå°‘çš„å®ä¾‹ // æä¾›ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºä¸Šä¸‹æ–‡ render: function (createElement, context) &#123; // ... &#125;&#125;)//å¦‚æœä½ ä½¿ç”¨äº†å•æ–‡ä»¶ç»„ä»¶ï¼Œé‚£ä¹ˆåŸºäºæ¨¡æ¿çš„å‡½æ•°å¼ç»„ä»¶å¯ä»¥è¿™æ ·å£°æ˜ï¼š&lt;template functional&gt;&lt;/template&gt; å°±åƒä¸Šæ–‡æ‰€è®²çš„ï¼Œå‡½æ•°å¼ç»„ä»¶æ²¡æœ‰thisï¼Œå‚æ•°å°±æ˜¯é contextæ¥ä¼ é€’çš„äº†ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹contextæœ‰å“ªäº›å±æ€§å‘¢ * props:æä¾›æ‰€æœ‰ prop çš„å¯¹è±¡ * children * slots (a slots object) * parent * listeners * injections * data é€’å½’ç»„ä»¶ç»„ä»¶åœ¨å®ƒçš„æ¨¡æ¿å†…å¯ä»¥é€’å½’çš„è°ƒç”¨è‡ªå·±ï¼Œåªè¦ç»™ç»„ä»¶è®¾ç½®nameç»„ä»¶å°±å¯ä»¥äº†,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ç»™ä¸€ä¸ªæ¡ä»¶æ¥é™åˆ¶æ•°é‡ï¼Œå¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯: max stack size exceeded 1234567891011121314151617181920212223&lt;template&gt; &lt;div v-for="(item,index) in treeArr"&gt; å­ç»„ä»¶ï¼Œå½“å‰å±‚çº§å€¼ï¼š &#123;&#123;index&#125;&#125; &lt;br/&gt; &lt;!-- é€’å½’è°ƒç”¨è‡ªèº«, åå°åˆ¤æ–­æ˜¯å¦ä¸å­˜åœ¨æ”¹å€¼ --&gt; &lt;tree :item="item.arr" v-if="item.flag"&gt;&lt;/tree&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default &#123; // å¿…é¡»å®šä¹‰nameï¼Œç»„ä»¶å†…éƒ¨æ‰èƒ½é€’å½’è°ƒç”¨ name: 'tree', data()&#123; return &#123;&#125; &#125;, // æ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„å€¼ props: &#123; item: &#123; type:Array, default: ()=&gt;[] &#125; &#125;&#125;&lt;/script&gt;]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ2ï¼‰- vueç»„ä»¶åŒ–</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ2ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ1ï¼‰- vueå†…ç½®æŒ‡ä»¤å’Œä¿®é¥°ç¬¦åŸºç¡€]]></title>
    <url>%2F2019%2F10%2F08%2Fvue_1%2F</url>
    <content type="text"><![CDATA[vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ1ï¼‰ä¸»è¦æ”¶å½•çš„å°±æ˜¯vueä½¿ç”¨ä¸­çš„åŸºç¡€çŸ¥è¯†,åŒ…æ‹¬ï¼švueçš„ç‰¹ç‚¹,æ¨¡æ¿æŠ€æœ¯, keyå®ç°ç»„ä»¶é«˜æ•ˆå¤ç”¨,åŒå‘æ•°æ®ç»‘å®šåŠå…¶è¯­æ³•ç³–,vueçš„å†…ç½®æŒ‡ä»¤å’Œvueçš„äº‹ä»¶ä¿®é¥°ç¬¦ç­‰å†…å®¹â€¦ vue ç‰¹ç‚¹ä»‹ç» æä¾›äº†virtual domçš„è™šæ‹Ÿdom æä¾›äº†å“åº”å¼å‘µå‘µç»„ä»¶åŒ–çš„è§†å›¾ç»„ä»¶ æ¸è¿›å¼æ¡†æ¶ï¼Œå°†æ³¨æ„åŠ›é›†ä¸­ä¿æŒåœ¨æ ¸å¿ƒåº“ä¸Šï¼Œè€Œå°†å…¶ä»–åŠŸèƒ½å¦‚ç†ç”±vue-routerå’Œå…¨å±€çš„çŠ¶æ€ç®¡ç†vuexäº¤ç»™ç›¸å…³çš„åº“è¿›è¡Œç®¡ç†ã€‚ ç”±äºvueçš„å“åº”å¼æ˜¯åŸºäºObject.definePropertyçš„getterå’Œsetter,è€Œè¿™ä¸ªæ˜¯ä»…ä»…æ”¯æŒes5çš„ï¼Œæ‰€ä»¥vueä¸æ”¯æŒie8ä»¥åŠæ›´ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚ vueä½¿ç”¨äº†Mustacheçš„htmlæ¨¡æ¿æŠ€æœ¯: å³åŒå¤§æ‹¬å·ï¼Œæ¥å£°æ˜å¼åœ°å°†domç»‘å®šè‡³vueå®ä¾‹çš„æ•°æ®ï¼ŒåŒå¤§æ‹¬å·ä¸­æ”¯æŒjavascriptè¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸æ”¯æŒé€»è¾‘ä»£ç å—æˆ–è€…ä»£ç ç‰‡æ®µã€‚ 12345671)&#123;&#123;&#125;&#125;ç±»ä¼¼angularjs,åœ¨domä¸­ä½¿ç”¨åŒæ‹¬å·è¿›è¡Œå˜é‡æ’å€¼,ç»å¸¸é€‚ç”¨äºéhtmlå±æ€§&lt;div id="app"&gt; &#123;&#123; message &#125;&#125;&lt;/div&gt;2) htmlçš„å±æ€§éœ€è¦ä½¿ç”¨v-bindçš„æ–¹å¼è¿›è¡Œç»‘å®š&lt;div id="app" :title="title"&gt;&lt;/div&gt; // titleæ˜¯dataå¯¹è±¡ä¸­çš„åŠ¨æ€å€¼&lt;div id="app" title="æˆ‘æ˜¯é™æ€å±æ€§"&gt;&lt;/div&gt; // é™æ€å±æ€§ç›´æ¥å­—ç¬¦ä¸²å†™å…¥å±æ€§,ä¸éœ€è¦bind ä½¿ç”¨keyå¤ç”¨123456789101112// vueä¼šé«˜æ•ˆå¤ç”¨ç»„ä»¶å…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦æ ¹æ®åœºæ™¯ä½¿ç”¨keyæ ‡è¯†æ˜¯å¦å¤ç”¨&lt;div&gt; &lt;input v-if="true" placeholder="uncle"/&gt; &lt;input v-if="false" placeholder="pis"/&gt;&lt;/div&gt;// ä»¥ä¸Šåœ¨æ¡ä»¶æ¸²æŸ“çš„æ—¶å€™åªæœ‰placehodlerä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¼šå¤ç”¨ï¼Œå¦‚æœéœ€è¦é‡æ–°æ¸²æŸ“ï¼Œéœ€è¦åŠ å…¥key&lt;div&gt; &lt;input v-if="true" placeholder="uncle" key="firstName"/&gt; &lt;input v-if="false" placeholder="pis" key="lastName"/&gt;&lt;/div&gt; æ•°æ®åŒå‘ç»‘å®šv-model(è¯­æ³•ç³–) v-modelå®é™…ä¸Šæ˜¯v-on:inputå’Œv-bind:valueçš„è¯­æ³•ç³–ã€‚ v-bindå¯ä»¥ç¼©å†™æˆ:bind,è€Œv-on:eventNameå¯ä»¥ç¼©å†™æˆ@eventName12345å®ƒèƒ½è½»æ¾å®ç°è¡¨å•è¾“å…¥å’Œåº”ç”¨çŠ¶æ€ä¹‹é—´çš„åŒå‘ç»‘å®šã€‚&lt;input v-model="userName"/&gt; // ç­‰ä»·äºä¸‹é¢çš„å†™æ³•&lt;input v-bind:value="userName" v-on:input="userName=$event.target.value"/&gt;&lt;input :value="userName" @on:input="userName=$event.target.value"/&gt;&lt;p&gt;&#123;&#123;userName&#125;&#125;&lt;/p&gt; æŒ‡ä»¤ç³»ç»Ÿï¼šå¸¦æœ‰v-å‰ç¼€çš„ç‰¹æ®Šå±æ€§ã€‚1234567891011121314151617181920212223241.v-if: æ§åˆ¶èŠ‚ç‚¹çš„æ¸²æŸ“å’Œç§»é™¤(æƒ°æ€§çš„ï¼Œåˆå§‹æ¸²æŸ“çš„æ—¶å€™ä¸ºçœŸæ‰æ¸²æŸ“)2.v-showï¼šæ§åˆ¶èŠ‚ç‚¹çš„éšè—å’Œæ¶ˆå¤±ï¼ˆä¸€ç›´ä¼šæ¸²æŸ“ï¼Œåªæ˜¯åˆ‡æ¢cssè¿›è¡Œéšè—å’Œæ¶ˆå¤±ï¼‰3.v-for:å¾ªç¯æ¸²æŸ“ï¼Œå¿…é¡»æŒ‡å®šå”¯ä¸€çš„key(stringæˆ–è€…numberç±»å‹) 1) v-forå¾ªç¯æ•°ç»„ï¼š`v-for="(item,index) in items"` 2) v-forå¾ªç¯å¯¹è±¡ï¼š`v-for="(value,key,index) in items"` ,éå†å¯¹è±¡çš„æ—¶å€™å¤šä¸€ä¸ªç¬¬ä¸‰ä¸ªå‚æ•°çš„index 3) v-forå¾ªç¯æ•°å­—ï¼šv-for="n in 10" ï¼Œæ³¨æ„éå†æ•°å­—çš„æ—¶å€™nä»1å¼€å§‹4.v-bind:attrName å±æ€§ç»‘å®š(å¯ä»¥ç®€å†™æˆ:attrName)5.v-on:eventName(argument1,$event) äº‹ä»¶ç›‘å¬ 1)ç›‘å¬äº‹ä»¶è§¦å‘ä¸€äº›jsçš„ä»£ç ï¼š &lt;button v-on:click="counter += 1"&gt;Add 1&lt;/button&gt; 2)é€»è¾‘å¤ªå¤æ‚çš„æ—¶å€™è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼š &lt;button v-on:click="greet"&gt;Greet&lt;/button&gt; // $eventé»˜è®¤å¯ä»¥çœç•¥ greet(event)&#123; // eventå°±æ˜¯åŸç”Ÿ DOM äº‹ä»¶ &#125; 3)æœ‰æ—¶ä¹Ÿéœ€è¦åœ¨å†…è”è¯­å¥å¤„ç†å™¨ä¸­è®¿é—®åŸå§‹çš„ DOM äº‹ä»¶ã€‚å¯ä»¥ç”¨ç‰¹æ®Šå˜é‡ $event æŠŠå®ƒä¼ å…¥æ–¹æ³•ï¼š &lt;button v-on:click="greet('hello',$event)"&gt;Greet&lt;/button&gt; // æ˜¾ç¤ºçš„è¯å¿…é¡»ä½¿ç”¨ç‰¹æ®Šçš„$eventæŒ‡ä»£åŸç”Ÿçš„eventå¯¹è±¡ greet: function (message, event) &#123; // ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡ if (event) event.preventDefault() alert(message) &#125; ä¿®é¥°ç¬¦ ä¿®é¥°ç¬¦å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ª,ä½†æ˜¯å¯èƒ½ä¼šå› ä¸ºé¡ºåºè€Œæœ‰æ‰€ä¸åŒã€‚ç”¨ v-on:click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€Œ v-on:click.self.prevent åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€‚ä¹Ÿå°±æ˜¯ä»å·¦å¾€å³åˆ¤æ–­~ è¡¨å•ä¿®é¥°ç¬¦ .lazy 12345&lt;!--è¾“å…¥å®Œæ‰€æœ‰ä¸œè¥¿ï¼Œå…‰æ ‡ç¦»å¼€æ‰æ›´æ–°è§†å›¾,ç›¸å½“äºåœ¨onchangeäº‹ä»¶è§¦å‘æ›´æ–° --&gt;&lt;div&gt; &lt;input type="text" v-model.lazy="value"&gt; &lt;p&gt;&#123;&#123;value&#125;&#125;&lt;/p&gt;&lt;/div&gt; .trim 123&lt;!-- è¿‡æ»¤é¦–å°¾çš„ç©ºæ ¼ï¼é¦–å°¾ï¼Œä¸­é—´çš„æ˜¯ä¸ä¼šè¿‡æ»¤çš„ --&gt;&lt;input type="text" v-model.trim="value"&gt;// " 123 4 " ==&gt; "123 4" .number 123//å¦‚æœä½ å…ˆè¾“å…¥æ•°å­—ï¼Œé‚£å®ƒå°±ä¼šé™åˆ¶ä½ è¾“å…¥çš„åªèƒ½æ˜¯æ•°å­—ã€‚//å¦‚æœä½ å…ˆè¾“å…¥å­—ç¬¦ä¸²ï¼Œé‚£å®ƒå°±ç›¸å½“äºæ²¡æœ‰åŠ .number&lt;input type=&quot;text&quot; v-model.number=&quot;value&quot;&gt; äº‹ä»¶ä¿®é¥°ç¬¦ stop 1234&lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡,event.stopPropagation(),popUp(2)ä¸ä¼šæ‰§è¡Œ --&gt;&lt;div @click="popUp(2)"&gt; &lt;button @click.stop="popUp(1)"&gt;ok&lt;/button&gt;&lt;/div&gt; prevent 12&lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡,event.preventDefault() --&gt;&lt;form v-on:submit.prevent="onSubmit"&gt;&lt;/form&gt; self 1234&lt;!-- åªå½“äº‹ä»¶æ˜¯ä»äº‹ä»¶ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒ --&gt;&lt;div class="blue" @click.self="popUp(2)"&gt; &lt;button @click="popUp(1)"&gt;ok&lt;/button&gt;&lt;/div&gt; once 12&lt;!-- ç»‘å®šäº†äº‹ä»¶ä»¥ååªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡å°±ä¸ä¼šè§¦å‘ --&gt;&lt;button @click.once="popUp(1)"&gt;ok&lt;/button&gt; .native æˆ‘ä»¬ç»å¸¸ä¼šå†™å¾ˆå¤šçš„å°ç»„ä»¶ï¼Œæœ‰äº›å°ç»„ä»¶å¯èƒ½ä¼šç»‘å®šä¸€äº›äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œåƒä¸‹é¢è¿™æ ·ç»‘å®šäº‹ä»¶æ˜¯ä¸ä¼šè§¦å‘çš„1&lt;My-component @click="popUp(3)"&gt;&lt;/My-component&gt; å¿…é¡»ä½¿ç”¨.nativeæ¥ä¿®é¥°è¿™ä¸ªclickäº‹ä»¶ï¼ˆå³&lt;My-component @click.native=&quot;popUp(3)&quot;&gt;&lt;/My-component&gt;ï¼‰ï¼Œå¯ä»¥ç†è§£ä¸ºè¯¥ä¿®é¥°ç¬¦çš„ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ªvueç»„ä»¶è½¬åŒ–ä¸ºä¸€ä¸ªæ™®é€šçš„HTMLæ ‡ç­¾ï¼Œæ³¨æ„ï¼šä½¿ç”¨.nativeä¿®é¥°ç¬¦æ¥æ“ä½œæ™®é€šHTMLæ ‡ç­¾æ˜¯ä¼šä»¤äº‹ä»¶å¤±æ•ˆçš„ capture 123456789101112131415 &lt;!-- å…¶å®å®Œæ•´çš„äº‹ä»¶æœºåˆ¶æ˜¯ï¼šæ•è·é˜¶æ®µ--ç›®æ ‡é˜¶æ®µ--å†’æ³¡é˜¶æ®µã€‚é»˜è®¤çš„å‘¢ï¼Œæ˜¯äº‹ä»¶è§¦å‘æ˜¯ä»ç›®æ ‡å¼€å§‹å¾€ä¸Šå†’æ³¡ï¼ŒåŠ ä¸Šcaptureå°±æ˜¯ä»äº‹ä»¶æ•è·é˜¶æ®µè§¦å‘ --&gt; &lt;div @click.capture="popUp(1)"&gt; &lt;!--æ•è·é˜¶æ®µè§¦å‘--&gt; å¤ªçˆ·çˆ·å±‚ &lt;div @click.capture="popUp(2)"&gt; &lt;!--æ•è·é˜¶æ®µè§¦å‘--&gt; çˆ·çˆ·å±‚ &lt;div @click="popUp(3)"&gt; &lt;!--å†’æ³¡é˜¶æ®µè§¦å‘--&gt; çˆ¸çˆ¸å±‚ &lt;div @click="popUp(4)"&gt; &lt;!--ç›®æ ‡é˜¶æ®µè§¦å‘--&gt; è‡ªå·±å±‚ &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- å¤ªçˆ·çˆ·=&gt;çˆ·çˆ·å±‚=&gt;è‡ªå·±å±‚=&gt;çˆ¸çˆ¸å±‚--&gt; passive v-on:event.passive:è¿™ä¸ªä¿®é¥°ç¬¦ä¼šæ‰§è¡Œé»˜è®¤æ–¹æ³•ã€‚ä½ ä»¬å¯èƒ½ä¼šé—®ï¼Œæ˜æ˜é»˜è®¤æ‰§è¡Œä¸ºä»€ä¹ˆä¼šè®¾ç½®è¿™æ ·ä¸€ä¸ªä¿®é¥°ç¬¦ã€‚è¿™å°±è¦è¯´ä¸€ä¸‹è¿™ä¸ªä¿®é¥°ç¬¦çš„æœ¬æ„äº†é€šä¿—ç‚¹è¯´å°±æ˜¯æ¯æ¬¡äº‹ä»¶äº§ç”Ÿï¼Œæµè§ˆå™¨éƒ½ä¼šå»æŸ¥è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰preventDefaulté˜»æ­¢è¯¥æ¬¡äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œã€‚æˆ‘ä»¬åŠ ä¸Špassiveå°±æ˜¯ä¸ºäº†å‘Šè¯‰æµè§ˆå™¨ï¼Œä¸ç”¨æŸ¥è¯¢äº†ï¼Œæˆ‘ä»¬æ²¡ç”¨preventDefaulté˜»æ­¢é»˜è®¤åŠ¨ä½œã€‚.passivä¿®é¥°ç¬¦å°¤å…¶èƒ½å¤Ÿæå‡ç§»åŠ¨ç«¯çš„æ€§èƒ½```1234567891011121314- è¿™é‡Œä¸€èˆ¬ç”¨åœ¨æ»šåŠ¨ç›‘å¬ï¼Œ@scollï¼Œ@touchmove ã€‚å› ä¸ºæ»šåŠ¨ç›‘å¬è¿‡ç¨‹ä¸­ï¼Œç§»åŠ¨æ¯ä¸ªåƒç´ éƒ½ä¼šäº§ç”Ÿä¸€æ¬¡äº‹ä»¶ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨å†…æ ¸çº¿ç¨‹æŸ¥è¯¢preventä¼šä½¿æ»‘åŠ¨å¡é¡¿ã€‚- æˆ‘ä»¬é€šè¿‡passiveå°†å†…æ ¸çº¿ç¨‹æŸ¥è¯¢è·³è¿‡ï¼Œå¯ä»¥å¤§å¤§æå‡æ»‘åŠ¨çš„åº¦ã€‚- passiveå’Œpreventå†²çªï¼Œä¸èƒ½åŒæ—¶ç»‘å®šåœ¨ä¸€ä¸ªç›‘å¬å™¨ä¸Šã€‚ä¸è¦æŠŠ .passive å’Œ .prevent ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º .prevent å°†ä¼šè¢«å¿½ç•¥ï¼ŒåŒæ—¶æµè§ˆå™¨å¯èƒ½ä¼šå‘ä½ å±•ç¤ºä¸€ä¸ªè­¦å‘Šã€‚- è¯·è®°ä½ï¼Œ.passive ä¼šå‘Šè¯‰æµè§ˆå™¨ä½ ä¸æƒ³é˜»æ­¢çš„é»˜è®¤è¡Œä¸ºã€‚- `passiveå’Œpreventçš„å…³ç³»````html &lt;!-- ä¸åŠ  prevent ä¿®é¥°ç¬¦ --&gt; &lt;a @click=&quot;clickFunc&quot; href=&quot;javascript:alert(&apos;default active&apos;)&quot;&gt;ç‚¹å‡»&lt;/a&gt; &lt;!-- ç‚¹å‡»å æ‰§è¡Œ clickFunc äº‹ä»¶å‡½æ•°ï¼Œå¹¶æç¤ºdefault active --&gt; &lt;!-- prevent ä¿®é¥°ç¬¦ --&gt; &lt;a @click.prevent=&quot;clickFunc&quot; href=&quot;javascript:alert(&apos;default active&apos;)&quot;&gt;ç‚¹å‡»&lt;/a&gt; &lt;!-- ç‚¹å‡»å æ‰§è¡Œ clickFunc äº‹ä»¶å‡½æ•°ï¼Œå¹¶æ²¡æœ‰æç¤ºdefault active --&gt; é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦ left å·¦é”®ç‚¹å‡» right å³é”®ç‚¹å‡» middle ä¸­é”®ç‚¹å‡» 12&lt;!-- åˆšåˆšæˆ‘ä»¬è®²åˆ°è¿™ä¸ªclickäº‹ä»¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯ä¼šç”¨å·¦é”®è§¦å‘ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ›´æ”¹å³é”®èœå•å•¥çš„ï¼Œå°±éœ€è¦ç”¨åˆ°å³é”®ç‚¹å‡»æˆ–è€…ä¸­é—´é”®ç‚¹å‡»ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦ --&gt; &lt;button @click.right="popUp(1)"&gt;ok&lt;/button&gt; é”®å€¼ä¿®é¥°ç¬¦ .keyCode 12&lt;!-- æŒ‡å®šæŒ‰ä¸‹æŸä¸€ä¸ªé”®æ‰è§¦å‘è¿™ä¸ªpopUpçš„æ—¶å€™ï¼Œè¿™ä¸ªä¿®é¥°ç¬¦å°±æœ‰ç”¨äº† --&gt; &lt;input type="text" @keyup.keyCode="popUp(4)"&gt; ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ï¼Œvueç»™ä¸€äº›å¸¸ç”¨çš„é”®æä¾›äº†åˆ«å 123456789101112131415161718192021//æ™®é€šé”®.enter .tab.delete //(æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®).space.esc.up.down.left.right//ç³»ç»Ÿä¿®é¥°é”®(éœ€è¦å°†ç³»ç»Ÿä¿®é¥°é”®å’Œå…¶ä»–é”®ç é“¾æ¥èµ·æ¥ä½¿ç”¨).ctrl.alt.meta.shift&lt;input type="text" @keyup.ctrl.87="popUp(4)"&gt;// å¯ä»¥é€šè¿‡å…¨å±€ config.keyCodes å¯¹è±¡è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«åï¼š// å¯ä»¥ä½¿ç”¨ `v-on:keyup.open`Vue.config.keyCodes.open = 123 å¦‚æœæ˜¯é¼ æ ‡äº‹ä»¶ï¼Œé‚£å°±å¯ä»¥å•ç‹¬ä½¿ç”¨ç³»ç»Ÿä¿®é¥°ç¬¦ 1&lt;button @mouseover.ctrl="popUp(1)"&gt;ok&lt;/button&gt; å•æ‰‹æŒ‡ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®çš„ä¿®é¥°ç¬¦ï¼ˆæœ€å°‘ä¸¤ä¸ªæ‰‹æŒ‡ï¼Œå¯ä»¥å¤šä¸ªï¼‰ã€‚ä½ å¯ä»¥ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½å¦å¤–ä¸€ä¸ªé”®æ¥å®ç°é”®ç›˜äº‹ä»¶ã€‚ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ‰‹æŒ‡æŒ‰ä½ç³»ç»Ÿä¿®é¥°é”®ï¼Œå¦ä¸€åªæ‰‹æŒ‰ä½é¼ æ ‡æ¥å®ç°é¼ æ ‡äº‹ä»¶ v-bindä¿®é¥°ç¬¦ .sync(2.3.0+ æ–°å¢) 123456789101112//çˆ¶äº²ç»„ä»¶&lt;comp :myMessage="message" @update:myMessage="func"&gt;&lt;/comp&gt;//jsfunc(msg)&#123; this.message = msg;&#125;//å­ç»„ä»¶jså‘é€äº‹ä»¶æ›´æ–°çˆ¶ç»„ä»¶çš„messageinvokerFunction()&#123; this.$emit('update:myMessage',params);&#125; å¯ä»¥ç®€åŒ–æˆ 12345&lt;!-- çˆ¶ç»„ä»¶ä½¿ç”¨syncä¿®é¥°ç¬¦ç®€åŒ–ä¸Šé¢çš„å†™æ³• --&gt; &lt;comp :myMessage.sync="message"&gt;&lt;/comp&gt; //å­ç»„ä»¶invokerçš„å‡½æ•°è§¦å‘äº‹ä»¶ this.$emit('update:myMessage',params); syncéœ€è¦æ³¨æ„çš„åœ°æ–¹1)ä½¿ç”¨syncçš„æ—¶å€™ï¼Œå­ç»„ä»¶ä¼ é€’çš„äº‹ä»¶åå¿…é¡»ä¸ºupdate:valueï¼Œå…¶ä¸­valueå¿…é¡»ä¸å­ç»„ä»¶ä¸­propsä¸­å£°æ˜çš„åç§°å®Œå…¨ä¸€è‡´(å¦‚ä¸Šä¾‹ä¸­çš„myMessageï¼Œä¸èƒ½ä½¿ç”¨my-message2)æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ (ä¾‹å¦‚ v-bind:title.sync=â€doc.title + â€˜!â€™â€ æ˜¯æ— æ•ˆçš„)ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ åªèƒ½æä¾›ä½ æƒ³è¦ç»‘å®šçš„å±æ€§åï¼Œç±»ä¼¼ v-model3)å°† v-bind.sync ç”¨åœ¨ä¸€ä¸ªå­—é¢é‡çš„å¯¹è±¡ä¸Šï¼Œä¾‹å¦‚ v-bind.sync=â€{ title: doc.title }â€ï¼Œæ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„ï¼Œå› ä¸ºåœ¨è§£æä¸€ä¸ªåƒè¿™æ ·çš„å¤æ‚è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šè¾¹ç¼˜æƒ…å†µéœ€è¦è€ƒè™‘ å‚è€ƒé“¾æ¥vueä¿®é¥°ç¬¦â€“å¯èƒ½æ˜¯ä¸œåŠçƒæœ€è¯¦ç»†çš„æ–‡æ¡£ï¼ˆæ»‘ç¨½ï¼‰]]></content>
      <categories>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—</category>
        <category>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ1ï¼‰- vueå†…ç½®æŒ‡ä»¤å’Œä¿®é¥°ç¬¦åŸºç¡€</category>
      </categories>
      <tags>
        <tag>vue æœèŠ±å¤•æ‹¾ç³»åˆ—ï¼ˆ1ï¼‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2018%2F12%2F14%2Fregex%2F</url>
    <content type="text"><![CDATA[1.æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Ÿâ€‹ å®ƒæ˜¯ä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²æ¥æè¿°ã€åŒ¹é…ä¸€ç³»åˆ—æŸä¸ªè¯­æ³•è§„åˆ™çš„å­—ç¬¦ä¸²ã€‚å®ƒç»å¸¸å¯ä»¥è¢«ç”¨æ¥æ£€ç´¢ã€æ›¿æ¢é‚£äº›æŸä¸ªåŒ¹é…æ¨¡å¼çš„æ–‡æœ¬ã€‚é€šä¿—çš„è¯´å°±æ˜¯æŒ‰ç…§æŸç§è§„åˆ™å»åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚ ä¸¾ä¸ªæ —å­ â€‹ 2018-12-11 08:59:00 æ±Ÿä¼Ÿå“¥å‘ç°æˆ‘å¸ˆå‚…è¿˜æ²¡æœ‰åˆ°å…¬å¸ï¼Œæ˜¨å¤©è¯´å¥½çš„è®©æˆ‘å¸ˆå‚…æ—©åˆ°ç»™å¸®å¿™æ‰“ä¸ªå¡ä½†éƒ½59åˆ†äº†è‡ªå·±éƒ½è¿˜æ²¡åˆ°ã€‚å¯æ›´å¤§çš„é—®é¢˜æ¥äº†ï¼Œæ±Ÿä¼Ÿå“¥ä¸çŸ¥é“æˆ‘å¸ˆå‚…æŠŠä»–çš„å¡æ”¾åœ¨å“ªäº†ã€‚08:59:15ï¼Œæ±Ÿä¼Ÿå“¥æ…Œå¿™ä¹‹ä¸­æ‹¨é€šäº†ç¬¬ä¸€ä¸ªç”µè¯ä½†å´æ˜¯ç©ºå·ï¼Œå®šç›ä¸€çœ‹å·ç 1885646465ï¼ŒåŸæ¥æ˜¯æ…Œä¹±ä¸­å°‘è¾“äº†ä¸€ä½å·ç ã€‚08:59:30ï¼Œæ±Ÿä¼Ÿå“¥æ‹¨é€šäº†ç¬¬äºŒä¸ªç”µè¯ï¼Œç”µè¯é‚£å¤´ä¼ æ¥ä¸€ä¸ªå¥³å£°ï¼šâ€œä½ å¥½ï¼Œè¿™é‡Œæ˜¯å’Œåˆ©æ—¶ã€‚â€è¯§å¼‚ä¹‹ä¸­æ±Ÿä¼Ÿå“¥å†æ¬¡ç¡®è®¤äº†ä¸€éå·ç ï¼Œ029-96544856ï¼ŒåŸæ¥åˆšæ‰ä¸€ä¸ªä¸å°å¿ƒé€šè®¯å½•é‡Œç‚¹åˆ°äº†å’Œåˆ©æ—¶å‰å°çš„ç”µè¯ï¼Œæ±Ÿä¼Ÿå“¥æ°”çš„æ‹èµ·äº†å¤§è…¿ã€‚08:59:50ï¼Œå†æ¬¡æ‹¨é€šå‰ï¼Œæ±Ÿä¼Ÿå“¥ä¸€ä½ä¸€ä½çš„ç¡®è®¤äº†å·ç ï¼Œ18856464655ï¼Œæ²¡é”™äº†ï¼Œèµ¶ç´§æ‹¨é€šï¼éšç€ç”µè¯é‚£å¤´æˆ‘å¸ˆå‚…å¸¦ç€å€¦æ„çš„ä¸€å¥â€œå–‚ï¼Œå“ªä½â€ï¼Œå¡æœºä¸Šçš„æ—¶é—´è·³åˆ°äº†09:00:00ã€‚2018-12-12ï¼Œæ”¶åˆ°è¿Ÿåˆ°ç½šæ¬¾é€šçŸ¥çš„æ±Ÿä¼Ÿå“¥å¼€å§‹è‡ªé—­ã€‚ åŒ¹é…è¿™æ®µæ–‡å­—ä¸­ç¬¦åˆè§„èŒƒçš„æ‰‹æœºå·ï¼š1[34578]\d{9} åŒ¹é…è¿™æ®µæ–‡å­—ä¸­æ‰€æœ‰çš„æ—¥æœŸï¼š\d{4}[/-]\d{2}[/-]\d{2} å¯¹è¿™æ®µæ–‡å­—ä¸­åŒ¹é…åˆ°çš„æ‰€æœ‰æ—¥æœŸè¿›è¡Œå¹´æœˆæ—¥çš„åˆ†ç»„ï¼š(\d{4})[/-](\d{2})[/-](\d{2}) 2.æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ä¸€äº›è¯­æ³•2.1.ä¿®é¥°ç¬¦ï¼ˆg i mï¼‰â€‹ ä¿®é¥°ç¬¦æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒæ”¾åœ¨è¡¨è¾¾å¼çš„æœ€åï¼Œåœ¨æ„é€ å‡½æ•°å£°æ˜çš„æ—¶å€™ä½œä¸ºç¬¬äºŒçš„å‚æ•°è¢«ä¼ è¿›å»çš„ã€‚æ•´ä¸ªè¡¨è¾¾å¼å¯ä»¥ç†è§£ä¸ºåŒ¹é…è§„åˆ™å­—ç¬¦ä¸²+ä¿®é¥°ç¬¦ï¼Œä¿®é¥°ç¬¦æœ‰ä¸‰ä¸ªgã€iã€mï¼Œä»–ä»¬å¯ä»¥ä¸€èµ·ç”¨ã€‚ gï¼ˆglobalï¼‰ï¼šæ‰§è¡Œå…¨å±€åŒ¹é… iï¼ˆignore caseï¼‰ï¼šæ‰§è¡Œä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é… mï¼ˆmultiple linesï¼‰ï¼šæ‰§è¡Œå¤šè¡ŒåŒ¹é… æ³¨ï¼šæ­¤å¤„ä»…ä»‹ç»äº†å¸¸ç”¨çš„ä¸‰ä¸ªï¼Œä¿®é¥°ç¬¦è¿˜åŒ…å«sã€Uã€Xã€Aã€Dã€e 2.1.1.å…¨å±€åŒ¹é…è¿˜æ˜¯ä¸Šé¢é‚£æ®µæ–‡å­—ï¼Œå¦‚æœåœ¨åŒ¹é…æ—¥æœŸçš„æ—¶å€™æˆ‘ä½¿ç”¨å…¨å±€åŒ¹é…å’Œä¸ä½¿ç”¨å…¨å±€åŒ¹é…çš„ç»“æœåŒºåˆ«ï¼š 2.1.2.ä¸åŒºåˆ†å¤§å°å†™åŒ¹é…â€‹ æ­£å¦‚åå­—ï¼Œå°±æ˜¯åœ¨åŒ¹é…çš„æ—¶å€™æ˜¯å¦å¤§å°å†™æ•æ„Ÿï¼š 2.1.3.å¤šè¡ŒåŒ¹é…â€‹ å½“ä½¿ç”¨å¤šè¡ŒåŒ¹é…çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¾¹ç•ŒåŒ¹é…ç¬¦^å’Œ$å°†åŒ¹é…è¡Œçš„å¼€å§‹å’Œç»“æŸï¼Œåä¹‹åˆ™åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“æŸã€‚å¦‚æœå°†ä¸Šé¢é‚£æ®µæ–‡å­—åˆ†ä¸ºä¸¤æ®µï¼Œæ¯æ®µä½¿ç”¨ä¸€ä¸ª&lt;p&gt;æ ‡ç­¾ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°è¯•åœ¨å¤šè¡Œæ¨¡å¼å¼€å¯ä»¥åŠä¸å¼€å¯çš„æ—¶å€™åŒ¹é…æ®µè½æ ‡ç­¾ä¸­çš„å†…å®¹ï¼š 2.2.æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦çš„ç»„æˆâ€‹ æ­£åˆ™è¡¨è¾¾å¼ä¸­ç”±å‡ ç§åŸºæœ¬å­—ç¬¦ç»„æˆï¼š åŸä¹‰å­—ç¬¦ éæ‰“å°å­—ç¬¦ å…ƒå­—ç¬¦ 2.3.åŸä¹‰å­—ç¬¦â€‹ æ‹¿å¤šè¡ŒåŒ¹é…çš„é‚£ä¸ªæ —å­æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¸­&lt;p&gt;å°±æ˜¯åŸä¹‰å­—ç¬¦ï¼Œè¿™ä¸ªå­—ç¬¦ä»£è¡¨çš„å°±æ˜¯å®ƒæœ¬èº«çš„æ„æ€ã€‚é‚£ä¹ˆå¦‚æœéœ€è¦æ ‡è®°ä¸€ä¸ªå­—ç¬¦ä¸ºç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨\ç¬¦å·å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°è½¬ä¹‰ã€‚æ¯”å¦‚nå°†åŒ¹é…ä¸€ä¸ªå­—ç¬¦nï¼Œè€Œ\nå°†åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚å†æ¯”å¦‚^å°†ä½œä¸ºèµ·å§‹è¾¹ç•Œçš„åŒ¹é…æ ‡è®°ï¼Œè€Œ\^å°†åŒ¹é…^å­—ç¬¦ã€‚ 2.4.éæ‰“å°å­—ç¬¦â€‹ æ¯”å¦‚å›è½¦ç¬¦ã€æ¢è¡Œç¬¦ã€æ¢é¡µç¬¦ç­‰éƒ½å±äºéæ‰“å°å­—ç¬¦ï¼Œå®ƒç»å¸¸è¢«ç”¨åœ¨æ–‡æœ¬æ–‡ä»¶çš„å¤„ç†ä¸Šï¼š å­—ç¬¦ æè¿° \v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ï¼Œç­‰ä»·äº \x0b å’Œ \cK \f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ï¼Œç­‰ä»·äº \x0c å’Œ \cL \n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç­‰ä»·äº \x0a å’Œ \cJ \r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ï¼Œç­‰ä»·äº \x0d å’Œ \cM \s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ï¼Œç­‰ä»·äº [ \f\n\r\t\v] \S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº [^ \f\n\r\t\v] \t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼Œç­‰ä»·äº \x09 å’Œ \cI 2.5.å…ƒå­—ç¬¦2.5.1.å­—ç¬¦ç±»ï¼ˆ [ ] ï¼‰â€‹ æ¯”å¦‚åœ¨ç¬¬ä¸€èŠ‚æˆ‘ä»¬åŒ¹é…æ‰‹æœºå·æ‰€ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼ä¸­1[34578]\d{9}æ‰‹æœºå·çš„ç¬¬äºŒä½å¯èƒ½æ˜¯3ã€4ã€5ã€7ã€8ä¸­çš„ä»»æ„ä¸€ä½ï¼Œé‚£[34578]å°±è¡¨ç¤ºè¿™äº›å­—ç¬¦çš„ä¸€ä¸ªé›†åˆã€‚ 2.5.2.å­—ç¬¦ç±»å–åï¼ˆ [ ^ ] ï¼‰â€‹ å°±æ˜¯å­—ç¬¦ç±»çš„ä¸€ä¸ªç›¸åæƒ…å†µï¼Œè¡¨ç¤ºä¸åŒ…å«è¿™äº›å­—ç¬¦ã€‚ 2.5.3.èŒƒå›´ç±»ï¼ˆ [-] ï¼‰â€‹ æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒä¸€å®šçš„èŒƒå›´è§„åˆ™ï¼Œæ¯”å¦‚[a-z]è¡¨ç¤ºå­—æ¯aåˆ°zï¼Œ[0-9]è¡¨ç¤ºæ•°å­—0åˆ°9ã€‚å¤šç§èŒƒå›´ç±»å¯ä»¥å†™åˆ°ä¸€ä¸ªå­—ç¬¦ç±»ä¸­ï¼Œæ¯”å¦‚åŒ¹é…å­—æ¯aåˆ°zå’Œæ•°å­—0åˆ°9ï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™æˆ[a-z0-9]ã€‚ 2.5.4.é¢„å®šä¹‰ç±»â€‹ æœ‰äº†è¿™äº›é¢„å®šä¹‰ç±»ï¼Œä¼šç®€åŒ–æ­£åˆ™è¡¨è¾¾å¼èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿çš„ä¹¦å†™ã€‚æ¯”å¦‚ç¬¬ä¸€èŠ‚ä¸¾çš„æ —å­ä¸­åŒ¹é…æ—¥æœŸæ‰€ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼\d{4}[/-]\d{2}[/-]\d{2}ï¼Œ\då°±è¡¨ç¤ºäº†æ•°å­—å­—ç¬¦ï¼Œå¦‚æœä¸é€‚ç”¨é¢„å®šä¹‰ç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¼šå˜å¾—æ¯”è¾ƒå¤æ‚[0-9]{4}[/-][0-9]{2}[/-][0-9]{2}ï¼š å­—ç¬¦ ç­‰ä»·äº å«ä¹‰ . [^\n\r] é™¤äº†å›è½¦ç¬¦å’Œæ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ \d [0-9] æ•°å­—å­—ç¬¦ \D [^0-9] éæ•°å­—å­—ç¬¦ \s [\t\n\x0B\f\r] ç©ºç™½ç¬¦ \S [^\t\n\x0B\f\r] éç©ºç™½ç¬¦ \w [a-zA-Z_0-9] å•è¯å­—ç¬¦ï¼ˆæ•°å­—å­—æ¯ä¸‹åˆ’çº¿ï¼‰ \W [^a-zA-Z_0-9] éå•è¯å­—ç¬¦ 2.5.5.è¾¹ç•Œâ€‹ æ­£å¦‚å®ƒçš„å­—é¢æ„æ€ï¼Œè¾¹ç•Œå°±æ˜¯å®šä¹‰åŒ¹é…çš„è¾¹ç•Œæ¡ä»¶ã€‚æ¯”å¦‚åœ¨2.1.3èŠ‚ä¸­åŒ¹é…&lt;p&gt;æ ‡ç­¾ä¸­æ®µè½æ‰€ä½¿ç”¨çš„^(&lt;p&gt;)å°±ä»£è¡¨ä»¥&lt;p&gt;åŸä¹‰å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²çš„å¼€å§‹ï¼Œ(&lt;/p&gt;)$å°±ä»£è¡¨ä»¥&lt;/p&gt;åŸä¹‰å­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚è¾¹ç•Œå­—ç¬¦ä¸€å…±æœ‰å››ç§ï¼š å­—ç¬¦ å«ä¹‰ ^ ä»¥xxxå¼€å¤´ $ ä»¥xxxç»“å°¾ \b å•è¯è¾¹ç•Œï¼ŒæŒ‡[a-zA-Z_0-9]ä¹‹å¤–çš„å­—ç¬¦ \B éå•è¯è¾¹ç•Œ â€‹ \bå’Œ\Bå¯èƒ½ä¼šç¨å¾®éš¾ç†è§£ä¸€äº›ï¼Œå› ä¸ºä¹‹å‰çš„å…ƒå­—ç¬¦æ˜¯åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œå®ƒä¿©åŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®å°±æ˜¯å•è¯è¾¹ç•Œä½ç½®ï¼ˆå®ƒçš„å‰ä¸€ä¸ªå­—ç¬¦å’Œåä¸€ä¸ªå­—ç¬¦ä¸å…¨æ˜¯(ä¸€ä¸ªæ˜¯,ä¸€ä¸ªä¸æ˜¯æˆ–ä¸å­˜åœ¨) å•è¯å­—ç¬¦ï¼‰ï¼Œæ‹¬å·å†…çš„å†…å®¹å¯ä»¥å…ˆä¸ç†è§£ï¼Œç»§ç»­å‘ä¸‹çœ‹ã€‚ â€‹ é¦–å…ˆå•è¯è¾¹ç•Œç®€å•çš„æ¥è¯´å°±æ˜¯å•è¯ï¼ˆ\wï¼‰å’Œç¬¦å·(\W)ä¹‹é—´çš„ä½ç½®ï¼Œä¸¾ä¸€ä¸ªæ —å­æ¥æ›´å…·ä½“çš„è¯´æ˜ï¼šåœ¨@Hello,hollysys!è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å•è¯è¾¹ç•Œçš„ä½ç½®æ·»åŠ ä¸€ä¸ª*å·ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯@*Hello*,*hollysys*!ã€‚è§‚å¯Ÿä¸€ä¸‹ç‰¹å¾ï¼Œæˆ‘ä»¬å†æ¥ç†è§£ä¸Šä¸€æ®µä¸­ä¸‹åˆ’çº¿å†…å®¹ã€‚å•è¯è¾¹ç•Œå‰åç›¸é‚»çš„ä¸¤è¾¹ä¸€å®šä¸€è¾¹æ˜¯å•è¯å­—ç¬¦è€Œå¦ä¸€è¾¹æ˜¯éå•è¯å­—ç¬¦æˆ–è€…æ²¡æœ‰å­—ç¬¦ï¼Œå¦‚æœç¬¦åˆè¿™ä¸ªè§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®å°±æ˜¯å•è¯è¾¹ç•Œã€‚\båŒ¹é…çš„å°±æ˜¯è¿™ä¸ªä½ç½®ï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼\bHelloå°±å¯ä»¥ç†è§£ä¸ºï¼šåŒ¹é…å¤„äºå•è¯è¾¹ç•Œä½ç½®çš„Helloï¼Œ\Bä¸ä¹‹ç›¸åã€‚ 2.5.6.é‡è¯/é‡å¤/é™å®šç¬¦â€‹ åœ¨2.5.4èŠ‚ä¸­æˆ‘ä»¬çŸ¥é“ï¼ŒåŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦å¯ä»¥ä¸ä½¿ç”¨èŒƒå›´ç±»[0-9]è€Œä½¿ç”¨ä¸€ä¸ªå…ƒå­—ç¬¦\dã€‚é‚£å¦‚æœåŒ¹é…ä¸€ä¸ª10ä½çš„æ•°å­—éœ€è¦\d\d\d\d\d\d\d\d\d\då—ï¼Ÿå½“ç„¶ä¸ç”¨ï¼Œé‡è¯ç®€åŒ–äº†è¿™ç§æƒ…å†µçš„ä¹¦å†™æ–¹å¼ï¼š å­—ç¬¦ å«ä¹‰ ? å‡ºç°é›¶æ¬¡æˆ–ä¸€æ¬¡ * å‡ºç°é›¶æ¬¡æˆ–å¤šæ¬¡(ä»»æ„æ¬¡) + å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ï¼ˆè‡³å°‘ä¸€æ¬¡ï¼‰ {n} å¯¹åº”é›¶æ¬¡æˆ–è€…næ¬¡ {n,m} è‡³å°‘å‡ºç°næ¬¡ä½†ä¸è¶…è¿‡mæ¬¡ {n,} è‡³å°‘å‡ºç° â€‹ åœ¨ç¬¬ä¸€èŠ‚æ —å­ä¸­åŒ¹é…æ‰‹æœºå·æ‰€ç”¨çš„è¡¨è¾¾å¼1[34578]\d{9}æœ€åçš„{9}å°±æ˜¯ä¸€ä¸ªé‡è¯ï¼Œä»£è¡¨åŒ¹é…9ä¸ªæ•°å­—å­—ç¬¦ã€‚ 2.5.7.è´ªå©ªä¸æ‡’æƒ°ï¼ˆ ? ï¼‰â€‹ è´ªå©ªå’Œæ‡’æƒ°æ˜¯æè¿°æ­£åˆ™è¡¨è¾¾å¼çš„ä¸¤ç§åŒ¹é…æ–¹å¼ï¼Œæ­£å¦‚å…¶åè´ªå©ªå°±æ˜¯åŒ¹é…å°½å¯èƒ½å¤šçš„ç»“æœï¼Œæ‡’æƒ°åˆ™ä¸ä¹‹ç›¸åã€‚é»˜è®¤æƒ…å†µä¸‹æ­£åˆ™è¡¨è¾¾å¼ä¼šé‡‡ç”¨è´ªå©ªæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œè€Œåœ¨é‡è¯ååŠ ?åˆ™ä¼šä½¿ç”¨æ‡’æƒ°åŒ¹é…ã€‚åœ¨é‡è¯æè¿°ä¸‹åŒ¹é…å•è¯å­—ç¬¦æ—¶ï¼Œè´ªå©ªæ¨¡å¼ä¼šé‡‡å–ä¸Šé™å»åŒ¹é…ï¼Œè€Œæ‡’æƒ°æ¨¡å¼ä¼šé‡‡å–ä¸‹é™æ¨¡å¼åŒ¹é…ã€‚è¿™é‡Œæˆ‘ä»¬ç»“åˆä¸Šä¸€å°èŠ‚é‡è¯çš„å†…å®¹ä¸¾ä¾‹è¯´æ˜ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼\w{3,6}å¯¹å­—ç¬¦ä¸²Hollysysè¿›è¡Œè´ªå©ªå’Œæ‡’æƒ°åŒ¹é…ï¼Œè§‚å¯Ÿç»“æœã€‚ 2.5.8.åˆ†æ”¯æ¡ä»¶ï¼ˆ | ï¼‰â€‹ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„åˆ†æ”¯æ¡ä»¶å°±æ˜¯å‡ ç§è§„åˆ™ï¼Œåœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨|å°†ä¸åŒçš„è§„åˆ™åˆ†å¼€ï¼Œåœ¨åŒ¹é…æ—¶ä¼šå¯¹æ¯ä¸ªåˆ†æ”¯è¿›è¡ŒåŒ¹é…ï¼Œä¸¾ä¸ªæ —å­ï¼š â€‹ æˆ‘ä»¬è¿˜æ˜¯é‚£å¼€å¤´é‚£ä¸ªæ —å­ï¼Œæˆ‘ç°åœ¨éœ€è¦åŒ¹é…å…¨æ–‡ä¸­æ‰€æœ‰çš„æ±Ÿä¼Ÿå’Œå¸ˆå‚…ï¼Œé‚£æ­£åˆ™è¡¨è¾¾å¼å°±å¯ä»¥å†™æˆ æ±Ÿä¼Ÿ|å¸ˆå‚…ï¼Œæä¾›äº†ä¸¤ç§è§„åˆ™å°±å¯ä»¥å°†æ‰€æœ‰çš„ç»“æœåŒ¹é…å‡ºæ¥ã€‚ 2.5.9.åˆ†ç»„ä¸åå‘å¼•ç”¨ å­—ç¬¦ å«ä¹‰ åˆ†ç±» (exp) åŒ¹é…expï¼Œå¹¶å°†ç»“æœè‡ªåŠ¨å‘½ååˆ†ç»„ æ•è· (?\exp) åŒ¹é…expï¼Œå¹¶å°†ç»“æœæŒ‰æŒ‡å®šåç§°å‘½ååˆ†ç»„ æ•è· (?:exp) åŒ¹é…expï¼Œä½†æ˜¯ä¸æ•è·ç»“æœä¹Ÿä¸å¯¹ç»“æœè¿›è¡Œåˆ†ç»„ æ•è· (?=exp) åŒ¹é…expå‰é¢çš„ä½ç½® æ–­è¨€ (?&lt;=exp) åŒ¹é…expåé¢çš„ä½ç½® æ–­è¨€ (?!exp) åŒ¹é…åé¢ä¸æ˜¯expçš„ä½ç½® æ–­è¨€ (?&lt;!exp) åŒ¹é…å‰é¢ä¸æ˜¯expçš„ä½ç½® æ–­è¨€ (?#comment) æ³¨é‡Šï¼Œä¸å‚ä¸æ­£åˆ™è¿ç®— æ³¨é‡Š åˆ†ç»„ â€‹ åˆ†ç»„åˆç§°ä¸ºå­è¡¨è¾¾å¼ï¼Œå¹²å˜›ç”¨çš„ï¼Ÿæˆ‘åˆè¦ä¸¾æ —å­äº†ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ç§æƒ…å†µï¼šå¦‚æœæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¤šä¸ªè¿ç»­çš„abcæ›¿æ¢ä¸º*å·ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»“åˆ2.5.6ä¸­æ‰€è¯´çš„é‡è¯ä½¿ç”¨æ­£åˆ™abc{2,}è¿›è¡ŒåŒ¹é…ï¼Œå‘ç°ç»“æœå¹¶ä¸æ˜¯æ‰€é¢„æœŸçš„ï¼Œé‡è¯åªä½œç”¨åˆ°äº†cä¸Šè€Œä¸æ˜¯abcä¸Šã€‚ â€‹ è¿™é‡Œä¸ºäº†ä½¿é‡è¯ä½œç”¨åˆ°abcä¸Šï¼Œå°±ç”¨åˆ°äº†åˆ†ç»„çš„æ¦‚å¿µã€‚æ­£å¦‚æœ¬èŠ‚å¼€å¤´æ‰€è¿°ï¼Œåˆ†ç»„ç§°ä¸ºå­è¡¨è¾¾å¼ï¼Œabcå°±æ˜¯ä¸€ä¸ªåªå«æœ‰åŸä¹‰å­—ç¬¦çš„è¡¨è¾¾å¼ï¼Œä½¿ç”¨åœ†æ‹¬å·å°†è¡¨è¾¾å¼æ‹¬èµ·æ¥ä½œä¸ºå­è¡¨è¾¾å¼å°†å­è¡¨è¾¾å¼åŒ¹é…çš„ç»“æœåšè¿›ä¸€æ­¥å¤„ç†ï¼Œæ­¤æ—¶åé¢çš„é‡è¯å°±ä¼šä½œç”¨åœ¨è¿™ä¸ªå­è¡¨è¾¾å¼ä¸Šã€‚ åå‘å¼•ç”¨ â€‹ åå‘å¼•ç”¨å¾€å¾€å’Œåˆ†ç»„ä¸€èµ·ä½¿ç”¨ï¼Œå½“ä¸€ä¸ªè¡¨è¾¾å¼è¢«åˆ†ç»„ä¹‹åï¼Œè¯¥è¡¨è¾¾å¼æ‰€åŒ¹é…åˆ°çš„å†…å®¹ä¼šè¢«è‡ªåŠ¨èµ‹äºˆä¸€ä¸ªç»„å·ã€‚é»˜è®¤æƒ…å†µä¸‹ä»å·¦åˆ°å³ä»¥åˆ†ç»„çš„å·¦æ‹¬å·ä½œä¸ºæ ‡å¿—ï¼ŒæŒ‰å…ˆåå‡ºç°é¡ºåºç¼–å·1ã€2ã€3Â·Â·Â·(0å¯¹åº”æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼)é€šè¿‡ç»„å·å¯ä»¥è·å¾—å¯¹åº”è¡¨è¾¾å¼æ‰€åŒ¹é…åˆ°çš„ç»“æœã€‚å¦‚æœ¬æ–‡å¼€å¤´ä¸¾æ —ä¸­å¯¹åŒ¹é…åˆ°çš„æ‰€æœ‰æ—¥æœŸè¿›è¡Œå¹´æœˆæ—¥çš„åˆ†ç»„ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼(\d{4})[/-](\d{2})[/-](\d{2})ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹åŒ¹é…çš„ç»“æœï¼š â€‹ å½“ç„¶é™¤äº†é»˜è®¤çš„ç»„å·ï¼Œè¿˜å¯ä»¥è‡ªå·±å®šä¹‰æ¯ä¸€ç»„çš„åç§°ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªä¾‹å­è¿›ä¸€æ­¥æ”¹é€ ï¼Œåªéœ€è¦åœ¨åˆ†ç»„çš„å­è¡¨è¾¾å¼å‰é¢æ·»åŠ ?&lt;name&gt;ä½¿å…¶è¿™ä¸ªåˆ†ç»„æœ‰ä¸€ä¸ªå›ºå®šçš„åç§°ã€‚ æ³¨æ„ï¼šå®é™…ä¸Šç»„å·åˆ†é…è¿‡ç¨‹æ˜¯è¦ä»å·¦å‘å³æ‰«æä¸¤éçš„ï¼šç¬¬ä¸€éåªç»™æœªå‘½åçš„ç»„åˆ†é…ï¼Œç¬¬äºŒéåªç»™å‘½åçš„ç»„åˆ†é…ï¼Œå› æ­¤æ‰€æœ‰å‘½åç»„çš„ç»„å·éƒ½å¤§äºæœªå‘½åçš„ç»„å·ã€‚ â€‹ è¿™é‡Œæˆ‘ä»¬å†æå‡ºä¸€ä¸ªåœºæ™¯ï¼Œéœ€è¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶å–åˆ°ä¸‹é¢åŸŸååˆ—è¡¨ä¸­æ‰€æœ‰åŸŸåçš„åç§°ï¼š https://www.baidu.comhttp://www.hollysys.comhttps://www.qq.commysql://www.aliyun.com:3306/device_dbhttp://www.forkbteam.comhttps://163.comhttp://google.cntcp://127.0.0.1 â€‹ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼(?:http|https)://w*\.?(.*)\.(?:com|cn)è¿›è¡ŒåŒ¹é…ï¼Œå½“åœ¨å­è¡¨è¾¾å¼æœ€å‰é¢æ·»åŠ ?:åˆ™ä¸ä¼šæ•è·è¯¥ç»„çš„ç»“æœï¼ŒåŒ¹é…ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ³¨ï¼š2.5èŠ‚ä¸­çœç•¥äº†å¹³è¡¡ç»„ã€é›¶å®½æ–­è¨€å’Œè´Ÿé›¶å®½æ–­è¨€çš„ä»‹ç»ã€‚ 3.æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦‚ä½•åŒ¹é…çš„ï¼Ÿâ€‹ é‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼æ˜¯æ€ä¹ˆåŒ¹é…çš„ï¼Ÿå®ƒçš„å·¥ä½œæœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¹Ÿæ˜¯éœ€è¦æœ‰äº›äº†è§£çš„ï¼Œå› ä¸ºè¿™å¯¹äºå†™ä¸€ä¸ªå¥½çš„æ­£åˆ™è¡¨è¾¾å¼éå¸¸æœ‰å¸®åŠ©ï¼Œèƒ½æœ‰æ•ˆæé«˜åŒ¹é…æ–‡æœ¬æ‰€éœ€æ¶ˆè€—çš„æ€§èƒ½ä¸æ—¶é—´ã€‚ 3.1.æ­£åˆ™è¡¨è¾¾å¼çš„å·¥ä½œæœºåˆ¶3.1.1.åŒ¹é…å¼•æ“çœ¼é‡Œçš„å­—ç¬¦ä¸²â€‹ åœ¨è¯´åˆ°è¾¹ç•Œæ—¶ï¼Œæˆ‘ä»¬çŸ¥é“è¾¹ç•ŒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè€Œé¢„å®šä¹‰ç±»ç­‰åŒ¹é…çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚æ‰€ä»¥è¢«åŒ¹é…çš„ä¸€ä¸²å­—ç¬¦Hollysysåœ¨æ­£åˆ™åŒ¹é…å¼•æ“çœ¼é‡Œæ˜¯å«æœ‰ä½ç½®å ä½ç¬¦çš„0H1o2l3l4s5y6s7ã€‚ 3.1.2.åŒ¹é…æµç¨‹ â€‹ æ­£åˆ™è¡¨è¾¾å¼åœ¨ç¼–è¯‘ä¹‹åä¼šä»å¤´å­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œä¼šæŸ¥æ‰¾æ˜¯å¦è¿˜æœ‰å…¶ä»–çš„è·¯å¾„æ²¡æœ‰åŒ¹é…åˆ°ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œä¼šå›é€€åˆ°ä¸Šä¸€æ¬¡æˆåŠŸåŒ¹é…çš„ä½ç½®ç„¶åé‡å¤ç¬¬äºŒæ­¥æ“ä½œï¼Œä¸è¿‡æ­¤æ—¶å¼€å§‹åŒ¹é…çš„ä½ç½®æ˜¯ä¸Šæ¬¡æˆåŠŸä½ç½®åŠ 1ã€‚è¿™æ•´ä¸ªåŒ¹é…è¿‡ç¨‹çš„åŸºç¡€ç¯èŠ‚å°±æ˜¯å›æº¯ï¼Œå›æº¯æ˜¯é©±åŠ¨æ­£åˆ™åŒ¹é…çš„ä¸€ä¸ªåŸºæœ¬åŠ¨åŠ›ï¼Œä¹Ÿæ˜¯å½±å“åŒ¹é…æ€§èƒ½çš„ä¸€ä¸ªå…³é”®ã€‚ 3.1.3.å æœ‰å­—ç¬¦å’Œé›¶å®½åº¦â€‹ å¦‚æœä¸€ä¸ªå­è¡¨è¾¾å¼åœ¨åŒ¹é…è¿‡ç¨‹ä¸­åŒ¹é…åˆ°äº†ç»“æœï¼Œè€Œä¸”è¿™ä¸ªç»“æœä¸æ˜¯ä¸€ä¸ªä½ç½®è€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå®ƒæ‰€åŒ¹é…åˆ°çš„ç»“æœä¼šè¢«å®ƒå æœ‰å¹¶ä¿å­˜åˆ°åŒ¹é…ç»“æœä¸­ï¼Œè¿™ç§ç§°ä¸ºå æœ‰å­—ç¬¦ã€‚è€Œå¦‚æœåŒ¹é…åˆ°çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªä½ç½®æ˜¯ä¸ä¼šè¢«å®ƒå æœ‰æ›´ä¸ä¼šä¿å­˜åˆ°åŒ¹é…ç»“æœä¸­å»ï¼Œè¿™ç§ç§°ä¸ºé›¶å®½åº¦ã€‚ â€‹ å æœ‰å­—ç¬¦æ˜¯äº’æ–¥çš„ï¼Œé›¶å®½åº¦æ˜¯éäº’æ–¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå­—ç¬¦åŒä¸€æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªè¡¨è¾¾å¼åŒ¹é…ï¼Œè€Œä¸€ä¸ªä½ç½®åœ¨åŒä¸€æ—¶é—´å¯ä»¥è¢«å¤šä¸ªé›¶å®½åº¦è¡¨è¾¾å¼åŒ¹é…ã€‚å¯¹ï¼Œæˆ‘è¦ä¸¾æ —å­äº†ï¼š â€‹ ç¬¬ä¸€å¼ å›¾å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå­è¡¨è¾¾å¼éƒ½åœ¨åŒ¹é…åŒä¸€ä¸ªä½ç½®ï¼Œç»“æœä¸­å¯ä»¥çœ‹åˆ°è¿™ä¸ªè¡¨è¾¾å¼æ‰§è¡ŒæˆåŠŸã€‚ç¬¬äºŒå¼ å›¾ä¸¤ä¸ªå­è¡¨è¾¾å¼éƒ½åœ¨åŒ¹é…å­—ç¬¦fï¼Œä½†æ˜¯æ— æ³•åŒ¹é…æˆåŠŸã€‚å› ä¸ºå½“ç¬¬ä¸€ä¸ªå­è¡¨è¾¾å¼å°†få æœ‰åï¼Œç¬¬äºŒä¸ªå­è¡¨è¾¾å¼æ— æ³•å†æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„åŒ¹é…è€Œä½¿å¾—æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…å¤±è´¥ã€‚ 3.1.4.æ§åˆ¶æƒå’Œä¼ åŠ¨â€‹ æ­£åˆ™è¡¨è¾¾å¼åœ¨ç”±å·¦å‘å³ä¾æ¬¡åŒ¹é…æ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªè¡¨è¾¾å¼å…ˆå–å¾—æ§åˆ¶æƒï¼Œä»æŸä¸ªä½ç½®å¼€å§‹åŒ¹é…ã€‚å½“è¿™ä¸ªå­è¡¨è¾¾å¼åŒ¹é…ç»“æŸåï¼Œä¼šå°†æ§åˆ¶æƒä¼ åŠ¨ç»™ä¸‹ä¸€ä¸ªå­è¡¨è¾¾å¼ã€‚ä¸‹ä¸€ä¸ªå­è¡¨è¾¾å¼ä¼šä»ä¸Šä¸€ä¸ªè¡¨è¾¾å¼åŒ¹é…æˆåŠŸä¹‹åçš„ä½ç½®å¼€å§‹åŒ¹é…ï¼Œä½†å¦‚æœä¸Šä¸€ä¸ªå­è¡¨è¾¾å¼æ˜¯é›¶å®½åº¦ï¼Œé‚£ä¹ˆåŒ¹é…çš„ä½ç½®è¿˜æ˜¯ä¸Šä¸€ä¸ªå­è¡¨è¾¾å¼åŒ¹é…çš„ä½ç½®ã€‚ 3.2.è¿ç®—ä¼˜å…ˆçº§â€‹ æ­£åˆ™è¡¨è¾¾å¼ä»å·¦åˆ°å³è¿›è¡Œè®¡ç®—ï¼Œå¹¶éµå¾ªä¼˜å…ˆçº§é¡ºåºã€‚ç›¸åŒä¼˜å…ˆçº§çš„ä»å·¦åˆ°å³è¿›è¡Œè¿ç®—ï¼Œä¸åŒä¼˜å…ˆçº§çš„è¿ç®—å…ˆé«˜åä½ã€‚ä¸‹è¡¨ä»ç”±é«˜åˆ°æœ€ä½å¯¹å…ƒå­—ç¬¦çš„ä¼˜å…ˆçº§è¿›è¡Œäº†æ’åºï¼š å…ƒå­—ç¬¦ æè¿° \ è½¬ä¹‰ç¬¦ ()ï¼Œ(?:)ï¼Œ(?=),[] åœ†æ‹¬å·å’Œæ–¹æ‹¬å· *ï¼Œ+ï¼Œ?ï¼Œ{n}ï¼Œ{n,}ï¼Œ{n,m} é‡è¯ ^ï¼Œ$ï¼Œ\ä»»ä½•å…ƒå­—ç¬¦ã€ä»»ä½•å­—ç¬¦ ä½ç½®å’Œé¡ºåº \ æˆ– 3.3.å›æº¯â€‹ æ­£åˆ™è¡¨è¾¾å¼ä¸­åˆ†æ”¯å’Œé‡è¯å‡ºç°çš„æ¬¡æ•°æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œé‡è¯å°±å¦‚2.5.6å°èŠ‚æ‰€è¿°ï¼Œæ­£åˆ™è¡¨è¾¾å¼éœ€è¦å†³å®šä½•æ—¶å»å°è¯•åŒ¹é…æ›´å¤šçš„å­—ç¬¦ã€‚è€Œåˆ†æ”¯å¦‚2.5.8å°èŠ‚æœ€åçš„æ —å­ä¸€æ ·ï¼Œåœ¨åŒ¹é…æ—¶æˆ‘éœ€è¦httpå’Œhttpsä¸¤ç§æƒ…å†µå¼€å¤´çš„URLï¼Œé‚£ä¹ˆï¼ˆhttp|httpsï¼‰å°±æä¾›äº†ä¸¤ä¸ªåˆ†æ”¯ä¾›æ­£åˆ™é€‰æ‹©ã€‚å¯¹äºè¿™ç§æ¨¡ç³Šæ¡ä»¶åŒ¹é…ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯ç©·ä¸¾ï¼Œå°†æ‰€æœ‰å¯èƒ½çš„ç»“æœåŒ¹é…ä¸€éï¼Œä¸€æ—¦åŒ¹é…æˆåŠŸç«‹å³è¿”å›ç»“æœã€‚é‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬å°±è¿™ä¸¤ç§æƒ…å†µç»“åˆå›æº¯åˆ†ææ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦‚ä½•åŒ¹é…çš„ã€‚ 3.3.1.åˆ†æ”¯&amp;å›æº¯â€‹ åœ¨2.5.8å°èŠ‚ä¸­è¯´åˆ°äº†åˆ†æ”¯ï¼Œåˆ†æ”¯æ˜¯æä¾›å¤šä¸ªè§„åˆ™ç»™æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œä¸ºäº†å»åŒ¹é…è¿™äº›è§„åˆ™å°±éœ€è¦è¿›è¡Œå›æº¯ã€‚è¿™é‡Œé€šè¿‡æè¿°æ­£åˆ™è¡¨è¾¾å¼H(ollysys|ere)&lt;/p&gt;å¯¹Here is &lt;p&gt;Hollysys&lt;/p&gt; companyçš„åŒ¹é…è¿‡ç¨‹æ¥å±•ç¤ºåˆ†æ”¯çš„å›æº¯è¿‡ç¨‹ã€‚ åŒ¹é…ç»“æœ è¯´æ˜ H åœ¨ä½ç½®0åŒ¹é…åˆ°äº†å­—ç¬¦H H é€‰æ‹©ollsysåˆ†æ”¯è¿›è¡ŒåŒ¹é… He ä½ç½®1ä¸æ˜¯å­—ç¬¦oï¼Œå›æº¯ H é€‰æ‹©ereåˆ†æ”¯è¿›è¡ŒåŒ¹é… He ä½ç½®1ä¸ŠæˆåŠŸåŒ¹é…å­—ç¬¦e Here ä½ç½®2ã€3ä¸ŠæˆåŠŸåŒ¹é…å­—ç¬¦reï¼Œè¯¥åˆ†æ”¯åŒ¹é…æˆåŠŸ Here ä½ç½®4ä¸æ˜¯å­—ç¬¦&lt;ï¼Œè¯¥è·¯å¾„åŒ¹é…å¤±è´¥ Null ä½ç½®2ä¸æ˜¯å­—ç¬¦Hï¼ŒåŒ¹é…å¤±è´¥ Â·Â·Â· Â·Â·Â· H ä½ç½®11åŒ¹é…åˆ°å­—ç¬¦H H é€‰æ‹©ollsysåˆ†æ”¯è¿›è¡ŒåŒ¹é… Hollysys åŒ¹é…åˆ°äº†ollysysï¼Œè¯¥åˆ†æ”¯åŒ¹é…æˆåŠŸ Hollysys&lt; åœ¨ä½ç½®9åŒ¹é…åˆ°äº†å­—ç¬¦&lt; Hollysys\ åœ¨ä½ç½®10ã€11ã€12ä¸ŠåŒ¹é…åˆ°äº†/p&gt; Hollysys\ è¯¥è·¯å¾„åŒ¹é…æˆåŠŸ æ³¨ï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»å·¦åˆ°å³ä¾æ¬¡åŒ¹é…ï¼Œå¦‚æœæ»¡è¶³äº†æŸä¸ªåˆ†æ”¯çš„è¯å®ƒå°±ä¸ä¼šå†ç®¡å…¶ä»–åˆ†æ”¯äº† 3.3.1.é‡è¯&amp;å›æº¯â€‹ å¦‚2.5.7å°èŠ‚æ‰€è¿°ï¼Œåœ¨ä½¿ç”¨é‡è¯åŒ¹é…æ—¶æœ‰è´ªå©ªå’Œæ‡’æƒ°ä¸¤ç§åŒ¹é…æ¨¡å¼ï¼Œè¯¥å°èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼&lt;.*&gt;å’Œ&lt;.*?&gt;å¯¹å­—ç¬¦ä¸²Here is &lt;p&gt;Hollysys&lt;/p&gt; companyè¿›è¡ŒåŒ¹é…ã€‚é‚£ä¹ˆæ˜¯å¦‚ä½•åŒ¹é…çš„å‘¢ï¼Ÿ `&lt;.*&gt; åŒ¹é…ç»“æœ è¯´æ˜ &lt; å…ˆåŒ¹é…&lt;å­—ç¬¦ï¼Œåœ¨ä½ç½®8åŒ¹é…æˆåŠŸ \Hollysys\ company é»˜è®¤è´ªå©ªåŒ¹é…ï¼Œé‡è¯å–ä¸Šé™.*ä¸€ä¸‹åå™¬åé¢çš„æ‰€æœ‰å­—ç¬¦ \Hollysys\ company åé¢æ²¡æœ‰å­—ç¬¦ä¾›&gt;åŒ¹é…ï¼Œå›æº¯ï¼Œè¦æ±‚.*åä¸€ä¸ªå­—ç¬¦å‡ºæ¥ \Hollysys\ compan åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ compa åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ comp åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ com åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ co åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ c åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ åå¾—å­—ç¬¦ä¸æ˜¯&gt;ï¼Œå›æº¯ï¼Œå†ç»™æˆ‘åä¸€ä¸ª \Hollysys\ æ˜¯&gt;ï¼Œå®ŒæˆåŒ¹é… &lt;.*?&gt; åŒ¹é…ç»“æœ è¯´æ˜ &lt; å…ˆåŒ¹é…&lt;å­—ç¬¦ï¼Œåœ¨ä½ç½®8åŒ¹é…æˆåŠŸ \&lt; æ‡’æƒ°åŒ¹é…ï¼Œé‡è¯å–ä¸‹é™0ï¼Œ.*è¢«å¿½ç•¥ \&lt;p ä¸æ˜¯&gt;ï¼Œå›æº¯ \&lt;p .*åŒ¹é…1ä¸ªå­—ç¬¦ \ æ˜¯&gt;ï¼Œå®ŒæˆåŒ¹é… \ã€\ å…¨å±€åŒ¹é…ï¼Œæœªåˆ°å°¾éƒ¨ç»§ç»­æŒ‰ä¸Šè¿°æ­¥éª¤å‘å‰åŒ¹é…åˆæ‰¾åˆ°&lt;/p&gt; 3.4.åˆ†ç»„â€‹ åœ¨2.5.9ä¸­æˆ‘ä»¬è¯´åˆ°äº†åˆ†ç»„æ•è·ä»¥åŠå¯¹ç»„çš„å‘½åï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹ä¸€ç§æƒ…å†µï¼š â€‹ å½“å¯¹ä¸¤ä¸ªç»„ä½¿ç”¨ç›¸åŒçš„åç§°æ—¶ï¼Œæœ€ç»ˆçš„ç»“æœåªä¼šæ˜¾ç¤ºæœ€åä¸€ä¸ªï¼Œæ˜¯è¢«è¦†ç›–äº†ä¹ˆï¼Ÿå…¶å®æ¯ä¸€ä¸ªç»„éƒ½æ˜¯ä¸€ä¸ªå †æ ˆï¼Œå½“æ­£åˆ™ä»å·¦å‘å³åŒ¹é…åˆ†ç»„å†…çš„å­è¡¨è¾¾å¼æ—¶ï¼Œä¼šå°†åŒ¹é…ç»“æœæ•è·å‡ºæ¥å‹å…¥æŒ‡å®šåç§°çš„æ ˆä¸­ã€‚è€Œç»„è·å–çš„æ–‡æœ¬æ˜¯æ ˆé¡¶çš„æ•°æ®ï¼Œæ‰€ä»¥æœ€ç»ˆå–åˆ°çš„ç»“æœæ˜¯sysã€‚ä½†æˆ‘åªæƒ³è¦ä¸Šä¸€ä¸ªç»“æœæ€ä¹ˆåŠï¼Ÿé‚£å°±å¯ä»¥ä½¿ç”¨(?&#39;-one&#39;)å°†é¡¶éƒ¨çš„æ ˆå¼¹å‡ºï¼š 3.5.æ­£åˆ™è¡¨è¾¾å¼ä¼˜åŒ–çš„ä¸€äº›å°æŠ€å·§ é¿å…é‡æ–°ç¼–è¯‘ï¼Œç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼çš„æ¬¡æ•°å°½å¯èƒ½çš„å°‘ï¼› å¦‚æœä¸éœ€è¦æ‹¬å·å†…çš„å­è¡¨è¾¾å¼åŒ¹é…ç»“æœï¼Œæœ€å¥½ä½¿ç”¨éæ•è·ç¬¦å·?:ï¼› ä¸è¦æ»¥ç”¨æ‹¬å·å’Œå­—ç¬¦ç»„ï¼› ä»é‡è¯ä¸­æå–å‡ºæ¥å¿…é¡»çš„å…ƒç´ ï¼› æå–åˆ†æ”¯æ¡ä»¶å¼€å¤´æˆ–ç»“å°¾å¿…é¡»çš„å…ƒç´ ï¼› ä½¿ç”¨æ­£ç¡®çš„è¾¹ç•Œç¬¦é™å®šæœç´¢åŒºåŸŸï¼› å°½é‡ä¸é€‚ç”¨é€šé…ç¬¦ï¼Œä½¿ç”¨å…·ä½“çš„å…ƒå­—ç¬¦ï¼› ä½¿ç”¨æ­£ç¡®çš„é‡è¯ï¼Œå¹¶å°½å¯èƒ½é™å®šé•¿åº¦ï¼› 4.ä¸€äº›æ­£åˆ™è°ƒè¯•è¾…åŠ©å·¥å…·4.1.Regexperâ€‹ Regexperæ˜¯ä¸€æ¬¾JavaScriptå¯è§†åŒ–æ­£åˆ™è°ƒè¯•å·¥å…·ï¼Œå®ƒå¯ä»¥è§£ææ­£åˆ™è¡¨è¾¾å¼å¹¶å°†åŒ¹é…æ–¹å¼å¯è§†çš„æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™æ¯”ç›´æ¥è¯»æ­£åˆ™è¡¨è¾¾å¼æ–¹ä¾¿äº†å¾ˆå¤šï¼Œä¹Ÿç¼–è¯‘æ‰¾å‡ºè‡ªå·±å†™çš„è¡¨è¾¾å¼ä¸­å­˜åœ¨å“ªäº›é€»è¾‘æˆ–è€…è¯­æ³•ä¸Šçš„é”™è¯¯ã€‚ å·¥å…·åœ°å€ï¼šRegexper 4.2.åœ¨çº¿æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•â€‹ è¿™ä¸ªæ˜¯æ¯”è¾ƒç®€å•çš„è½»é‡çº§åœ¨çº¿è°ƒè¯•å·¥å…·ï¼Œå¹¶æä¾›äº†ä¸€äº›å¸¸ç”¨çš„è¡¨è¾¾å¼ã€‚ å·¥å…·åœ°å€ï¼šåœ¨çº¿æ­£åˆ™è¡¨è¾¾æµ‹è¯• 4.3.æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å™¨â€‹ ä¹Ÿæ˜¯ä¸€ä¸ªè½»é‡çº§æ¡Œé¢ç‰ˆæ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å·¥å…·ï¼Œå±•ç¤ºæ¯”ä¸Šé¢é‚£ä¸ªåœ¨çº¿ç‰ˆè¦å‹å¥½å¾ˆå¤šï¼Œæ”¯æŒåŒ¹é…æ•°æ®çš„å¯¼å‡ºã€‚ ä¸‹è½½åœ°å€ï¼šæ­£åˆ™è¡¨è¾¾æµ‹è¯•å™¨ 4.4.RegexBuddyâ€‹ è¿™ä¸ªå·¥å…·æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼ç¼–è¾‘å·¥å…·ï¼Œä½¿ç”¨èƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè‡ªåŠ¨ç”Ÿæˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¯æŒè‡ªåŠ¨æ£€æŸ¥å’Œä¿®æ”¹ç”Ÿæˆçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯åœ¨æ ·æœ¬å­—ç¬¦ä¸²å’Œæ–‡ä»¶ä¸Šå¿«é€Ÿæµ‹è¯•ä»»ä½•æ­£åˆ™è¡¨è¾¾å¼ï¼Œé˜²æ­¢å®é™…æ•°æ®å‡ºé”™ã€‚é€šè¿‡é€æ­¥å®Œæˆå®é™…çš„åŒ¹é…è¿‡ç¨‹æ¥è¿›è¡Œæ— çŒœæµ‹è°ƒè¯•ã€‚æœ€ä¸»è¦çš„ï¼Œå®ƒå¯ä»¥å¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒDebugï¼Œä»–ä¼šä»¥æ ‘çŠ¶åˆ—è¡¨æ˜¾ç¤ºæ­£åˆ™åŒ¹é…çš„æ¯ä¸€ä¸ªè¿‡ç¨‹å’ŒåŒ¹é…æœ€ç»ˆçš„æ­¥é•¿ï¼Œè¿™å¯¹æ€§èƒ½ä¼˜åŒ–æœ‰ç€éå¸¸å¤§çš„å¸®åŠ©ã€‚]]></content>
      <categories>
        <category>æ­£åˆ™è¡¨è¾¾å¼</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript - å¸¸è§çš„äº”ç§thisæŒ‡å‘]]></title>
    <url>%2F2018%2F11%2F21%2Fthis%2F</url>
    <content type="text"><![CDATA[Javacriptä¸­thisçš„ä½¿ç”¨this åœ¨jsä¸­æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒæ˜¯å‡½æ•°è¿è¡Œæ—¶ï¼Œåœ¨å‡½æ•°ä½“å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨ã€‚ç®€å•çš„æ¥è¯´ï¼Œthiså°±æ˜¯å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„ç¯å¢ƒå¯¹è±¡ã€‚ä»Šå¤©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„thisçš„å››ç§ä½¿ç”¨â€¦ å‡½æ•°è°ƒç”¨ ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸thisæŒ‡å‘å…¨å±€å˜é‡ éä¸¥æ ¼æ¨¡å¼ä¸‹thiså°±æ˜¯æŒ‡å‘å…¨å±€å˜é‡ 12345678// ä¸¥æ ¼æ¨¡å¼ä¸‹â€˜use strictâ€™function thisFun()&#123; console.log(this)&#125;thisFun() // undefined// éä¸¥æ ¼æ¨¡å¼ä¸‹thisFun(); // window å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼ŒthisæŒ‡å‘æ–¹æ³•çš„è°ƒç”¨è€… å°†å¯¹è±¡çš„æ–¹æ³•èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼ŒthisæŒ‡å‘è¯¥å˜é‡æ‰€åœ¨çš„å¯¹è±¡ä¸Šã€‚ 1234567891011121314151617var userName = 'cindy'var userInfo = &#123; userName:'pis', getUserName:function()&#123; console.log(this.userName) &#125;&#125;userInfo.getUserName(); // pisvar otherUser = userInfo.getUserName;otherUser();// window cindyvar me = &#123; userName:'eric', realName:''&#125;me.realName = userInfo.getUserName;me.realName() // me eric æ„é€ å‡½æ•°åœ¨jsä¸­ï¼Œä¸ºäº†å®ç°ç±»ï¼Œå®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œåœ¨è°ƒç”¨æ„é€ å‡½æ•°ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œä½¿ç”¨newæ“ä½œç¬¦ 12345var name = 123;function Animal()&#123; this.name = 'cat';&#125;var mimi= new Animal(); // thisæŒ‡å‘æ„é€ å‡½æ•°ç”Ÿæˆçš„å®ä¾‹å¯¹è±¡ call apply bind applyã€callã€bindçš„ä½œç”¨ åœ¨javascriptä¸­ï¼Œä¸‰è€…ä½œç”¨æ˜¯æ”¹å˜æŸä¸ªå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆExecution Contextï¼‰ï¼Œå…·ä½“ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°ä½“å†…éƒ¨thisçš„æŒ‡å‘ã€‚ ä¸¾ä¸ªæ —å­ï¼š 1234567891011121314151617 function example() &#123;&#125; example.prototype = &#123; name: 'will', say: function() &#123; console.log('hi,' + this.name + '!') &#125;&#125; var e = new example() e.say() // hi,will! var obj = &#123; name: 'lucky' &#125; e.say.apply(obj) // hi,lucky! æ­¤æ—¶this.nameæ˜¯lucky e.say.call(obj) // hi,lucky! æ­¤æ—¶this.nameæ˜¯lucky e.say.bind(obj)() // hi,lucky! æ­¤æ—¶this.nameæ˜¯lucky applyã€callã€bindçš„åŒºåˆ« applyã€callåªæ˜¯æ¥å—å‚æ•°çš„æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œè€Œä¸”ä¼šç«‹å³æ‰§è¡Œï¼Œbindä¼šäº§ç”Ÿä¸€ä¸ªæ–°å‡½æ•°ï¼Œéœ€è¦å†æ¬¡è°ƒç”¨æ‰ä¼šæ‰§è¡Œ ä¸¾ä¸ªæ —å­ï¼š 12345function func(arg1, arg2) &#123; console.log(arg1 + arg2)&#125;func.apply(this, [1, 2]) // applyæ¥å—çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„func.call(this, 1, 2) // callæ¥å—çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œåé¢ä¸€ä¸ªæ¥ä¸€ä¸ª ç®€å•ä¸¾å‡ ä¸ªapplyã€callã€bindçš„åº”ç”¨åœºæ™¯ ä¼ªæ•°ç»„è½¬æ ‡å‡†æ•°ç»„ 1234567var obj = &#123; 0: 1, 1: 2, length: 2&#125;var arr1 = Array.prototype.slice.call(obj) // [1, 2]var arr2 = Array.prototype.slice.apply(obj) // [1, 2] å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ 123456789var arr = [1, 2, 3, 4]//å–æœ€å¤§å€¼console.log(Math.max.apply(Math, arr)) // 4console.log(Math.max.call(Math, ...arr)) // 4//å–æœ€å°å€¼console.log(Math.min.apply(Math, arr)) // 1console.log(Math.min.call(Math, ...arr)) // 1 æ£€éªŒæ˜¯å¦æ˜¯æ•°ç»„ 12345function isArray(obj) &#123; return Object.prototype.toString.call(obj) === '[object Array]'&#125;isArray([1]) // trueisArray(&#123;&#125;) // false Reactä¸­ä½¿ç”¨bindä½¿å‡½æ•°å¯ä»¥è·å–åˆ°props 12345678910 class MyCircle extends Component &#123; constructor(props) &#123; super(props) this.func = this.func.bind(this) &#125; func() &#123; ... &#125; ...&#125; ç­‰ç­‰â€¦ æ€»ç»“ ä¸‰è€…ä½œç”¨éƒ½æ˜¯æ”¹å˜å‡½æ•°thisçš„æŒ‡å‘ä¸‰è€…ç¬¬ä¸€ä¸ªä¼ å‚éƒ½æ˜¯è¦thisè¦æŒ‡å‘çš„å¯¹è±¡applyã€callæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œbindéœ€è¦å†æ¬¡è°ƒç”¨]]></content>
      <categories>
        <category>javascript</category>
        <category>javascript - å¸¸è§çš„äº”ç§thisæŒ‡å‘</category>
      </categories>
      <tags>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[currentFrontEnd]]></title>
    <url>%2F2018%2F11%2F19%2FcurrentFrontEnd%2F</url>
    <content type="text"><![CDATA[Front-end evolutionç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘ç†è§£çš„å‰ç«¯æŠ€æœ¯æ¼”è¿›â€¦ ç¬¬ä¸€é˜¶æ®µï¼šåˆ€è€•ç«ç§åŸºæœ¬çš„äº‹ä»¶å“åº”æœºåˆ¶ è·å–viewä¸Šçš„dom å¯¹domè¿›è¡Œäº‹ä»¶ç»‘å®š æ ¹æ®äº‹ä»¶å“åº”æ”¹å˜è§†å›¾ 12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;label&gt;ç”¨æˆ·è¾“å…¥&lt;label for="userInput"&gt;&lt;/label&gt;&lt;input type="text" id="userInput"&gt; &lt;button id="submitButton"&gt;æäº¤&lt;/button&gt; &lt;p id="userComment"&gt;&lt;/p&gt; &lt;/body&gt; &lt;script&gt; // é¡µé¢domåŠ è½½å®Œæ¯• window.onload = function () &#123; var userInput = bindDom('userInput'); var submitButton = bindDom('submitButton'); var userComment = bindDom('userComment'); submitButton.addEventListener('click',function()&#123; userComment.innerHTML = userInput.value; &#125;); &#125;; // bind dom function bindDom(domID)&#123; return document.getElementById(domID) &#125; &lt;/script&gt;&lt;/html&gt; demo1 é¢‘ç¹çš„æ“ä½œdomï¼Œæ€§èƒ½å·®ï¼Œè§†å›¾viewå’Œä¸šåŠ¡é€»è¾‘çš„jsæ–‡ä»¶æ‰åœ¨ä¸€èµ·ï¼Œç»´æŠ¤æ€§å·®ï¼Œå¯è¯»æ€§å·®ï¼Œæ— æ³•å¤ç”¨ ç¬¬äºŒé˜¶æ®µï¼šå‰ç«¯æ¨¡å—åŒ– ä»€ä¹ˆé—®é¢˜å¯¼è‡´æˆ‘ä»¬éœ€è¦å‰ç«¯é¡µé¢è¿›è¡Œç»„ä»¶åŒ–ï¼Ÿ ç»„ä»¶åŒ–ç©¶ç«Ÿæ—¶è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿç­”ï¼šä¸ºäº†è§£å†³ç»“æ„æœç”¨ï¼Œé¿å…äº§ç”Ÿé‡å¤å†—ä½™çš„ä»£ç  æ¨¡å—åŒ–ç¬¬ä¸€é˜¶æ®µï¼šåŸå§‹çš„ç»„å»ºåŒ–å†™æ³•(åœ¨å…¨å±€å¯¹è±¡ä¸Šå®šä¹‰æ¨¡å—çš„å±æ€§å’Œæ–¹æ³•)æ¨¡å—å°±æ˜¯å®ç°ç‰¹å®šåŠŸèƒ½çš„ä¸€ç»„æ–¹æ³•ï¼æ‰€ä»¥æŠŠä¸åŒçš„å‡½æ•°å’Œå˜é‡ç®€å•çš„æ”¾åœ¨ä¸€èµ·å°±ç®—æ˜¯ä¸€ä¸ªæ¨¡å— 123456789var name = 'pis';var age = 18;function getName()&#123; return this.name&#125;function getAge()&#123; return this.age&#125; getName getAgeæ–¹æ³•ç»„æˆäº†ä¸€ä¸ªæ¨¡å—ï¼Œä½¿ç”¨çš„æ—¶å€™ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†ã€‚ ç¼ºç‚¹: æ±¡æŸ“äº†å…¨å±€å˜é‡ä¸èƒ½ä¿è¯åœ¨å¼•å…¥å…¶ä»–æ¨¡å—çš„æ—¶å€™ä¸ä¼šå‘ç”Ÿå˜é‡åå†²çªå’Œæ–¹æ³•è¢«overwriteæ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³» æ¨¡å—åŒ–ç¬¬äºŒé˜¶æ®µï¼šå¯¹è±¡çš„å†™æ³•ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œå¯ä»¥æŠŠæ¨¡å—çš„æ–¹æ³•æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢ï¼Œè¿™æ ·å°±è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ 12345678910var module = &#123; name:'unclepis', age:18, getName:function()&#123; return this.name &#125;, getAge:function()&#123; return this.age &#125;&#125; è¿™æ ·æ‰€æœ‰çš„æ¨¡å—æ–¹æ³•éƒ½å°è£…åœ¨äº†å¯¹è±¡é‡Œé¢ï¼Œä½¿ç”¨çš„æ—¶å€™å°±æ˜¯è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•å°±å¯ä»¥äº† module.getName() // unclepis ç¼ºç‚¹ï¼š æš´æ¼äº†æ‰€æœ‰çš„æ¨¡å—æˆå‘˜å†…éƒ¨çš„çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™ module.name = â€˜ericâ€™ æ¨¡å—åŒ–ç¬¬ä¸‰é˜¶æ®µï¼šè‡ªæ‰§è¡Œå‡½æ•°123456789101112131415var module = (function()&#123; var name = 'cindy'; var age = 18; var getName = function()&#123; return name; &#125; var getAge = function()&#123; return age; &#125; return&#123; getName:getName, getAge:getAge &#125;&#125;)(); è¿™æ ·çš„å†™æ³•ä½¿å¾—å¤–éƒ¨ä¸èƒ½è·å–å†…éƒ¨å˜é‡ï¼Œåˆå¯¹å¤–æš´æ¼äº†æ¨¡å—çš„æ¥å£ï¼Œæ‰€ä»¥è¿™å°±æ˜¯åœ¨es6æ¨¡å—åŒ–ä¹‹å‰æ¯”è¾ƒä¸»æµçš„æ¨¡å—åŒ–å†™æ³• è‡ªæ‰§è¡Œå‡½æ•°æ¨¡å—åŒ–æ‰©å±•1ï¼šæ”¾å¤§æ¨¡å¼ï¼‹è‡ªæ‰§è¡Œå‡½æ•°å¦‚æœä¸€ä¸ªæ¨¡å—å¾ˆå¤§æˆ–è€…ä¸€ä¸ªæ¨¡å—éœ€è¦ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨æ”¾å¤§æ¨¡å¼ 1234567var getMoreInfo = (function(mod)&#123; mod.getJobInfo = function()&#123; // å¼•å…¥å‰é¢å°è£…å¥½çš„moduleï¼Œå·²ç»æœ‰äº†getNameå’ŒgetAgeçš„æ–¹æ³•ï¼Œåˆå¼•å…¥äº†æ–°çš„æ–¹æ³•getjobinfo &#125; return mod;// è¿”å›æ–°çš„æ¨¡å—&#125;)(module); è‡ªæ‰§è¡Œå‡½æ•°æ¨¡å—åŒ–æ‰©å±•2ï¼šç”±äºæµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œæ¨¡å—çš„å„ä¸ªéƒ¨åˆ†é€šå¸¸éƒ½æ˜¯ä»ç½‘ä¸Šè·å–çš„ã€‚æ— æ³•æ§åˆ¶èµ„æºçš„åŠ è½½é¡ºåº(requirejsè¿™ç§amdçš„æ–¹å¼å…ˆä¸è€ƒè™‘)ï¼Œæ‰€ä»¥ä¸Šé¢å¼•å…¥çš„moduleå¯èƒ½åœ¨æ‰§è¡Œçš„æ—¶å€™è¿˜æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ 1234567var getMoreInfo = (function(mod)&#123; mod.getJobInfo = function()&#123; // å¼•å…¥å‰é¢å°è£…å¥½çš„moduleï¼Œå·²ç»æœ‰äº†getNameå’ŒgetAgeçš„æ–¹æ³•ï¼Œåˆå¼•å…¥äº†æ–°çš„æ–¹æ³•getjobinfo &#125; return mod;// è¿”å›æ–°çš„æ¨¡å—&#125;)(module||&#123;&#125;); // æ‰€ä»¥éœ€è¦ç»™æ¨¡å—è®¾ç½®é»˜è®¤çš„ç©ºå¯¹è±¡ ç¬¬ä¸‰é˜¶æ®µï¼šæ¨¡å—åŒ–è§„èŒƒé€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å¤§æ¦‚çŸ¥é“äº†ï¼Œå¦‚ä½•ä½¿ç”¨è‡ªæ‰§è¡Œå‡½æ•°æ¥å°è£…ä¸€ç»„æ–¹æ³•é›†åˆçš„æ¨¡å—ï¼Œè¿™æ ·åœ¨æ¨¡å—ä¸­å¯¹å¤–æš´æ¼äº†æ¥å£æ–¹æ³•ï¼Œä½†æ˜¯åˆä¸æ±¡æŸ“å…¨å±€å˜é‡ï¼Œè€Œä¸”ä¸èƒ½åœ¨å¤–éƒ¨éšæ„æ›´æ”¹æ¨¡å—çš„å†…éƒ¨å˜é‡ã€‚è™½ç„¶è¿™æ ·æˆ‘ä»¬æœ‰äº†æ¨¡å—ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æœç”¨åˆ«äººçš„ä»£ç ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½å°±åŠ è½½ä»€ä¹ˆåŠŸèƒ½ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„å†™æ³•å¯èƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ¨¡å—åŒ–çš„è§„èŒƒåœ¨ç¤¾åŒºä¸­æ…¢æ…¢è¡ç”Ÿå‡ºæ¥â€¦ ç›®å‰ä¸»æµçš„jsæ¨¡å—åŒ–è§„èŒƒä¸»è¦åŒ…æ‹¬ä¸‰ä¸ª: CMD(common module defination)é€šç”¨æ¨¡å—åŒ–å®šä¹‰ AMD(Asynchronous module defination) å¼‚æ­¥æ¨¡å—åŒ–å®šä¹‰ CMD 09å¹´nodejsé¡¹ç›®ä½¿å¾—jså¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ã€‚è¿™ä¹Ÿå°±æ ‡å¿—ç€jsæ¨¡å—åŒ–å˜æˆæ­£å¼è¯ç”Ÿ æµè§ˆå™¨ç¯å¢ƒä¸‹ç½‘é¡µçš„å¤æ‚æ€§æœ‰é™ï¼Œæ²¡æœ‰æ¨¡å—åŒ–é—®é¢˜ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œä¸æ“ä½œç³»ç»Ÿå’Œå…¶ä»–åº”ç”¨ç¨‹åºç›¸äº’äº’åŠ¨ï¼Œæ¨¡å—åŒ–åŠ¿åœ¨å¿…è¡Œï¼Œå¦åˆ™æ²¡å‘ç¼–ç¨‹ nodejsçš„æ¨¡å—ç³»ç»Ÿå°±æ˜¯å‚è€ƒcommonjsè§„èŒƒå®ç°çš„ï¼Œåœ¨commonjsä¸­æœ‰ä¸€ä¸ªå…¨å±€æ€§çš„æ–¹æ³•requireç”¨äºåŠ è½½æ¨¡å— 12var jquery = require(&apos;./jquery.js&apos;);jquery.Ajax(); //è¿™æ ·å°±å¯ä»¥è°ƒç”¨äº† åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½å­˜æ”¾åœ¨æœåŠ¡å™¨æœ¬åœ°çš„ç£ç›˜ä¸Šï¼Œç­‰å¾…çš„äº‹ä»¶ä¹Ÿå°±æ˜¯ç¡¬ç›˜è¯»å–çš„æ—¶é—´ä½†æ˜¯å¦‚æœè¿è¡Œåœ¨æµè§ˆå™¨ä¸Šçš„åŒ–ï¼Œç½‘ç»œçš„åŠ è½½å¯èƒ½ä¼šä½¿å¾—æ¨¡å—çš„åŠ è½½å‡ºç°âŒ›ï¸ï¼Œä¹Ÿå°±æ˜¯å‡ºç°æˆ‘ä»¬å¸¸è¯´çš„é¡µé¢å‡æ­»â€¦å› æ­¤æµè§ˆå™¨ç«¯ä¸èƒ½ä½¿ç”¨commonjsè¿™ç§åŒæ­¥åŠ è½½çš„æ–¹æ³•ï¼Œåªèƒ½é‡‡ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼ï¼Œè¿™ä¹Ÿå°±è¯ç”Ÿäº†AMDè§„èŒƒâ€¦ AMDAMDæ˜¯â€Asynchronous Module Definitionâ€çš„ç¼©å†™ï¼Œæ„æ€å°±æ˜¯â€å¼‚æ­¥æ¨¡å—å®šä¹‰â€ã€‚å®ƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚ 1234//AMDä¹Ÿé‡‡ç”¨require()è¯­å¥åŠ è½½æ¨¡å—ï¼Œä½†æ˜¯ä¸åŒäºCommonJSï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå‚æ•°ï¼šrequire(['math',function(math)&#123; math.add(2,3);&#125;]) math.add()ä¸mathæ¨¡å—åŠ è½½ä¸æ˜¯åŒæ­¥çš„ï¼Œæµè§ˆå™¨ä¸ä¼šå‘ç”Ÿå‡æ­»ã€‚æ‰€ä»¥å¾ˆæ˜¾ç„¶ï¼ŒAMDæ¯”è¾ƒé€‚åˆæµè§ˆå™¨ç¯å¢ƒã€‚ ä¸ºä»€ä¹ˆå¼•å…¥amd?æœ€æ—©çš„æ—¶å€™ï¼Œæ‰€æœ‰Javascriptä»£ç éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œåªè¦åŠ è½½è¿™ä¸€ä¸ªæ–‡ä»¶å°±å¤Ÿäº†ã€‚åæ¥ï¼Œä»£ç è¶Šæ¥è¶Šå¤šï¼Œä¸€ä¸ªæ–‡ä»¶ä¸å¤Ÿäº†ï¼Œå¿…é¡»åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œä¾æ¬¡åŠ è½½ã€‚ä¸‹é¢çš„ç½‘é¡µä»£ç ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½è§è¿‡ã€‚ 123456&lt;script src="1.js"&gt;&lt;/script&gt; &lt;script src="2.js"&gt;&lt;/script&gt; &lt;script src="3.js"&gt;&lt;/script&gt; &lt;script src="4.js"&gt;&lt;/script&gt; &lt;script src="5.js"&gt;&lt;/script&gt; &lt;script src="6.js"&gt;&lt;/script&gt; è¿™æ®µä»£ç ä¾æ¬¡åŠ è½½å¤šä¸ªjsæ–‡ä»¶ã€‚ è¿™æ ·çš„å†™æ³•æœ‰å¾ˆå¤§çš„ç¼ºç‚¹ã€‚ é¦–å…ˆï¼ŒåŠ è½½çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šåœæ­¢ç½‘é¡µæ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œç½‘é¡µå¤±å»å“åº”çš„æ—¶é—´å°±ä¼šè¶Šé•¿ï¼› å…¶æ¬¡ï¼Œç”±äºjsæ–‡ä»¶ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå› æ­¤å¿…é¡»ä¸¥æ ¼ä¿è¯åŠ è½½é¡ºåºï¼ˆæ¯”å¦‚ä¸Šä¾‹çš„1.jsè¦åœ¨2.jsçš„å‰é¢ï¼‰ï¼Œä¾èµ–æ€§æœ€å¤§çš„æ¨¡å—ä¸€å®šè¦æ”¾åˆ°æœ€ååŠ è½½ï¼Œå½“ä¾èµ–å…³ç³»å¾ˆå¤æ‚çš„æ—¶å€™ï¼Œä»£ç çš„ç¼–å†™å’Œç»´æŠ¤éƒ½ä¼šå˜å¾—å›°éš¾ã€‚ æ‰€ä»¥amdçš„è§„èŒƒå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰å®ç°jsæ–‡ä»¶çš„å¼‚æ­¥åŠ è½½ï¼Œé¿å…ç½‘é¡µå¤±å»å“åº”ï¼›ï¼ˆ2ï¼‰ç®¡ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œä¾¿äºä»£ç çš„ç¼–å†™å’Œç»´æŠ¤ã€‚ ç¬¬å››é˜¶æ®µï¼šå‰ç«¯mvcæ¶æ„æ„æ¶æ¨¡å¼å¦‚ä½•è®¾è®¡ä¸€ä¸ªç¨‹åºçš„ç»“æ„ï¼Œå°±æ˜¯ä¸€ä¸ªæ¶æ„æ¨¡å¼ï¼Œå±äºç¼–ç¨‹çš„æ–¹æ³•è®ºâ€¦(æ¼”ç¤ºéœ€è¦å°†demoç”¨http-serverè·‘èµ·æ¥) mvcæ„æ¶æ¨¡å¼MVCå°±æ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶æ„æ¶æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼ä»»åŠ¡ï¼Œä»»ä½•ç¨‹åºï¼Œæ— è®ºç®€å•ä¸å¦ï¼Œä»ç»“æ„ä¸Šéƒ½åˆ†ä¸ºä¸‰å±‚ï¼šåˆ†åˆ«ä»£è¡¨: Modalæ¨¡å‹ (æ•°æ®å­˜å‚¨) viewè§†å›¾ (ç”¨æˆ·ç•Œé¢) controlleræ§åˆ¶ (ä¸šåŠ¡é€»è¾‘) step1: View ä¼ é€æŒ‡ä»¤åˆ° Controllerstep2: Controller å®Œæˆä¸šåŠ¡é€»è¾‘åï¼Œè¦æ±‚ Model æ”¹å˜çŠ¶æ€step3: Model å°†æ–°çš„æ•°æ®å‘é€åˆ° Viewï¼Œç”¨æˆ·å¾—åˆ°åé¦ˆ åŸºæœ¬çš„MVCæ„æ¶æ¨¡å¼ï¼Œæ‰€æœ‰é€šä¿¡éƒ½æ˜¯å•é¡¹çš„ å®é™…çš„ä¸šåŠ¡æ„æ¶åŸºæœ¬ä¸Šå°±å¯ä»¥è¦†ç›–æˆ‘ä»¬å¸¸è§çš„å¤§å¤šæ•°åœºæ™¯ è§†å›¾å±‚ä¸Šçš„ç”¨æˆ·äº¤äº’ï¼Œé€šè¿‡æ§åˆ¶å™¨ï¼Œå¯¹æ•°æ®æ¨¡å‹è¿›è¡Œæ“ä½œï¼Œç„¶åæ•°æ®æ¨¡å‹çš„å˜åŒ–ä¹Ÿä¼šåŠ¨æ€çš„æ›´æ–°åˆ°è§†å›¾ä¸Šâ€¦ mvp/mvvmæ„æ¶æ¨¡å¼(model view Presenter)/(model view viewModel)åœ¨MVCçš„åŸºç¡€ä¸Šï¼Œè¿›è€Œæ¼”è¿›å‡ºäº†è§†å›¾viewå’Œæ•°æ®æ¨¡å‹modelçš„åŒå‘ç»‘å®š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;label&gt;ç”¨æˆ·è¾“å…¥&lt;label for="userInput"&gt;&lt;/label&gt;&lt;input type="text" id="userInput"&gt; &lt;p id="userComment"&gt;&lt;/p&gt;&lt;/body&gt;&lt;script&gt; // é¡µé¢domåŠ è½½å®Œæ¯• window.onload = function () &#123; // viewè§†å›¾ä¸Šdomå…ƒç´  var userInput = bindDom('userInput'); var userComment = bindDom('userComment'); // modelæ•°æ® window.data = &#123; userInput: 'uncle pis' &#125;; userInput.value = data.userInput; // ä½¿ç”¨modelçš„æ•°æ®åˆå§‹åŒ–è§†å›¾çš„æ˜¾ç¤º userComment.innerHTML = data.userInput; // ä½¿ç”¨modelçš„æ•°æ®åˆå§‹åŒ–è§†å›¾çš„æ˜¾ç¤º // æ•°æ®åŒå‘ç»‘å®šæ˜¯é€šè¿‡Object.defineProperyçš„getå’Œsetå¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œç›‘å¬æ•°æ®çš„å˜åŒ– Object.defineProperty(window.data,'userInput', &#123; set: function (val) &#123; userComment.innerText = val; userInput.value = val; &#125;, get: function () &#123; console.log('get User input '); &#125; &#125;) userInput.addEventListener('keyup', function (e) &#123; data.userInput = e.target.value; &#125;); &#125;; // bind dom function bindDom(domID) &#123; return document.getElementById(domID) &#125;&lt;/script&gt;&lt;/html&gt; demo2 è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨è½¯ä»¶è®¾è®¡ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç»´æŠ¤ä¸€ä¸ªä¾èµ–åˆ—è¡¨ï¼Œå½“ä»»ä½•çŠ¶æ€å‘ç”Ÿæ”¹å˜è‡ªåŠ¨é€šçŸ¥å®ƒä»¬ ç®€å•çš„è¯´å°±å¥½æ¯”æ‰¾å·¥ä½œï¼šç›®æ ‡å…¬å¸(Subject)æ‰¾å·¥ä½œçš„äºº (Observers)èŒä½ç©ºç¼º(æ¶ˆæ¯äº‹ä»¶)æ‰€ä»¥ å½“èŒä½ç©ºç¼ºçš„æ—¶å€™ï¼Œç›®æ ‡å…¬å¸å°±ä¼šé€šçŸ¥æ‰¾å·¥ä½œçš„äºº å‘å¸ƒè®¢é˜…åœ¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œæ¶ˆæ¯çš„å‘é€æ–¹ï¼Œå«åšå‘å¸ƒè€…ï¼ˆpublishersï¼‰ï¼Œæ¶ˆæ¯ä¸ä¼šç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆè®¢é˜…è€…ï¼‰ã€‚å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œå«åšä¿¡æ¯ä¸­ä»‹ï¼Œå®ƒå°†è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¸²è”èµ·æ¥ï¼Œå®ƒè¿‡æ»¤å’Œåˆ†é…æ‰€æœ‰è¾“å…¥çš„æ¶ˆæ¯ ç®€å•çš„è¯´å°±å¥½æ¯”ä¹°å–æˆ¿å­æˆ¿ä¸»(publisher)å°±æ˜¯å‘å¸ƒè€…æˆ¿äº§ä¸­ä»‹(ä¿¡æ¯ä¸­ä»‹)ä¹°æˆ¿å­çš„äºº(è®¢é˜…è€…) æˆ¿ä¸»å’Œä¹°æˆ¿å­çš„äººä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œæ¶ˆæ¯é€šè¿‡ä¸­ä»‹è¿›è¡Œä¼ è¾“ åŒºåˆ«åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯çŸ¥é“Subjectçš„ï¼ŒSubjectä¸€ç›´ä¿æŒå¯¹è§‚å¯Ÿè€…è¿›è¡Œè®°å½•ã€‚ç„¶è€Œï¼Œåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚å®ƒä»¬åªæœ‰é€šè¿‡æ¶ˆæ¯ä»£ç†è¿›è¡Œé€šä¿¡ã€‚ æ•°æ®åŠ«æŒå’Œè§‚å¯Ÿè€…æ¨¡å¼ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬é€šè¿‡object.defineProperyæ–¹æ³•ï¼Œé€šè¿‡getå’Œsetæ–¹æ³•å¯¹dataæ•°æ®è¿›è¡Œäº†åŠ«æŒï¼›ç„¶ååœ¨æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œé€šçŸ¥ç»™è§†å›¾ä¸Šçš„è§‚å¯Ÿè€…ï¼Œæ¥å®Œæˆè§†å›¾å’Œæ•°æ®çš„å…³è”ã€‚ ç¬¬äº”é˜¶æ®µï¼šå‰åç«¯åˆ†ç¦»ï¼‹Ajax+restfulæ ‡é‡ï¼åºåˆ—ï¼æ˜ å°„ä»yamlæ–‡æ¡£ä¸­è¯´ï¼Œä»ç»“æ„ä¸Šçœ‹ï¼Œæ‰€æœ‰çš„æ•°æ®dataæœ€ç»ˆéƒ½å¯ä»¥åˆ†è§£æˆä¸‰ç§ç±»å‹1ï¼‰ç¬¬ä¸€ç§æ˜¯æ ‡é‡ï¼ˆscalarï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²stringæˆ–è€…æ•°ç»„numbers2ï¼‰ç¬¬äºŒç§æ˜¯åºåˆ—ï¼ˆsequenceï¼‰ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªæœ‰åºçš„æ•°æ®å¹¶åˆ—åœ¨ä¸€èµ·ï¼Œåˆå«åšæ•°ç»„arrayæˆ–æ˜¯åˆ—è¡¨list3ï¼‰ç¬¬ä¸‰ç§æ˜¯æ˜ å°„ï¼ˆmappingï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¥å€¼å¯¹ï¼ˆkey/valueï¼‰,å³æ•°æ®åˆä¸€ä¸ªåå­—ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯¹åº”çš„å€¼ï¼Œç€åˆç§°ä½œæ•£åˆ—ï¼ˆhashï¼‰æˆ–æ˜¯å­—å…¸ï¼ˆdictionaryï¼‰ JSONè€Œ21ä¸–çºªåˆæœŸï¼Œå°±æ˜¯ä¸€ä¸ªå«åšjsonçš„æ•°æ®æ ¼å¼ä»£æ›¿äº†xmlåœ¨æœåŠ¡å™¨é—´è¿›è¡Œæ•°æ®äº¤æ¢ä¼ è¾“ã€‚ä»€ä¹ˆæ ¼å¼çš„æ•°æ®æ˜¯jsonï¼Ÿ å¹¶åˆ—æ•°æ®çš„é›†åˆï¼ˆæ•°ç»„ï¼‰ç”¨æ–¹æ‹¬å·([])è¡¨ç¤º å¹¶åˆ—çš„æ•°æ®ä¹‹é—´ç”¨é€—å·ï¼ˆâ€œï¼Œâ€ï¼‰åˆ†å¼€ æ˜ å°„ç”¨å†’å·ï¼ˆâ€œï¼šâ€ï¼‰è¡¨ç¤º æ˜ å°„çš„é›†åˆï¼ˆå¯¹è±¡ï¼‰ç”¨è¯æ‹¬å·ï¼ˆï½›ï½ï¼‰è¡¨ç¤º ä¸Šé¢å››æ¡è§„åˆ™ï¼Œå°±æ˜¯Jsonæ ¼å¼çš„æ‰€æœ‰å†…å®¹ã€‚ä¾‹å¦‚ï¼šå®æ³¢å’Œåˆ©æ—¶åº”ç”¨å¼€å‘éƒ¨æœ‰20äººï¼Œjavaå¼€å‘15äººï¼Œå‰ç«¯å¼€å‘4äººï¼Œæµ‹è¯•1äººå°±å¯ä»¥ç”¨jsonè¡¨ç¤ºæˆ 123456789101112131415&#123; company:'å®æ³¢å’Œåˆ©æ—¶'ï¼Œ total_people:20, department:'åº”ç”¨å¼€å‘éƒ¨é—¨'ï¼Œ role:[&#123; number:15, name:'java' &#125;,&#123; number:4, name:'js' &#125;,&#123; number:1, name:'æµ‹è¯•' &#125;]&#125; æ³¨ï¼šjsä¸­æ•°ç»„å’Œå¯¹è±¡çš„åŒºåˆ«å­¦ä¹ javascriptçš„æ—¶å€™ï¼Œæˆ‘æ›¾ç»ä¸€åº¦æä¸æ¸…æ¥šâ€æ•°ç»„â€(array)å’Œâ€å¯¹è±¡â€(object)çš„æ ¹æœ¬åŒºåˆ«åœ¨å“ªé‡Œï¼Œä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºæ•°æ®çš„é›†åˆã€‚ æ¯”å¦‚æœ‰ä¸€ä¸ªæ•°ç»„a=[1,2,3,4]ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯¹è±¡a={0:1,1:2,2:3,3:4}ï¼Œç„¶åä½ è¿è¡Œalert(a[1])ï¼Œä¸¤ç§æƒ…å†µä¸‹çš„è¿è¡Œç»“æœæ˜¯ç›¸åŒçš„ï¼è¿™å°±æ˜¯è¯´ï¼Œæ•°æ®é›†åˆæ—¢å¯ä»¥ç”¨æ•°ç»„è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨å¯¹è±¡è¡¨ç¤ºï¼Œé‚£ä¹ˆæˆ‘åˆ°åº•è¯¥ç”¨å“ªä¸€ç§å‘¢ï¼Ÿ æˆ‘åæ¥æ‰çŸ¥é“ï¼Œæ•°ç»„è¡¨ç¤ºæœ‰åºæ•°æ®çš„é›†åˆï¼Œè€Œå¯¹è±¡è¡¨ç¤ºæ— åºæ•°æ®çš„é›†åˆã€‚å¦‚æœæ•°æ®çš„é¡ºåºå¾ˆé‡è¦ï¼Œå°±ç”¨æ•°ç»„ï¼Œå¦åˆ™å°±ç”¨å¯¹è±¡ã€‚]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>mvc</tag>
        <tag>mvvm</tag>
        <tag>module</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[canvas]]></title>
    <url>%2F2018%2F11%2F01%2Fcanvas%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ€è¿‘é¡¹ç›®ä¸Šé€šè¿‡iframeåµŒå…¥äº†ä¸€ä¸ªå…¬å¸å…¶ä»–ç»„å¼€å‘çš„å·¥ä¸šç»„æ€ï¼Œæ‰€ä»¥ä¹‹å‰çš„å‡ ä¸ªæ–‡ç« éƒ½æ˜¯åœ¨è§£å†³iframeè·¨åŸŸé€šä¿¡çš„é—®é¢˜.å› ä¸ºé¡¹ç›®éƒ¨ç½²åœ¨é˜¿é‡Œäº‘ä¸Šï¼ŒåŸŸåç±»ä¼¼äºxxx.comï¼Œè€ŒiframeåµŒå¥—çš„ç»„æ€æ˜¯ä¸€ä¸ªå­åŸŸåé¡µé¢ï¼Œç±»ä¼¼a.xxx.comã€‚ å•ç‚¹ç™»å½•å› ä¸ºæ˜¯åˆ«çš„ç»„å¼€å‘çš„ç»„æ€ï¼Œæ‰€ä»¥å®é™…ä¸Šåœ¨å¼€å‘ä¸­ä¹Ÿæ˜¯éœ€è¦ç™»é™†çš„ï¼Œé€šè¿‡å°†å­åŸŸåçš„domainä½¿ç”¨äº†domain.cookie=â€xxx.comâ€è®¾ç½®æˆä¸»åŸŸåçš„æ–¹å¼å…±äº«äº†cookieä¸­åœ¨ç™»å½•æ—¶å­˜å‚¨çš„tokenï¼Œä½¿å¾—ç”¨æˆ·ç™»å½•åè®¿é—®ç»„æ€ä¸ç”¨å†æ¬¡ç™»é™†. iframeé€šä¿¡å› ä¸ºiframeé‡Œé¢å®é™…ä¸Šæ—¶ç”¨canvasç”»çš„å·¥ä¸šç»„æ€ï¼Œç„¶ååœ¨iframeå¤–é¢æœ‰ä¸€äº›æŒ‰é’®ï¼Œéœ€è¦æ”¾å¤§ç¼©å°ç»„æ€ï¼Œè¿™å°±ç‰µæ‰¯åˆ°iframeå’Œå¤–é¢çš„é€šä¿¡ï¼Œé€šè¿‡h5çš„postMessageï¼Œä½¿ç”¨äº‹ä»¶çš„æ–¹å¼å®Œæˆäº†é€šä¿¡ã€‚ ä¸»è¦çš„é—®é¢˜è§£å†³äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯é€šè¿‡ç»„æ€é¡µé¢çš„ç‚¹å‡»ï¼Œåœ¨é¡µé¢ä¸Šè·å–æ•°æ®ï¼Œä½¿ç”¨canvasç”»å›¾ï¼Œä¸€ç›´æ²¡æœ‰ä½¿ç”¨canvasçš„åœºæ™¯ï¼Œå¸¸ç”¨çš„æ•°æ®å¯è§†åŒ–éƒ½æ˜¯ä½¿ç”¨echartç­‰åº“å®Œæˆäº†ï¼Œæœ€è¿‘åˆšå¥½ä¸šåŠ¡ä¸Šä½¿ç”¨ï¼Œæ‰“ç®—èŠ±ç‚¹æ—¶é—´çœ‹çœ‹canvas canvas &lt;canvas&gt; æ˜¯ HTML5 æ–°å¢çš„ï¼Œä¸€ä¸ªå¯ä»¥ä½¿ç”¨è„šæœ¬(é€šå¸¸ä¸ºJavaScript)åœ¨å…¶ä¸­ç»˜åˆ¶å›¾åƒçš„ HTML å…ƒç´ ã€‚ widthå’Œheight12&lt;!-- &lt;canvas&gt; åªæœ‰ä¸¤ä¸ªå¯é€‰çš„å±æ€§ widthã€heigth å±æ€§.é»˜è®¤width 300px height 150px --&gt;&lt;canvas id="canvasApp" widht="300" height="300"&gt;è¯•ä¸€ä¸‹æµè§ˆå™¨æ”¯æŒä¸&lt;/canvas&gt; æµè§ˆå™¨ä¸æ”¯æŒçš„æ›¿æ¢æ¶ˆæ¯ â€‹ æ”¯æŒ &lt;canvas&gt; çš„æµè§ˆå™¨ä¼šåªæ¸²æŸ“ &lt;canvas&gt; æ ‡ç­¾ï¼Œè€Œå¿½ç•¥å…¶ä¸­çš„æ›¿ä»£å†…å®¹ã€‚ä¸æ”¯æŒ &lt;canvas&gt; çš„æµè§ˆå™¨åˆ™ ä¼šç›´æ¥æ¸²æŸ“æ›¿ä»£å†…å®¹ã€‚ ç¤ºä¾‹123456789101112131415161718192021222324&lt;html&gt; &lt;head&gt; &lt;title&gt;Canvas tutorial&lt;/title&gt; &lt;style type="text/css"&gt; canvas &#123; border: 1px solid black; &#125; &lt;/style&gt; &lt;/head&gt; &lt;canvas id="tutorial" width="300" height="300"&gt;&lt;/canvas&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; function draw()&#123; // 1.è·å–canvasçš„doom var canvas = document.getElementById('cavansApp'); // 2. è·å–æ¸²æŸ“ä¸Šä¸‹æ–‡ if(!canvas.getContext) return; var ctx = canvas.getContext("2d"); //å¼€å§‹ä»£ç  &#125; draw(); &lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript - äº‹ä»¶å¾ªç¯(Event loog)]]></title>
    <url>%2F2018%2F10%2F31%2FevenLoop%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶å¾ªç¯javascriptè¯­è¨€çš„ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œå…¶ä»–çº¿ç¨‹åœ¨äº‹ä»¶é˜Ÿåˆ—é‡Œé¢ç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²ï¼Œç„¶åäº‹ä»¶é˜Ÿåˆ—æŒ‰ç…§é˜Ÿåˆ—çš„é¡ºåºä¸€æ¬¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œâ€¦ å•çº¿ç¨‹ å› ä¸ºjsæ˜¯å®¢æˆ·ç«¯è„šæœ¬ï¼Œç”±äºjsä¸»è¦çš„ç”¨é€”æ˜¯å¤„ç†ç”¨æˆ·çš„äº¤äº’ï¼Œæ‰€ä»¥å¦‚æœæ˜¯å¤šçº¿ç¨‹ï¼Œå½“ç”¨æˆ·åˆå¤šä¸ªæ“ä½œçš„æ—¶å€™ï¼Œä¸å¥½è¿›è¡Œç®¡ç†ã€‚ å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ åŒæ­¥ä»»åŠ¡: åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å½“ä¸Šä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡æ‰ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡å°±ä¼šç­‰å¾…ï¼Œå½¢æˆé˜»å¡ å¼‚æ­¥ä»»åŠ¡ï¼šä¸è¿›å…¥ä¸»çº¿ç¨‹ï¼Œè€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œåªæœ‰ä»»åŠ¡é˜Ÿåˆ—é€šçŸ¥ä¸»çº¿ç¨‹ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰è¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œ ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å››ç§ä¼šæ”¾å…¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼šï¼š setTimeoutå’Œsetlnterval Ajaxå¼‚æ­¥è¯·æ±‚ promise domäº‹ä»¶ jsçš„æ‰§è¡Œæœºåˆ¶ï¼ˆä¸»çº¿ç¨‹ + event taskäº‹ä»¶é˜Ÿåˆ—+ event loopäº‹ä»¶å¾ªç¯ï¼‰ä¸Šé¢ä½ è¯´äº†åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œäº‹ä»¶å¾ªç¯å…¶å®å°±æ˜¯æ£€æµ‹ä»»åŠ¡æ‰§è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹1.æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ2.åœ¨ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œåªæœ‰å½“å¼‚æ­¥ä»»åŠ¡åˆäº†ç»“æœï¼Œéƒ½ä¼šåœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶3.ä¸€æ—¦æ‰§è¡Œæ ˆé“ä¸­æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»çº¿ç¨‹ç©ºé—²ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–æ‰§è¡Œé˜Ÿåˆ—çš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œå°†å¼‚æ­¥ä»»åŠ¡çš„ç»“æœæ”¾å…¥æ‰§è¡Œæ ˆ4.ä¸»çº¿ç¨‹ä¸åŒé‡å¤ä¸Šé¢çš„ä¸‰ä¸ªæ­¥éª¤]]></content>
      <categories>
        <category>javascript</category>
        <category>javascript - äº‹ä»¶å¾ªç¯(Event loog)</category>
      </categories>
      <tags>
        <tag>äº‹ä»¶å¾ªç¯</tag>
        <tag>event loop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript - Domå¸¸ç”¨æ“ä½œ(element)]]></title>
    <url>%2F2018%2F10%2F30%2Felement%2F</url>
    <content type="text"><![CDATA[HTML DOM Element å¯¹è±¡æœ€è¿‘åœ¨çœ‹reactçŠ¶æ€é©±åŠ¨è§†å›¾çš„å…·ä½“å®ç°ï¼Œé‡Œé¢é€šè¿‡creatElementæ–¹æ³•å°†domå­—ç¬¦ä¸²è½¬æ¢æˆdomå…ƒç´ ï¼Œè¿›è€Œç»‘å®šäº‹ä»¶ï¼›ç„¶ååˆä½¿ç”¨insertBeforeå’ŒremoveChildæ–¹æ³•é€šè¿‡stateçš„å˜åŒ–é‡æ–°è°ƒç”¨renderæ–¹æ³•åˆ·æ–°è§†å›¾ï¼›çœ‹åˆ°è¿™é¡ºä¾¿æ•´ç†ä¸€ä¸‹domä¸­å¯¹å…ƒç´ å¢åˆ æ”¹æŸ¥çš„åŸºæœ¬æ–¹æ³•ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨æŸ¥çœ‹â€¦. HTML DOM èŠ‚ç‚¹ åœ¨ HTML DOM ï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ä¸­ï¼ŒNodeList å¯¹è±¡è¡¨ç¤ºèŠ‚ç‚¹åˆ—è¡¨ï¼Œæ¯”å¦‚ HTML å…ƒç´ çš„å­èŠ‚ç‚¹é›†åˆã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯èŠ‚ç‚¹ï¼š æ–‡æ¡£æœ¬èº«æ˜¯æ–‡æ¡£èŠ‚ç‚¹ æ‰€æœ‰ HTML å…ƒç´ æ˜¯å…ƒç´ èŠ‚ç‚¹ æ‰€æœ‰ HTML å±æ€§æ˜¯å±æ€§èŠ‚ç‚¹ HTML å…ƒç´ å†…çš„æ–‡æœ¬æ˜¯æ–‡æœ¬èŠ‚ç‚¹ æ³¨é‡Šæ˜¯æ³¨é‡ŠèŠ‚ç‚¹ appendChild() å‘å…ƒç´ æ·»åŠ æ–°çš„å­èŠ‚ç‚¹ï¼Œä½œä¸ºæœ€åä¸€ä¸ªå­èŠ‚ç‚¹ã€‚12345let childDom = document.createElement('span');let childDomTextNode = document.createTextNode('hello world');childDom.appendChild(childDomTextNode);// &lt;span&gt;hello world&lt;/span&gt; removeChild() æ–¹æ³•æŒ‡å®šå…ƒç´ çš„æŸä¸ªæŒ‡å®šçš„å­èŠ‚ç‚¹ã€‚12345let childDom = document.createElement('span');let childDomTextNode = document.createTextNode('hello world');childDom.removeChild(childDomTextNode);// &lt;span&gt;&lt;/span&gt; hello worldè¢«ç§»é™¤ insertBefore(newItem,existingItem) æ–¹æ³•åœ¨æ‚¨æŒ‡å®šçš„å·²æœ‰å­èŠ‚ç‚¹ä¹‹å‰æ’å…¥æ–°çš„å­èŠ‚ç‚¹ã€‚1&lt;ul id="myList"&gt;&lt;li&gt;Coffee&lt;/li&gt;&lt;li&gt;Tea&lt;/li&gt;&lt;/ul&gt; 1234567let target = document.getElementById('myList');let childDom = document.createElement('span');let childDomTextNode = document.createTextNode('hello world');childDom.appendChild(childDomTextNode);target.insertBefore(childDom,target.childNodes[0]);// &lt;span&gt;&lt;/span&gt; hello worldè¢«ç§»é™¤]]></content>
      <categories>
        <category>javascript</category>
        <category>javascript - Domå¸¸ç”¨æ“ä½œ(element)</category>
      </categories>
      <tags>
        <tag>createElement</tag>
        <tag>createTextNode</tag>
        <tag>insertBefore</tag>
        <tag>removeChild</tag>
        <tag>appendChild</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react]]></title>
    <url>%2F2018%2F10%2F30%2Freact%2F</url>
    <content type="text"><![CDATA[reactè¯»ä¹¦ç¬”è®°ç°åœ¨åŸºæœ¬ä¸Šangularjsï¼Œreactå’Œvueéƒ½ç”¨è¿‡å¥½å‡ ä¸ªé¡¹ç›®äº†ã€‚æ ¹æ®é¡¹ç›®ï¼ŒæŠ€æœ¯æ ˆä¹Ÿåœ¨ä¸æ–­å˜åŒ–ï¼Œé•¿æ—¶é—´ä¸å†™æ€»æœ‰ç‚¹ç”Ÿç–ï¼Œæœ€è¿‘å›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹reactçš„ä¸œè¥¿ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿åé¢å›è¿‡å¤´æ¥çœ‹â€¦ reactjs ä¸€ä¸ªæ ¹æ®æ•°æ®é©±åŠ¨è§†å›¾çš„UIåº“ï¼Œç›¸å½“äºMVCä¸­çš„view reactjså¸®æˆ‘ä»¬å°†è§†å›¾åˆ‡åˆ†æˆå„ä¸ªç‹¬ç«‹çš„å°å—ï¼Œæ¯ä¸ªå¿«å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä»»æ„åµŒå¥—æ‹¼è£…æˆéœ€è¦çš„è§†å›¾ reactjsä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå¥¹æä¾›äº†è§†å›¾å±‚çš„è§£å†³æ–¹æ¡ˆï¼Œè¿˜è¦ä¾èµ–ç±»ä¼¼äºreact-routerå’Œreduxç­‰åº“æ‰èƒ½æä¾›å®Œæ•´çš„è§£å†³æ–¹æ³• å‰ç«¯ç»„ä»¶åŒ– ä»€ä¹ˆé—®é¢˜å¯¼è‡´æˆ‘ä»¬éœ€è¦å‰ç«¯é¡µé¢è¿›è¡Œç»„ä»¶åŒ–? ç»„ä»¶åŒ–æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜? ç­”ï¼šä¸ºäº†è§£å†³ç»“æ„å¤ç”¨ï¼Œé¿å…äº§ç”Ÿé‡å¤å†—ä½™çš„ä»£ç  ä¾‹å¦‚1234567891011121314151617&lt;body&gt; &lt;div class='wrapper'&gt; &lt;button class='like-btn'&gt; &lt;span class='like-text'&gt;ç‚¹èµ&lt;/span&gt; &lt;span&gt;ğŸ‘&lt;/span&gt; &lt;/button&gt; &lt;/div&gt; &lt;script&gt; let likeButton = document.querySelector('.like-btn'); let likeButtonText = document.querySelector('.like-text'); let isLike = false; likeButton.addEventListener('click',function()&#123; isLike = !isLike; likeButtonText.innerText = isLike?'å–æ¶ˆ':'ç‚¹èµ'; &#125;),false; &lt;/script&gt; &lt;/body&gt; è¿™æ ·å°±å¯ä»¥å®Œæˆä¸€ä¸ªç‚¹å‡»æŒ‰é’®åˆ‡æ¢æŒ‰é’®åŠŸèƒ½ï¼Œå¯æ˜¯è¿™ä¸ªåŠŸèƒ½è¦å…±äº«ï¼Œåªèƒ½å°†å…¨éƒ¨çš„ä»£ç å…¨éƒ¨ç²˜è´´è¿‡å»ï¼Œå¤ç”¨æ€§ä½•åœ¨? ç»„ä»¶å¤ç”¨-å¼•å…¥classå‡å¦‚å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•° 1234567891011class LikeButton&#123; render()&#123; return `&lt;div class='wrapper'&gt; &lt;button class='like-btn'&gt; &lt;span class='like-text'&gt;ç‚¹èµ&lt;/span&gt; &lt;span&gt;ğŸ‘&lt;/span&gt; &lt;/button&gt; &lt;/div&gt;` &#125;&#125; è¿™æ ·å°±å¯ä»¥ä½¿ç”¨newç”Ÿæˆå®ä¾‹äº†ã€‚ 12let buttonOne = new LikeButton()document.getElementById('root').innerHTML = buttonOne.render(); é—®é¢˜åˆæ¥äº†ï¼Œç‚¹å‡»æ²¡æœ‰ä½œç”¨ï¼Œå› ä¸ºæ²¡æœ‰ç»‘å®šäº‹ä»¶ã€‚æ²¡æ³•ç»™å­—ç¬¦ä¸²æ·»åŠ äº‹ä»¶ï¼Œåªæœ‰domç»“æ„æ‰èƒ½ç»‘å®šdomäº‹ä»¶ 123456789101112131415161718192021222324252627282930313233 // ä½¿ç”¨createElementæ–¹æ³•å°†å­—ç¬¦ä¸²è½¬æ¢æˆdomå¯¹è±¡ let string2Html = function(str)&#123; let divDom = document.createElement('div'); divDom.innerHTML = str; return divDom; &#125; class LikeButton&#123; constructor()&#123; this.state = &#123; isLike:false &#125; &#125; changeButtonText()&#123; const likeText = this.element.querySelector('.like-text'); this.state.isLike = !this.state.isLike; likeText.innerHTML = this.state.isLike?'å–æ¶ˆ':'ç‚¹èµ' &#125; render()&#123; this.element = string2Html(` &lt;div class='wrapper'&gt; &lt;button class='like-btn'&gt; &lt;span class='like-text'&gt;ç‚¹èµ&lt;/span&gt; &lt;span&gt;ğŸ‘&lt;/span&gt; &lt;/button&gt; &lt;/div&gt; `); this.element.addEventListener('click',this.changeButtonText.bind(this)) return this.element &#125; &#125; let button1 = new LikeButton()document.querySelector('.root').appendChild( button1.render()) // å°†ç”Ÿæˆçš„domå®ä¾‹æ”¾å…¥rootèŠ‚ç‚¹ é—®é¢˜åˆæ¥äº†ï¼Œå†changeButtonTextæ–¹æ³•ä¸­ï¼Œé€šè¿‡stateçš„çŠ¶æ€æ¥ä¿®æ”¹æŒ‰é’®çš„æ–‡å­—ï¼Œè¿™æ ·é¢‘ç¹æ“ä½œdomï¼Œè¿™æ ·æ‰‹åŠ¨ç®¡ç†stateçš„å˜åŒ–åˆ·æ–°domè§†å›¾reactæä¾›äº†ä¸€ç§è§£å†³åŠæ³•: çŠ¶æ€æ”¹å˜-ã€‹æ›´æ–°çŠ¶æ€-ã€‹ç”¨æ–°çš„stateé‡æ–°è°ƒç”¨renderæ–¹æ³•åˆ·æ–°è§†å›¾ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// ä½¿ç”¨createElementæ–¹æ³•å°†å­—ç¬¦ä¸²è½¬æ¢æˆdomå¯¹è±¡let string2Html = function(str)&#123; let divDom = document.createElement('div'); divDom.innerHTML = str; return divDom;&#125;class LikeButton&#123; constructor()&#123; // åˆå§‹åŒ–ä¸€ä¸ªçŠ¶æ€ this.state = &#123; isLike:false &#125; &#125; // çŠ¶æ€å˜åŒ–æ›´æ–°çŠ¶æ€ï¼Œé‡æ–°ä½¿ç”¨æ–°çš„çŠ¶æ€è°ƒç”¨renderç”Ÿæˆè§†å›¾ setState(state)&#123; const preElement = this.element; this.state = state; this.element = this.render(); if(this.onStateChange)&#123; // åˆ¤æ–­ä¸€ä¸‹å®ä¾‹æœ‰æ²¡æœ‰è¿™ä¸ªæ–¹æ³• // é€šè¿‡è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨åˆ·æ–°è§†å›¾ this.onStateChange(preElement,this.element); &#125; &#125; // è°ƒç”¨çŠ¶æ€æ›´æ–°çš„æ–¹æ³• changeButtonText()&#123; this.setState(&#123; isLike:!this.state.isLike &#125;) &#125; render()&#123; this.element = string2Html(` &lt;div class='wrapper'&gt; &lt;button class='like-btn'&gt; &lt;span class='like-text'&gt;$&#123;this.state.isLike?"å–æ¶ˆ":"ç‚¹èµ"&#125;&lt;/span&gt; &lt;span&gt;ğŸ‘&lt;/span&gt; &lt;/button&gt; &lt;/div&gt; `); this.element.addEventListener('click',this.changeButtonText.bind(this)) return this.element &#125;&#125;// è°ƒç”¨è¿™ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆè¿™ä¸ªä¸€ä¸ªç®€å•åŠŸèƒ½çš„ç»„ä»¶let button1 = new LikeButton()let container = document.querySelector('.root');container.appendChild( button1.render()) // å°†ç”Ÿæˆçš„domå®ä¾‹æ”¾å…¥rootèŠ‚ç‚¹button1.onStateChange= function(pre,curr)&#123; container.insertBefore(curr,pre) // åœ¨ä¸Šæ¬¡æ¸²æŸ“çš„å…ƒç´ å‰é¢æ’å…¥å…ƒç´  container.removeChild(pre) // åˆ é™¤æ—§çš„dom&#125; å®Œæˆä¸€ä¸ªåŸºæœ¬çš„ç»„ä»¶åŒ–ï¼Œé‚£ä¹ˆåˆæœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œå°±æ˜¯æ¯æ¬¡stateçŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œéƒ½è¦æ“ä½œdomåˆ·æ–°è§†å›¾ï¼Œè¿™ä¸ªåœ¨reactjsä¸­é€šè¿‡virtual-domçš„ç­–ç•¥ï¼Œå¯ä»¥å°†å‡ æ¬¡è§†å›¾çš„åˆ·æ–°è¿›è¡Œåˆå¹¶ï¼Œæé«˜æ€§èƒ½ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœè¦æ–°å»ºä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆä¸­é—´çš„setStateæ›´æ–°çŠ¶æ€çš„æ–¹æ³•æ˜¯é‡å¤çš„ï¼Œæ‰€ä»¥éœ€è¦æŠ½å‡ºä¸€ä¸ªå…¬å…±çš„ç±» æŠ½è±¡å‡ºå…¬å…±ç»„ä»¶çš„ç±»1234567891011121314151617class React.Component &#123; setState(state)&#123; const preElement = this.element; // ç»„ä»¶çš„dom this.state = state; // æ ¹æ®ä¼ å…¥çš„æ–°çš„stateæ›´æ–°ç»„ä»¶çš„state this.element = this._renderDOM() // é‡æ–°è°ƒç”¨renderæ–¹æ³•ç”Ÿæˆæ–°çš„dom if(this.onStateChange)&#123; this.onStateChange(preElement,this.element) // é€šçŸ¥ç»„ä»¶çš„å®ä¾‹æ›´æ–°é¡µé¢çš„è§†å›¾ &#125; &#125; _renderDOM()&#123; this.element = string2Html(this.render()) // æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªrenderæ–¹æ³• if(this.onClick)&#123; this.element.addEventListener('click',this.onClick.bind(this)); &#125; return this.element &#125;&#125; è¿™æ ·æ‰€æœ‰çš„ç»„ä»¶éƒ½å¯ä»¥é›†æˆè¿™ä¸ªçˆ¶ç±» 123456789101112131415161718192021import &#123;Component&#125; from 'React';class LikeButton extends Component&#123; constructor () &#123; super() this.state = &#123; isLiked: false &#125; &#125; onClick () &#123; this.setState(&#123; isLiked: !this.state.isLiked &#125;) &#125; render () &#123; return ` &lt;button class='like-btn'&gt; &lt;span class='like-text'&gt;$&#123;this.state.isLiked ? 'å–æ¶ˆ' : 'ç‚¹èµ'&#125;&lt;/span&gt; &lt;span&gt;ğŸ‘&lt;/span&gt; &lt;/button&gt; ` &#125;&#125; è¿™æ ·å®šä¹‰çš„ç»„ä»¶LikeButtonå°±å¯ä»¥åœ¨stateçŠ¶æ€å˜æ›´çš„æ—¶å€™è°ƒç”¨åŸºç±»çš„setStateæ–¹æ³•é‡æ–°render å‚è€ƒé“¾æ¥ react.js]]></content>
      <categories>
        <category>react</category>
      </categories>
      <tags>
        <tag>jsx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ4ï¼‰- è·¨åŸŸå’Œlocation.hash]]></title>
    <url>%2F2018%2F10%2F26%2FhashAndWindowName%2F</url>
    <content type="text"><![CDATA[é™¤äº†å‰é¢è¯´çš„jsonpï¼ŒpostMessageï¼Œdomainçš„æ–¹å¼è·¨åŸŸï¼Œè¿˜æœ‰ä¸¤ç§å…±äº«æ•°æ®çš„æ–¹å¼â€¦ window.nameè·¨åŸŸ1234567æ™¯1ï¼šç°åœ¨æµè§ˆå™¨çš„ä¸€ä¸ªæ ‡ç­¾é¡µé‡Œæ‰“å¼€http://www.damonare.cn/a.htmlé¡µé¢ï¼Œä½ é€šè¿‡location.href=http://baidu.com/b.htmlï¼Œåœ¨åŒä¸€ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µé‡Œæ‰“å¼€äº†ä¸åŒåŸŸåä¸‹çš„é¡µé¢ã€‚è¿™æ—¶å€™è¿™ä¸¤ä¸ªé¡µé¢ä½ å¯ä»¥ä½¿ç”¨window.nameæ¥ä¼ é€’å‚æ•°ã€‚å› ä¸ºwindow.nameæŒ‡çš„æ˜¯æµè§ˆå™¨çª—å£çš„åå­—ï¼Œåªè¦æµè§ˆå™¨çª—å£ç›¸åŒï¼Œé‚£ä¹ˆæ— è®ºåœ¨å“ªä¸ªç½‘é¡µé‡Œè®¿é—®å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚åœºæ™¯2ï¼šä½ çš„http://www.damonare.cn/a.htmlé¡µé¢é‡Œä½¿ç”¨&lt;iframe&gt;è°ƒç”¨å¦ä¸€ä¸ªhttp://baidu.com/b.htmlé¡µé¢ã€‚è¿™æ—¶å€™ä½ æƒ³åœ¨aé¡µé¢é‡Œè·å–bé¡µé¢é‡Œçš„domï¼Œç„¶åè¿›è¡Œæ“ä½œã€‚ç„¶åä½ ä¼šå‘ç°ä½ ä¸èƒ½è·å¾—bçš„domã€‚åŒæ ·ä¼šå› ä¸ºä¸åŒæºè€ŒæŠ¥é”™ï¼Œå’Œä¸Šé¢æåˆ°çš„ä¸åŒä¹‹å¤„å°±æ˜¯ä¸¤ä¸ªé¡µé¢çš„ä¸€çº§åŸŸåä¹Ÿä¸ç›¸åŒã€‚è¿™æ—¶å€™document.domainå°±è§£å†³ä¸äº†äº†ã€‚è§£å†³æ–¹æ¡ˆï¼šæµè§ˆå™¨çª—å£æœ‰window.nameå±æ€§ã€‚è¿™ä¸ªå±æ€§çš„æœ€å¤§ç‰¹ç‚¹æ˜¯ï¼Œæ— è®ºæ˜¯å¦åŒæºï¼Œåªè¦åœ¨åŒä¸€ä¸ªçª—å£é‡Œï¼Œå‰ä¸€ä¸ªç½‘é¡µè®¾ç½®äº†è¿™ä¸ªå±æ€§ï¼Œåä¸€ä¸ªç½‘é¡µå¯ä»¥è¯»å–å®ƒã€‚ã€‚æ¯”å¦‚ä½ åœ¨bé¡µé¢é‡Œè®¾å®šwindow.name="hello"ï¼Œä½ å†è¿”å›åˆ°aé¡µé¢ï¼Œåœ¨aé¡µé¢é‡Œè®¿é—®window.nameï¼Œå¯ä»¥å¾—åˆ°helloã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œwindow.nameå®¹é‡å¾ˆå¤§ï¼Œå¯ä»¥æ”¾ç½®éå¸¸é•¿çš„å­—ç¬¦ä¸²ï¼›ç¼ºç‚¹æ˜¯å¿…é¡»ç›‘å¬å­çª—å£window.nameå±æ€§çš„å˜åŒ–ï¼Œå½±å“ç½‘é¡µæ€§èƒ½ã€‚ location.hashè·¨åŸŸ12345ocation.hashå°±æ˜¯æŒ‡URLçš„#å·åé¢çš„éƒ¨åˆ†ã€‚åœºæ™¯ï¼šçˆ¶çª—å£å’Œiframeçš„å­çª—å£ä¹‹é—´é€šè®¯æˆ–è€…æ˜¯window.openæ‰“å¼€çš„å­çª—å£ä¹‹é—´çš„é€šè®¯ã€‚è§£å†³æ–¹æ¡ˆï¼šçˆ¶çª—å£æ”¹å˜å­çª—å£çš„urlçš„#å·åé¢çš„éƒ¨åˆ†ï¼Œåè€…æŠŠè¦ä¼ é€’çš„å‚æ•°å†™åœ¨#åé¢ï¼Œå­çª—å£ç›‘å¬window.onhashchangeäº‹ä»¶ï¼Œå¾—åˆ°é€šçŸ¥ï¼Œè¯»å–window.location.hashè§£æå‡ºæœ‰ç”¨çš„æ•°æ®ã€‚åŒæ ·å­çª—å£ä¹Ÿå¯ä»¥å‘çˆ¶çª—å£ä¼ é€’æ•°æ®ã€‚]]></content>
      <categories>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—</category>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ4ï¼‰- è·¨åŸŸå’Œlocation.hash</category>
      </categories>
      <tags>
        <tag>location.hash</tag>
        <tag>window.name</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ3ï¼‰- è·¨åŸŸå’Œdomain]]></title>
    <url>%2F2018%2F10%2F26%2Fdomain%2F</url>
    <content type="text"><![CDATA[document.domainå‰é¢å·²ç»ä»‹ç»äº†æ€ä¹ˆä½¿ç”¨jsonpè·¨åŸŸè·å–æ•°æ®ï¼Œæ€ä¹ˆä½¿ç”¨h5çš„postMessageè·¨åŸŸåœ¨å¤šçª—å£ä¹‹é—´ä¼ é€’æ¶ˆæ¯ï¼Œç»å¸¸é‡è§çš„ä¸šåŠ¡éœ€æ±‚è¿˜éœ€è¦è·¨åŸŸå…±äº«cookieæˆ–è€…è·¨åŸŸè·å–domå…ƒç´ ï¼Œä»Šå¤©è¯´ä¸€ä¸‹document.domainçš„æ–¹å¼å®ç°è·¨åŸŸâ€¦ åªèƒ½ç”¨äºä¸»åŸŸåä¸€æ ·çš„åœºæ™¯ï¼ˆæ“ä½œdomæˆ–è€…å‘é€æ•°æ®äº¤äº’ï¼‰ ä¿®æ”¹domainè·¨åŸŸæ“ä½œdom åœºæ™¯1ï¼šä½ çš„ http://xxx.cn/a.htmlé¡µé¢é‡Œä½¿ç”¨ &lt;iframe&gt; è°ƒç”¨å¦ä¸€ä¸ª http://www.xxx.cn/b.html é¡µé¢ã€‚è¿™æ—¶å€™ä½ æƒ³åœ¨aé¡µé¢é‡Œè·å–bé¡µé¢é‡Œçš„domï¼Œç„¶åè¿›è¡Œæ“ä½œã€‚ç„¶åä½ ä¼šå‘ç°ä½ ä¸èƒ½è·å¾—bçš„domã€‚document.getElementById(â€œmyIFrameâ€).contentWindow.documentæˆ–window.parent.document.bodyå› ä¸ºä¸¤ä¸ªçª—å£ä¸åŒæºè€ŒæŠ¥é”™ã€‚ è§£å†³æ–¹æ¡ˆï¼šè¿™æ—¶å€™ä½ åªéœ€è¦åœ¨aé¡µé¢é‡Œå’Œbé¡µé¢é‡ŒæŠŠdocument.domainè®¾ç½®æˆç›¸åŒçš„å€¼å°±å¯ä»¥åœ¨ä¸¤ä¸ªé¡µé¢é‡Œæ“ä½œDomäº†ã€‚ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼šä½¿ç”¨document.domainè¦æ±‚å¿…é¡»ä¸»åŸŸä¸€æ ·ï¼Œå­åŸŸåå¯ä»¥ä¸ä¸€æ ·ï¼Œä½†æ˜¯æœ‰æ—¶å€™ç«¯å£å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™ä¸ªä¸»åŸŸåå’Œå­åŸŸåéƒ½è¦è®¾ç½®ä¸€ä¸‹document.domainï¼Œå°†ç«¯å£å·éƒ½é‡ç½®æˆnullï¼Œå¦åˆ™ç«¯å£å·ä¸ä¸€æ ·è¿˜æ˜¯ä¼šæŠ¥è·¨åŸŸé”™è¯¯ ä¿®æ”¹domainå…±äº«cookie åœºæ™¯2ï¼šä½ åœ¨ http://xxx.cn/a.html é¡µé¢é‡Œå†™å…¥äº† document.cookie = &quot;test1=hello&quot;; ä½ åœ¨ http://www.xxx.cn/b.html é¡µé¢æ˜¯æ‹¿ä¸åˆ°è¿™ä¸ªcookieçš„ã€‚ è§£å†³æ–¹æ¡ˆï¼šCookie æ˜¯æœåŠ¡å™¨å†™å…¥æµè§ˆå™¨çš„ä¸€å°æ®µä¿¡æ¯ï¼Œåªæœ‰åŒæºçš„ç½‘é¡µæ‰èƒ½å…±äº«ã€‚ä½†æ˜¯ï¼Œä¸¤ä¸ªç½‘é¡µä¸€çº§åŸŸåç›¸åŒï¼Œåªæ˜¯äºŒçº§åŸŸåä¸åŒï¼Œæµè§ˆå™¨å…è®¸é€šè¿‡è®¾ç½®document.domainå…±äº« Cookieã€‚å¦å¤–ï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨è®¾ç½®Cookieçš„æ—¶å€™ï¼ŒæŒ‡å®šCookieçš„æ‰€å±åŸŸåä¸ºä¸€çº§åŸŸåã€‚è¿™æ ·çš„è¯ï¼ŒäºŒçº§åŸŸåå’Œä¸‰çº§åŸŸåä¸ç”¨åšä»»ä½•è®¾ç½®ï¼Œéƒ½å¯ä»¥è¯»å–è¿™ä¸ªCookieã€‚ æ³¨æ„ï¼šdocument.domainé™åˆ¶ï¼šè™½ç„¶å¯è¯»å†™ï¼Œä½†åªèƒ½è®¾ç½®æˆè‡ªèº«æˆ–è€…æ˜¯é«˜ä¸€çº§çš„çˆ¶åŸŸä¸”ä¸»åŸŸå¿…é¡»ç›¸åŒã€‚æ‰€ä»¥åªèƒ½è§£å†³ä¸€çº§åŸŸåç›¸åŒäºŒçº§åŸŸåä¸åŒçš„è·¨åŸŸé—®é¢˜ã€‚document.domainåªé€‚ç”¨äº Cookie å’Œ iframe çª—å£ï¼ŒLocalStorage å’Œ IndexDB æ— æ³•é€šè¿‡è¿™ç§æ–¹æ³•è·¨åŸŸã€‚ æœ¬åœ°å°è¯•ç”±äºxxxx.baidu.comå’Œbaidu.comè¿™ç§ä¸»åŸŸå’Œå­åŸŸåä¸åŒä¸å¤ªå¥½æ¨¡æ‹Ÿï¼Œæ‰€ä»¥æˆ‘æƒ³åœ¨æœ¬åœ°æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œä½¿ç”¨http-serveråœ¨ä¸åŒçš„ç«¯å£æ¨¡æ‹Ÿä¸€ä¸‹ä½¿ç”¨document.domainè·¨åŸŸè·å–iframeçš„domå…ƒç´ .. åœ¨127.0.0.1:3001æ‹‰èµ·çš„test2.html 1234567891011&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;&lt;title&gt; iframe window &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p id='hello'&gt;123&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; åœ¨127.0.0.1:3000æ‹‰èµ·çš„ test.html 1234567891011&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="content-type" content="text/html; charset=utf-8"&gt;&lt;title&gt; main window &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;iframe src="http://127.0.0.1:3001/test2.html" name="myframe" width="500" height="100"&gt;ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒiframe&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt; å¯ä»¥çœ‹è§æˆ‘åœ¨127.0.0.1:3000/test.htmlé‡Œé¢åµŒå…¥127.0.0.1:3001/test2.htmlæ–‡ä»¶ï¼Œç”±äºç«¯å£ä¸ä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘åœ¨test.htmlé‡Œé¢æ˜¯æ²¡æ³•è·å–test2.htmlé‡Œé¢çš„å…ƒç´ çš„ ä½¿ç”¨document.domainä¿®æ”¹æˆç›¸åŒçš„åŸŸå 12345&lt;script type="text/javascript"&gt; window.onload=function()&#123; document.domain = '127.0.0.1'; &#125; &lt;/script&gt; å¯ä»¥çœ‹è§ç°åœ¨åœ¨test.htmlé¡µé¢æ„å¢ƒå¯ä»¥è·å–åˆ°test2.htmlé¡µé¢çš„idä¸ºhelloçš„å…ƒç´ äº†ã€‚ä¹Ÿä¸æŠ¥è·¨åŸŸé”™è¯¯äº†]]></content>
      <categories>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—</category>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ3ï¼‰- è·¨åŸŸå’Œdomain</category>
      </categories>
      <tags>
        <tag>domain</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ2ï¼‰- è·¨åŸŸå’ŒpostMessage]]></title>
    <url>%2F2018%2F10%2F26%2FpostMessage%2F</url>
    <content type="text"><![CDATA[åœ¨è·¨åŸŸå’Œjsonpçš„æ–‡ç« é‡Œé¢å·²ç»ä»‹ç»äº†è·¨åŸŸçš„åŸºæœ¬æ¦‚å¿µï¼Œä¹Ÿä»‹ç»äº†jsonpè·¨åŸŸçš„åŸç†(scriptæ ‡ç­¾+æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çº¦å®šå¥½callback)åŸºæœ¬å†™æ³•å’Œjquerå°è£…;æœ¬æ–‡ä»‹ç»window.postMessage()çš„h5æ¥å£å®ç°ä¸åŒçª—å£ä¸åŒé¡µé¢çš„è·¨åŸŸé€šä¿¡; å¯ä»¥å‘é€æ•°æ® å¯ä»¥é€šè¿‡å‘é€ç‰¹å®šçš„äº‹ä»¶åç§°ï¼Œåœ¨onMessageé‡Œé¢æ‰§è¡Œå›è°ƒï¼Œç±»ä¼¼äºangularçš„emitå’Œonçš„å…³ç³»ç„¶åæ“ä½œdom postMessage()123456789101112someWindow.postMessage(data,origin); `&lt;iframe id='iframeId' name='iframeName'&gt;å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒï¼Œä¼šæ˜¾ç¤ºiframeæ ‡ç­¾ä¹‹é—´çš„æ–‡å­—&lt;/iframe&gt;``var iframe = window.frames['iframeName']` # è·å–iframe.document.getElementById('iframeId')`iframe.contentWindow` #è·å–iframeçª—å£çš„windowå¯¹è±¡`iframe.contentWindow.postMessage('ä¼ ç»™çˆ¸çˆ¸çš„ä¿¡æ¯'ï¼Œ'iframeçš„åŸŸï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™æˆ*è¡¨ç¤ºä»»æ„åŸŸ')`# someWindow æ¥æ”¶æ•°æ®çš„window# data å°±æ˜¯ä¼ è¾“çš„æ•°æ®# - html5è§„èŒƒä¸­æåˆ°è¯¥å‚æ•°å¯ä»¥æ˜¯JavaScriptçš„ä»»æ„åŸºæœ¬ç±»å‹æˆ–å¯å¤åˆ¶çš„å¯¹è±¡# - å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½åšåˆ°äº†è¿™ç‚¹å„¿ï¼Œéƒ¨åˆ†æµè§ˆå™¨åªèƒ½å¤„ç†å­—ç¬¦ä¸²å‚æ•°ï¼Œæœ€å¥½JSON.stringify()æ–¹æ³•å¯¹å¯¹è±¡å‚æ•°åºåˆ—åŒ–# origin å­—ç¬¦ä¸²å‚æ•°ï¼ŒæŒ‡æ˜ç›®æ ‡çª—å£çš„æº,å½“ç„¶å¦‚æœæ„¿æ„ä¹Ÿå¯ä»¥å°†å‚æ•°è®¾ç½®ä¸º"* MessageEventçš„å±æ€§1234567891011 someWindow.addEventListener('message',function(e)&#123; console.log(e.source) # å‘é€æ¶ˆæ¯çš„çª—å£å¯¹è±¡ console.log(e.origin) # å‘é€æ¶ˆæ¯çª—å£çš„æºï¼ˆåè®®+ä¸»æœº+ç«¯å£å·ï¼‰ console.log(e.data) # æ˜¯ä¼ é€’æ¥çš„message window.parent.postMessage('ok','*') # å¤„äºå®‰å…¨è€ƒè™‘ï¼Œéœ€è¦åˆ¤æ–­åŸŸæ˜¯ä¸æ˜¯å‘é€æ¶ˆæ¯çš„åŸŸ if(e.origin === 'xxx.sourceOrigin.com')&#123; # todo list window.postMessage('æ”¶åˆ°äº†çˆ¸çˆ¸çš„ä¿¡æ¯','çˆ¸çˆ¸çš„åŸŸ') &#125;&#125;) ç¤ºä¾‹è¯´æ˜123456789101112131415161718192021222324252627# iframeé‡Œé¢åµŒå…¥çš„å„¿å­é¡µé¢ &lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;blog&lt;/title&gt; &lt;script&gt; window.onload=function()&#123; // è¿™ä¸ªwindowå°±æ˜¯å„¿å­çš„windowå¯¹è±¡ window.addEventListener('message',function(e)&#123; console.log(e.source) console.log(e.data) console.log(e.origin) if(e.origin === 'çˆ¸çˆ¸çš„origin') // å¤„äºå®‰å…¨ä¸€å®šè¦æ ¡éªŒæ˜¯ä¸æ˜¯çˆ¸çˆ¸åŸŸå‘è¿‡æ¥çš„æ¶ˆæ¯ window.parent.postMessage('é©¬ä¸Šå›æ¥çˆ¸çˆ¸','*') // ç»™çˆ¸çˆ¸é¡µé¢å‘æ¶ˆæ¯ &#125;) &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;æˆ‘æ˜¯è·¨åŸŸçš„å„¿å­é¡µé¢ï¼Œåœ¨çˆ¸çˆ¸çš„iframeé‡Œé¢åµŒå…¥çš„é¡µé¢&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647 # çˆ¸çˆ¸é¡µé¢ &lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;blog&lt;/title&gt; &lt;style&gt; body &#123; height: 1000px; overflow: hidden; &#125; #myrame &#123; box-sizing: border-box &#125; #myrame1 &#123; box-sizing: border-box &#125; &lt;/style&gt; &lt;script&gt; window.onload=function()&#123; var iframe = document.getElementById("myrame"); var subBut = document.getElementById('buttons'); subBut.addEventListener('click',function(e)&#123; iframe.contentWindow.postMessage('å„¿å­åƒé¥­å•¦','*'); &#125;); window.addEventListener('message',function(e)&#123; console.log(e.source) console.log(e.data) &#125;) &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;iframe name="myiframe" id="myrame" src="b.html" frameborder="1" align="left" width="50%" height="100%" scrolling="auto"&gt; &lt;/iframe&gt; &lt;button id='buttons'&gt;å«å„¿å­å›å®¶åƒé¥­&lt;/button&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—</category>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ2ï¼‰- è·¨åŸŸå’ŒpostMessage</category>
      </categories>
      <tags>
        <tag>postMessage</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ1ï¼‰ - è·¨åŸŸå’Œjsonp]]></title>
    <url>%2F2018%2F10%2F23%2Fjsonp%2F</url>
    <content type="text"><![CDATA[è·¨åŸŸè·¨åŸŸç®€å•çš„è¯´å°±æ˜¯æµè§ˆå™¨å¤„äºå®‰å…¨æ–¹é¢çš„è€ƒè™‘ï¼ŒåŸºäºæµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼Œä¸å…è®¸ä¸åŒåŸŸä¹‹é—´ç›¸äº’è¯·æ±‚èµ„æºâ€¦ èƒŒæ™¯ Ajaxåªèƒ½å¤Ÿåœ¨åŒåŸŸä¸‹è¯·æ±‚èµ„æº(ajaxåªèƒ½æäº¤json,xml,textï¼Œhtmlç­‰æ–‡ä»¶ç±»å‹çš„æ•°æ®ï¼Œå¦‚æœäºŒè¿›åˆ¶æ–‡ä»¶å°±éœ€è¦ä½¿ç”¨formData) webé¡µé¢ä¸Šè°ƒç”¨jsæ–‡ä»¶æ—¶ï¼Œä¸å—æ˜¯å¦è·¨åŸŸçš„å½±å“ï¼ˆjsonpï¼‰ åŒæºç­–ç•¥å½“ åè®®ï¼Œå­åŸŸåï¼Œä¸»åŸŸåï¼Œç«¯å£ä¸­ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶ï¼Œå°±æ˜¯ä¸åŒåŸŸçš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåŸŸéœ€è¦äº¤äº’ï¼Œå°±æ˜¯è·¨åŸŸçš„ï¼šåŒæºç­–ç•¥çš„é™åˆ¶åŒ…æ‹¬ï¼š ä¸èƒ½Ajax(åŒæºæ•°æ®è¯·æ±‚æ–¹å¼) ä¸èƒ½æ“ä½œdom ä¸èƒ½å…±äº«Cookieã€LocalStorageã€IndexedDB ç­‰å­˜å‚¨æ€§å†…å®¹ ä½†æ˜¯æœ‰ä¸‰ä¸ªæ ‡ç­¾æ˜¯å…è®¸è·¨åŸŸåŠ è½½èµ„æº 123&lt;img src=XXX&gt;&lt;link href=XXX&gt;&lt;script src=XXX&gt; è·¨åŸŸéœ€æ±‚ä¸€èˆ¬è¿›è¡Œè·¨åŸŸï¼Œéƒ½æ˜¯åŸºäºä¸¤ç§éœ€æ±‚ï¼š 1.è·¨åŸŸæ•°æ®é€šä¿¡ï¼ˆç®€å•çš„è¯´å°±æ˜¯å…±äº«æ•°æ®æˆ–è€…æ•°æ®ä¼ é€’ï¼‰ 2.è·¨åŸŸè·å–dom (ä¾‹å¦‚è·å–iframeçš„é«˜åº¦) JSONP(è·¨åŸŸè·å–æ•°æ®) ä¸ºäº†ä¾¿äºå®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®ï¼Œé€æ¸å½¢æˆäº†ä¸€ç§éæ­£å¼ä¼ è¾“åè®®ï¼Œäººä»¬æŠŠå®ƒç§°ä½œJSONP;ç¼ºç‚¹æ˜¯ä»…æ”¯æŒ getæ–¹æ³•å…·æœ‰å±€é™æ€§ã€‚ åˆ©ç”¨ &lt;script&gt; å…ƒç´ çš„è¿™ä¸ªå¼€æ”¾ç­–ç•¥ï¼Œç½‘é¡µå¯ä»¥å¾—åˆ°ä»å…¶ä»–æ¥æºåŠ¨æ€äº§ç”Ÿçš„ JSON æ•°æ® JSONPè¯·æ±‚ä¸€å®šéœ€è¦å¯¹æ–¹çš„æœåŠ¡å™¨åšæ”¯æŒæ‰å¯ä»¥ è¯¥åè®®çš„ä¸€ä¸ªè¦ç‚¹å°±æ˜¯å…è®¸ç”¨æˆ·ä¼ é€’ä¸€ä¸ªcallbackå‚æ•°ç»™æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯è¿”å›æ•°æ®æ—¶ä¼šå°†è¿™ä¸ªcallbackå‚æ•°ä½œä¸ºå‡½æ•°åæ¥åŒ…è£¹ä½JSONæ•°æ®ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥éšæ„å®šåˆ¶è‡ªå·±çš„å‡½æ•°æ¥è‡ªåŠ¨å¤„ç†è¿”å›æ•°æ®äº†ã€‚ æ€»ç»“jsonpå°±æ˜¯åˆ©ç”¨scriptæ ‡ç­¾å¯ä»¥ä¸å—æµè§ˆå™¨åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œé€šè¿‡getçš„æ–¹å¼è·¨åŸŸè¿›è¡Œæ•°æ®é€šä¿¡çš„æ–¹å¼ï¼Œç›®å‰å…¼å®¹å‹è¾ƒå¥½ï¼Œä½†æ˜¯åªèƒ½æ”¯æŒgetè¯·æ±‚ï¼›ç›®å‰jqeryè¿›è¡Œäº†å°è£… 1.åŸºæœ¬ä½¿ç”¨åœ¨å®¢æˆ·ç«¯123456789&lt;script&gt; # å®¢æˆ·ç«¯æ ¹æ®æŒ‡å®šçš„callbackå‡½æ•°ï¼Œå®šä¹‰å¯¹è¿”å›æ•°æ®dataçš„æ“ä½œï¼Œä¾‹å¦‚alertå‡ºdataçš„resultå±æ€§ someCallBack(data)&#123; // todo with data alert(data.result); &#125;&lt;/script&gt;# åœ¨scriptæ ‡ç­¾ä¸­å¼•å…¥è·¨åŸŸè¯·æ±‚çš„urlï¼Œå¿…é¡»æŒ‡å®šcallbackç»™ä¸€ä¸ªå‡½æ•°ï¼ˆå¿…é¡»ï¼‰ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥å…¶ä»–å‚æ•°(éå¿…é¡»)&lt;script src="www.crossDomainServer.com/remote.js?callback='someCallBack'&amp;userName='unclePis'"&gt;&lt;/script&gt; åœ¨æœåŠ¡å™¨ç«¯ï¼Œåªéœ€è¦ä½¿ç”¨ä¼ å…¥çš„å‡½æ•°å°†éœ€è¦è¿”å›çš„jsonæ•°æ®åŒ…è£¹è¿”å›å°±å¥½ï¼Œä¾‹å¦‚ 1someCallBack(&#123;name:'root',password:'1233211234567'&#125;) è¿™æ ·åœ¨å®¢æˆ·ç«¯å°±ç›¸å½“äºåŠ è½½äº†ä¸€ä¸ªjsæ–‡ä»¶ï¼Œè°ƒç”¨å®šä¹‰å¥½çš„å‡½æ•° 123456789 &lt;script&gt; # å‡½æ•°å£°æ˜ someCallBack(data)&#123; # todo with data alert(data.result); &#125; # å‡½æ•°è°ƒç”¨ someCallBack(&#123;name:'root',password:'1233211234567'&#125;)&lt;/script&gt; 2.åŠ¨æ€æ·»åŠ 123456789var someCallBack = function(data)&#123; # todo with data alert(data.result);&#125;var script = document.createElement('script');var src = "www.crossDomainServer.com/remote.js?callback='someCallBack'&amp;userName='unclePis'";script.setAttribute('src', url);# æŠŠscriptæ ‡ç­¾åŠ å…¥headï¼Œæ­¤æ—¶è°ƒç”¨å¼€å§‹document.getElementsByTagName('head')[0].appendChild(script); 3.jQueryçš„jsonpå½¢å¼ç®€å•çš„è¯´ï¼Œjqueryçš„dataTypeä¸ºjsonpçš„æ—¶å€™ï¼Œå°±å¸®ä½ å°è£…äº†ä¸Šé¢çš„åŸºæœ¬å®ç°ï¼Œä½ åªéœ€è¦åœ¨successé‡Œé¢å¤„ç†æ•°æ®çš„è¿”å›å°±okäº†ï¼Œæ„Ÿè§‰å¥½åƒajaxåœ¨åŒåŸŸè¯·æ±‚èµ„æºä¸€æ ·123456789101112$.ajax(&#123; url:"http://crossdomain.com/jsonServerResponse", dataType:"jsonp", type:"get", # å¯ä»¥çœç•¥,JSONPéƒ½æ˜¯GET jsonpCallback:"fn",# -&gt;è‡ªå®šä¹‰ä¼ é€’ç»™æœåŠ¡å™¨çš„å‡½æ•°åï¼Œè€Œä¸æ˜¯ä½¿ç”¨jQueryè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¯çœç•¥ jsonp:"jsonp",# -&gt;æŠŠä¼ é€’å‡½æ•°åçš„é‚£ä¸ªå½¢å‚callbackå˜ä¸ºjsonpï¼Œå¯çœç•¥ success:function (data)&#123; console.log(data);&#125; &#125;), error: function()&#123; alert('fail'); &#125; JSONPå’ŒAJAXå¯¹æ¯” JSONPå’ŒAJAXç›¸åŒï¼Œéƒ½æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œä»æœåŠ¡å™¨ç«¯è·å–æ•°æ®çš„æ–¹å¼ ä½†AJAXå±äºåŒæºç­–ç•¥ï¼ŒJSONPå±äºéåŒæºç­–ç•¥ï¼ˆè·¨åŸŸè¯·æ±‚ï¼‰ å…¶ä»–è·¨åŸŸå¹¶ä¸æ˜¯è¯·æ±‚å‘ä¸å‡ºå»ï¼Œè¯·æ±‚èƒ½å‘å‡ºå»ï¼ŒæœåŠ¡ç«¯èƒ½æ”¶åˆ°è¯·æ±‚å¹¶æ­£å¸¸è¿”å›ç»“æœï¼Œåªæ˜¯ç»“æœè¢«æµè§ˆå™¨æ‹¦æˆªäº†ã€‚ä¹‹æ‰€ä»¥ä¼šè·¨åŸŸï¼Œæ˜¯å› ä¸ºå—åˆ°äº†åŒæºç­–ç•¥çš„é™åˆ¶ï¼ŒåŒæºç­–ç•¥è¦æ±‚æºç›¸åŒæ‰èƒ½æ­£å¸¸è¿›è¡Œé€šä¿¡ï¼Œå³åè®®ã€åŸŸåã€ç«¯å£å·éƒ½å®Œå…¨ä¸€è‡´ã€‚ å‚è€ƒæ–‡ç« è·¨åŸŸå‡ ç§æ–¹å¼jsonpåŸç†è¯¦è§£â€”â€”ç»ˆäºææ¸…æ¥šjsonpæ˜¯å•¥äº†]]></content>
      <categories>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—</category>
        <category>æµè§ˆå™¨è·¨åŸŸç³»åˆ—ï¼ˆ1ï¼‰ - è·¨åŸŸå’Œjsonp</category>
      </categories>
      <tags>
        <tag>jsonp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[verdaccioæ­å»ºç§æœ‰npmä»“åº“]]></title>
    <url>%2F2018%2F10%2F18%2Fverdaccio%2F</url>
    <content type="text"><![CDATA[æ­å»ºç§æœ‰çš„npmä»“åº“åœ¨ç§æœä¸Šéƒ¨ç½²ç§æœ‰çš„npmä»“åº“ï¼Œä¸€æ–¹é¢é˜…è¯»åŸæ–‡ verdaccio123npm install verdaccio -g // å…¨å±€å®‰è£…verdaccioverdaccio // è¿è¡Œverdaccio å¦‚ä½•ä½¿ç”¨12345678# å½“å‰npm æœåŠ¡æŒ‡å‘ æœ¬åœ° npm set registry http://localhost:4873 # æ³¨å†Œç”¨æˆ· npm adduser â€“registry http://localhost:4873# æŒ‰ç…§æç¤ºè¾“å…¥userName å’Œ password,email#æŸ¥çœ‹å½“å‰ç”¨æˆ·,æ˜¯å¦æ˜¯æ³¨å†Œç”¨æˆ·. npm who am i # æç¤ºuserName è¿›å…¥å·¥ç¨‹ç›®å½•å‘å¸ƒç§æœ‰package1npm publish å°±æˆåŠŸå‘å¸ƒäº†ä¸€ä¸ªç§æœ‰çš„åŒ…,å°±å¯ä»¥åœ¨å…¶ä»–æ¨¡å—é‡Œé¢ä½¿ç”¨ npm install [package name] æ¥å®‰è£…äº†,è€Œç§æœ‰npm é‡Œé¢ä¸åŒ…å«çš„åŒ…,ä¾‹å¦‚ä½ è¦å®‰è£…ä¸€ä¸ªvue ,webpack è¿™æ ·çš„åŒ…,æ‰¾ä¸åˆ°çš„è¯,ä¼šè¢«ä»£ç†åˆ° npm.js å®˜ç½‘å»ä¸‹è½½,å¹¶ä¸”ä¼šå¸®ä½ ç¼“å­˜åœ¨ ./storage æ–‡ä»¶å¤¹é‡Œé¢. å†æ¬¡ä¸‹è½½,å°±èƒ½ä½“éªŒé£ä¸€èˆ¬çš„é€Ÿåº¦äº†,å½“ä¸€ä¸ªå°å›¢é˜Ÿä½¿ç”¨çš„æ—¶å€™æ•ˆæœæ›´ä½³. ç”±äºè€ƒè™‘åˆ°æ—¶å¸¸ä¼šåˆ‡æ¢ä»“åº“æ¥æº,æˆ‘æ˜¯ç”¨äº†nrm ,ä¸€ä¸ªä»“åº“ç®¡ç†å™¨,å®é™…ä¸Šå°±æ˜¯ ç®€åŒ–ä»¥ä¸‹å‘½ä»¤ npm set registry [url] å…¶ä»–npmå¸¸ç”¨å‘½ä»¤12345npm config set registry https://registry.npm.taobao.org # é€šè¿‡configå‘½ä»¤è®¾ç½®å›½å†…é•œåƒnpm config set registry http://registry.npmjs.org # åŸnpmåœ°å€npm config get registry # å¦‚ä½•æ£€æµ‹é•œåƒæ˜¯å¦è®¾ç½®æˆåŠŸå‘¢ï¼Ÿå³æŸ¥çœ‹é•œåƒçš„é…ç½®ç»“æœnpm cache clean --force # æ¸…é™¤npmç¼“å­˜ å®‰è£…npm ä»“åº“ç®¡ç†nrm(node registry manager) ä½¿ç”¨nrm è¿›è¡Œnpm registryåœ°å€ç®¡ç†å’Œåˆ‡æ¢ 1npm install -g nrm æ·»åŠ sinopia/verdaccio ä»“åº“åœ°å€ 1nrm add myPrivateNpm http://xxx.xxx.xx.xx:4873 #myPrivateNpmæ˜¯ç»™ç§æœ‰ä»“åº“èµ·ä¸€ä¸ªåå­—ï¼Œåé¢æ˜¯sinopia/verdaccioè¿è¡Œç§æœ‰ä»“åº“çš„åœ°å€ åˆ‡æ¢ç§æœ‰ä»“åº“1nrm use myPrivateNpm # ä½¿ç”¨ç§æœ‰npmä»“åº“]]></content>
      <categories>
        <category>verdaccioæ­å»ºç§æœ‰npmä»“åº“</category>
      </categories>
      <tags>
        <tag>gitlab</tag>
        <tag>npm</tag>
        <tag>verdaccio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript - å¯¹è±¡çš„å¸¸ç”¨æ“ä½œ(object)]]></title>
    <url>%2F2018%2F10%2F18%2Fobject%2F</url>
    <content type="text"><![CDATA[ObjectObjectæ˜¯jsä¸­æ¯”è¾ƒå¸¸ç”¨çš„å¥å€¼å¯¹ï¼Œkeyåªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥es6å¼•å…¥äº†mapç±»å‹ä½œä¸ºobjectçš„è¡¥å……ç±»å‹ï¼Œä¸‹é¢å¯¹objectçš„åŸºæœ¬æ“ä½œåšä¸€ä¸ªæ±‡æ€»â€¦ å¯¹è±¡å¸¸ç”¨ä¸‰è¿å‡»var Obj = { userName:â€™unclepisâ€™, age:30} Object.keys(obj) // [â€˜userNameâ€™,â€™ageâ€™]Object.values(obj) // [â€˜unclepisâ€™,30]Object.entries(obj) // [[â€œuserNameâ€, â€˜unclepisâ€™],[â€œageâ€, 30]] ##.éªšæ“ä½œ 2.1è§£æ„èµ‹å€¼var Obj = { userName:â€™unclepisâ€™, age:30, gender:â€™maleâ€™} const { userName, // åŸºæœ¬è§£æ„æ“ä½œ age, gender:sexual // è§£æ„æ›´å phone=â€™7758521â€™ // è§£æ„è®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨undefinedçš„æ—¶å€™åŠ è½½é»˜è®¤} = Obj; 2.2withå¤šæ“ä½œvar Obj = { userName:â€™unclepisâ€™, age:30, gender:â€™maleâ€™}with(Obj){ userName=â€™hello worldâ€™, age:18, father=101 // æ³¨æ„å¦‚æœObjä¸­æ²¡æœ‰è¯¥å±æ€§ä¼šå…¨å±€å®šä¹‰ä¸€ä¸ªfather = 101}// ç­‰ä»·äºObj.userName = â€œhello worldâ€Obj.age= 18 2.3 in æ“ä½œç¬¦JavaScriptif(â€˜userNameâ€™ in obj) { // objä¸­å­˜åœ¨userNameè¿”å›true} æ—¥å¸¸æ“ä½œ1)vueæ•°æ®åŠ«æŒçš„å®ç°æ–¹å¼1234 Object.definePropery(Obj,&#123; set:function()&#123;&#125;, get:function(val)&#123;&#125;&#125;) 2ï¼‰å¯¹è±¡æµ…æ‹·è´obj = Object.assign({},Obj,{ mother:â€™angleâ€™, father:â€™godâ€™}) åŸºæœ¬æ“ä½œvar Obj = { userName:â€™unclepisâ€™, age:30, gender:â€™maleâ€™} for (var propName in Obj){ forâ€¦inéå† if(Obj.hasOwnProperty(propName)){// é˜²æ­¢éå†åŸå‹å±æ€§ console.log(Obj[propName]) // é€šè¿‡[propName]è®¿é—®å’ŒObj.propNameè®¿é—® }}delete Obj.age // åˆ é™¤æ“ä½œ]]></content>
      <categories>
        <category>javascript</category>
        <category>javascript - å¯¹è±¡çš„å¸¸ç”¨æ“ä½œ(object)</category>
      </categories>
      <tags>
        <tag>object</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript - åˆ¤æ–­å˜é‡ç±»å‹type]]></title>
    <url>%2F2018%2F10%2F18%2Ftype%2F</url>
    <content type="text"><![CDATA[#æ•°æ®ç±»å‹ æœ€å¸¸è§çš„åˆ¤æ–­æ–¹æ³•ï¼štypeof1234567891011// å¯ä»¥åŒºåˆ†åŸºæœ¬ç±»å‹å’Œundefinedtypeof '123' // 'string'typeof 123 // 'number'typeof true // 'boolean'typeof function test()&#123;&#125; // 'function'typeof undefined // 'undefined'// å¯¹è±¡ç±»å‹æ— æ³•åŒºåˆ†typeof &#123;&#125; // 'object'typeof [] // 'object'typeof null // 'object' åˆ¤æ–­å·²çŸ¥å¯¹è±¡ç±»å‹çš„æ–¹æ³•ï¼š instanceof nullçš„typeofä¸ºobjectï¼Œfunctionå’Œundefinedå¯ä»¥ä½¿ç”¨typeof 12345# å¯ä»¥åŒºåˆ†objectå’Œarrayåˆ†åˆ«æ˜¯å“ªä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹&#123;&#125; instanceof Object // true[] instanceof Array// truetest instanceof Function// truenew Date() instanceof Date// true prototype123456alert(Object.prototype.toString.call(â€˜123â€™) === â€˜[object String]â€™) -------&gt; true;alert(Object.prototype.toString.call(123) === â€˜[object Number]â€™) -------&gt; true;alert(Object.prototype.toString.call([]) === â€˜[object Array]â€™) -------&gt; true;alert(Object.prototype.toString.call(new Date()) === â€˜[object Date]â€™) -------&gt; true;alert(Object.prototype.toString.call(test) === â€˜[object Function]â€™) -------&gt; true;alert(Object.prototype.toString.call(null) === â€˜[object Null]â€™) -------&gt; true; ##åŸºæœ¬ç±»å‹ Stringtypeof // â€œstringâ€ Numbertypeof // â€˜numberâ€™ Booleantypeof boolean // â€˜booleanâ€™ ç‰¹æ®Šç±»å‹nulltypeof // æ³¨æ„æ˜¯â€˜objectâ€™ undefinedtypeof // â€˜undefinedâ€™ functionfunction test(){}typeof test // â€˜functionâ€™ ##å˜æ€ç±»å‹objecttypeof // objectinstantceof Object // truefunctiontypeof // functioninstance of Function // truearraytypeof //objectinstance of Array // true]]></content>
      <categories>
        <category>javascript</category>
        <category>javascript - åˆ¤æ–­å˜é‡ç±»å‹type</category>
      </categories>
      <tags>
        <tag>type</tag>
        <tag>typeof</tag>
        <tag>instanceof</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6æ–‡æ¡£å­¦ä¹  - Map]]></title>
    <url>%2F2018%2F10%2F17%2Fmap%2F</url>
    <content type="text"><![CDATA[mapmapæ˜¯es6å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹,å¸¸ç”¨çš„æŠ€æœ¯ç‚¹ï¼š åˆå§‹åŒ–ä¸€ä¸ªmapï¼Œlet newMap = new Map([[â€˜nameâ€™,age],[â€˜pisâ€™,18]]) å¢ newMap.set(1,2) æŸ¥è¯¢ newMap.get(1) åˆ  newMap.delete(1) åˆ¤æ–­æ˜¯å¦å­˜åœ¨ newMap.has(1) // true Setçš„é•¿åº¦ newMap.size æ•°ç»„å’ŒSetçš„æ•°æ®è½¬æ¢ new Set([])/ Array.from(newSet) // æ•°ç»„å»é‡å¸¸ç”¨ Setçš„éå†æ–¹æ³• forâ€¦of keys,valus,entrieså’ŒforEach é”®å€¼å¯¹jsçš„Objectå¯¹è±¡çš„keyåªèƒ½æ˜¯ å­—ç¬¦ä¸²ï¼Œä¸ºäº†ä½¿å„ç§ç±»å‹éƒ½å¯ä»¥å½“keyï¼Œå¼•å…¥Mapç±»å‹ åˆå§‹åŒ–var map = new Map();map.set(1,1); æˆ–è€…æ¥å—ä¸€ä¸ªäºŒç»´æ•°ç»„var map = new Map([ [â€˜nameâ€™, â€˜å¼ ä¸‰â€™], [â€˜titleâ€™, â€˜Authorâ€™]]); è®¾ç½®/è·å–å…ƒç´ map.set(1,1)map.get(1) Mapé•¿åº¦map.size åˆ¤æ–­æ˜¯å¦å«æœ‰æŸä¸ªå€¼map.has(1) åˆ é™¤map.delete(1) æ¸…é™¤map.clear() éå†æ–¹æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455 const map = new Map([ ['F', 'no'], ['T', 'yes'], ]);for (let key of map.keys()) &#123; console.log(key);&#125;// "F"// "T"for (let value of map.values()) &#123; console.log(value);&#125;// "no"// "yes"for (let item of map.entries()) &#123; console.log(item[0], item[1]);&#125;// "F" "no"// "T" "yes"// æˆ–è€…for (let [key, value] of map.entries()) &#123; console.log(key, value);&#125;// "F" "no"// "T" "yes"// ç­‰åŒäºä½¿ç”¨map.entries()for (let [key, value] of map) &#123; console.log(key, value);&#125;// "F" "no"// "T" "yes"# æ‰©å±•è¿ç®—ç¬¦const map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);[...map.keys()]// [1, 2, 3][...map.values()]// ['one', 'two', 'three'][...map.entries()]// [[1,'one'], [2, 'two'], [3, 'three']][...map]// [[1,'one'], [2, 'two'], [3, 'three']]]]></content>
      <categories>
        <category>ES6æ–‡æ¡£å­¦ä¹ </category>
        <category>ES6æ–‡æ¡£å­¦ä¹  - Map</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>map</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6æ–‡æ¡£å­¦ä¹  - Set]]></title>
    <url>%2F2018%2F10%2F17%2FSet%2F</url>
    <content type="text"><![CDATA[Setsetæ˜¯es6å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹,å¸¸ç”¨çš„æŠ€æœ¯ç‚¹ï¼š åˆå§‹åŒ–ä¸€ä¸ªsetï¼Œlet newSet = new Set([1,2,3]) å¢ newSet.add(1) åˆ  newSet.delete(1) åˆ¤æ–­æ˜¯å¦å­˜åœ¨ newSet.has(1) // true Setçš„é•¿åº¦ newSet.size æ•°ç»„å’ŒSetçš„æ•°æ®è½¬æ¢ new Set([])/ Array.from(newSet) // æ•°ç»„å»é‡å¸¸ç”¨ Setçš„éå†æ–¹æ³• forâ€¦of keys,valus,entrieså’ŒforEach ##Set es6 å¼•å…¥çš„æ•°æ®ç»“æ„ ç±»ä¼¼æ•°ç»„ æˆå‘˜å”¯ä¸€ï¼Œæ²¡æœ‰é‡å¤ Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° åˆå§‹åŒ–123var set = new Set(); æˆ–è€…var set = new Set([1,2,3,3,34,5]) // ç»™Setæ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªæ•°ç»„ æ·»åŠ /åˆ é™¤å…ƒç´ 12345var set = new Set();set.add(1);// æ–°å¢1set.add(2); // æ–°å¢2// addæ–¹æ³•è¿”å›setæ•°æ®æœ¬èº«ï¼Œæ‰€ä»¥å¯ä»¥è¿ç»­çš„add // set.add(1).add(2)set // [1,2] åˆ é™¤set.delete(1); // åˆ é™¤ åˆ¤æ–­æ˜¯å¦åŒ…å«å…ƒç´ set.has(1); // åˆ¤æ–­æ˜¯å¦å«æœ‰1 seté•¿åº¦set.size // setçš„é•¿åº¦ æ¸…ç©ºsetset.clear() setå’Œæ•°ç»„ç±»å‹çš„ç›¸äº’è½¬æ¢var set = new Set([1,2,3,4]) // æ•°ç»„è½¬æ¢æˆsetvar array = Array.from(set); // setè½¬æ¢æˆæ•°ç»„var array = [â€¦new Set([1,2,3,4])] æ•°ç»„å»é‡var arr = [1,2,3,4,4,4,4,5,5] function removeSameItem(arr){ return [â€¦ new Set(arr)]}removeSameItem(arr); éœ€è¦æ³¨æ„çš„ç‚¹ï¼š123456789101112131415161718# NaNåªèƒ½åŠ å…¥ä¸€ä¸ªåˆ°setlet a = NaN;let b = NaN;a===b // false#ä½†æ˜¯ var set = new Set();set.add(a);set.add(b);set.size // 1#ä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„let set = new Set();set.add(&#123;&#125;);set.size // 1set.add(&#123;&#125;);set.size // 2 éå†Set ç»“æ„çš„å®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºéå†æˆå‘˜ã€‚keys()ï¼šè¿”å›é”®åçš„éå†å™¨values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566 let set = new Set(['red', 'green', 'blue']);//---------------------------------------keys------------------------------for (let item of set.keys()) &#123; console.log(item);&#125;// red// green// blue//---------------------------------------values------------------------------for (let item of set.values()) &#123; console.log(item);&#125;// red// green// blue//---------------------------------------entries------------------------------for (let item of set.entries()) &#123; console.log(item);&#125;// ["red", "red"]// ["green", "green"]// ["blue", "blue"]//---------------------------------------ç›´æ¥ä½¿ç”¨set------------------------------for (let x of set) &#123; console.log(x);&#125;//---------------------------------------forEach--------------------------------set = new Set([1, 4, 9]);set.forEach((value, key) =&gt; console.log(key + ' : ' + value))var s = new Set(['A', 'B', 'C']);s.forEach(function (element, sameElement, set) &#123; console.log(element);// setæ²¡æœ‰keyï¼Œæ‰€ä»¥keyå’Œvalueä¸€æ ·&#125;);æ‰©å±•è¿ç®—ç¬¦JavaScriptvar set = new Set([1,2,3])var arr = [...set] // [1,2,3]æ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº Set (è°ƒç”¨æ•°ç»„çš„æ–¹æ³•å†è½¬åŒ–æˆset)JavaScriptlet set = new Set([1, 2, 3]);set = new Set([...set].map(x =&gt; x * 2));// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;let set = new Set([1, 2, 3, 4, 5]);set = new Set([...set].filter(x =&gt; (x % 2) == 0));Set å¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifferenceï¼‰ã€‚JavaScriptlet a = new Set([1, 2, 3]);let b = new Set([4, 3, 2]);// å¹¶é›†let union = new Set([...a, ...b]);// Set &#123;1, 2, 3, 4&#125;// äº¤é›†let intersect = new Set([...a].filter(x =&gt; b.has(x)));// set &#123;2, 3&#125;// å·®é›†let difference = new Set([...a].filter(x =&gt; !b.has(x)));// Set &#123;1&#125;]]></content>
      <categories>
        <category>ES6æ–‡æ¡£å­¦ä¹ </category>
        <category>ES6æ–‡æ¡£å­¦ä¹  - Set</category>
      </categories>
      <tags>
        <tag>set</tag>
        <tag>es6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6æ–‡æ¡£å­¦ä¹  - æ¨¡æ¿å­—ç¬¦ä¸²(spread string)]]></title>
    <url>%2F2018%2F10%2F17%2FspreadString%2F</url>
    <content type="text"><![CDATA[spread stringä¸ºäº†è§£å†³å˜å‡‰å’Œå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œå¹¶å¯¹æŸç§å­—ç¬¦ä¸²çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦è¿›è¡ŒåŸæ ·è¾“å‡ºï¼Œes6å¼•å…¥äº†å­—ç¬¦ä¸²æ‰©å±•åŠŸèƒ½â€¦ å­—ç¬¦ä¸²æ¢è¡Œ å­—ç¬¦ä¸²é»˜è®¤åªèƒ½å†™åœ¨ä¸€è¡Œå†…ï¼Œåˆ†æˆå¤šè¡Œå°†ä¼šæŠ¥é”™å¦‚æœé•¿å­—ç¬¦ä¸²å¿…é¡»åˆ†æˆå¤šè¡Œï¼Œå¯ä»¥åœ¨æ¯ä¸€è¡Œçš„å°¾éƒ¨ä½¿ç”¨åæ–œæ ï¼›ä½†æ˜¯ï¼Œè¾“å‡ºçš„æ—¶å€™è¿˜æ˜¯å•è¡Œï¼Œæ•ˆæœä¸å†™åœ¨åŒä¸€è¡Œå®Œå…¨ä¸€æ · 1234var longString = 'Long \long \long \string'; è¿æ¥è¿ç®—ç¬¦ï¼ˆ+ï¼‰å¯ä»¥è¿æ¥å¤šä¸ªå•è¡Œå­—ç¬¦ä¸²ï¼Œå°†é•¿å­—ç¬¦ä¸²æ‹†æˆå¤šè¡Œä¹¦å†™ï¼Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿæ˜¯å•è¡Œã€‚ 1234var longString = 'Long '+ 'long '+ 'long '+ 'string'; ##es6å¯ä»¥ä½¿ç”¨`å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥,ä¼šä¿ç•™æ¢è¡Œå’Œå¤šä¸ªç©ºæ ¼åŸæ ·è¾“å‡º 1234var longString = `Long long long string`;]]></content>
      <categories>
        <category>ES6æ–‡æ¡£å­¦ä¹ </category>
        <category>ES6æ–‡æ¡£å­¦ä¹  - æ¨¡æ¿å­—ç¬¦ä¸²(spread string)</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>spread string</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitç‰ˆæœ¬æ§åˆ¶]]></title>
    <url>%2F2018%2F10%2F17%2Fgit%2F</url>
    <content type="text"><![CDATA[1.ç®€ä»‹Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆæ²¡æœ‰ä¹‹ä¸€ï¼‰ã€‚åœ¨ä¸€ä¸ªå¤šäººåˆä½œçš„å·¥ä½œä¸­ï¼Œæƒ³åˆ é™¤ä¸€ä¸ªæ®µè½ï¼Œåˆæ€•å°†æ¥æƒ³æ¢å¤æ‰¾ä¸å›æ¥æ€ä¹ˆåŠï¼Ÿäºæ˜¯ä¸å¾—ä¸å¯¹åŒä¸€ä¸ªæ–‡ä»¶å»ºç«‹å¤šä¸ªä¸ä¸€æ ·çš„å‰¯æœ¬;å¥½ä¸å®¹æ˜“å®Œæˆäº†è‡ªå·±éœ€è¦ç¼–è¾‘çš„éƒ¨åˆ†ï¼Œåˆéœ€è¦å†å¤šä¸ªåŒäº‹ä¹‹é—´å¯¹åä½œå®Œæˆçš„æ–‡ä»¶è¿›è¡Œä¼ è¾“ã€‚ä½¿ç”¨Gitå°±å¯ä»¥ç»“æŸæ‰‹åŠ¨ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„åˆ€å·¥ç«ç§çš„æ—¶ä»£ï¼Œè¿›å…¥ç‰ˆæœ¬æ§åˆ¶çš„æ–°æ—¶ä»£â€¦ 2.gitä»“åº“åŸºç¡€ å·¥ä½œåŒº(work directory)ï¼šå°±æ˜¯ä½ åœ¨ç”µè„‘ä¸Šçœ‹è§çš„ç›®å½•ï¼Œå‡ºäº†.gitä»¥å¤–çš„åŒºåŸŸ ç‰ˆæœ¬åº“(repository)ï¼šåœ¨å·¥ä½œåŒºä¸­æœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸å±äºå·¥ä½œåŒºï¼Œè¿™æ˜¯ç‰ˆæœ¬åº“. ç¼“å­˜åŒº(stage) masteråˆ†æ”¯ä»¥åŠæŒ‡å‘masterçš„ä¸€ä¸ªæŒ‡é’ˆHEAD. add å®é™…ä¸Šå°±æ˜¯æŠŠå·¥ä½œåŒºçš„æ–‡ä»¶ä¿®æ”¹æ·»åŠ åˆ°äº†ç¼“å­˜åŒºã€‚ commitå°±æ˜¯æŠŠç¼“å­˜åŒºçš„å†…å®¹æäº¤åˆ°äº†å½“å‰åˆ†æ”¯ï¼Œå¹¶æ¸…ç©ºäº†ç¼“å­˜åŒºã€‚ å¸¸ç”¨æ“ä½œ: ls // æŸ¥çœ‹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ ls -ah // å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹çš„éšè—æ–‡ä»¶ã€‚ ls -al // æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶åˆ—è¡¨æ˜¾ç¤º pwd//æŸ¥çœ‹å½“å‰è·¯å¾„ cd path//è®¿é—®è·¯å¾„æ–‡ä»¶ mkdir folder//åˆ›å»ºè·¯å¾„æ–‡ä»¶ cat xxx // æŸ¥çœ‹æ–‡ä»¶å†…å®¹ vi xxx // å¯¹xxxæ–‡ä»¶è¿›è¡Œç¼–è¾‘,i è¿›å…¥ç¼–è¾‘æ¨¡å¼,dd åˆ é™¤ç¼–è¾‘æ¨¡å¼ä¸­å…‰æ ‡æ‰€åœ¨è¡Œ,escé€€å‡ºç¼–è¾‘æ¨¡å¼ :wq é€€å‡ºç¼–è¾‘æ¨¡å¼åé€€å‡ºviçš„ç¼–è¾‘ç¯å¢ƒ git config â€“global user.name â€œPisâ€ git config â€“global user.email â€œemail@163.comâ€œ git config â€“list //æŸ¥çœ‹gité…ç½® git push origin â€“delete xxx //åˆ é™¤è¿œç¨‹xxxåˆ†æ”¯ git branch -d xxx //åˆ é™¤æœ¬åœ°xxxåˆ†æ”¯ git branch -D xxx //å¼ºåˆ¶åˆ é™¤æœ¬åœ°xxxåˆ†æ”¯ git tag //æŸ¥çœ‹tag git tag -a tagName -m&quot;tag description&quot; commitId // ç»™ç‰ˆæœ¬çš„commitæ‰“tag git push origin tagName // æ¨é€tagåˆ°è¿œç¨‹ä»“åº“ git push origin --tags // æ¨é€æ‰€æœ‰çš„tag 3.æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªgitä»“åº“ 3-1.Desktop/web/gitæ–‡ä»¶ä¸‹åˆ›å»ºgit_testç‰ˆæœ¬åº“ 12cd Desktop/web/git mkdir git_test 3-2.åˆå§‹åŒ–ç‰ˆæœ¬åº“ 1git init //è¿™æ—¶å€™git_testç‰ˆæœ¬åº“ä¸‹å¤šäº†ä¸€ä¸ª.gitçš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯gitç”¨æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬çš„ã€‚ 3-3.æ‰‹åŠ¨æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ä¸­ æ³¨: æ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œåªèƒ½è·Ÿè¸ªæ–‡æœ¬æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œæ¯”å¦‚txtï¼Œç½‘é¡µå’Œæ‰€æœ‰çš„ä»£ç ç­‰ã€‚ 3-4.æŠŠæ–‡ä»¶ä»å·¥ä½œåŒºæ·»åŠ ä»“åº“çš„ç¼“å­˜åŒºé‡Œé¢å» æ¯å½“æ–‡ä»¶è¢«ä¿®æ”¹ä¹‹åï¼Œéƒ½éœ€è¦é‡æ–°addå’Œcommit 1234 git add readMe.mdå¯ä»¥ä¸€æ¬¡addå¤šä¸ªæ–‡ä»¶ï¼Œç„¶åä¸€èµ·commitgit add file1.txt file2.txtgit commit -m "upload 2 files" 3-5.æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“å½“å‰åˆ†æ”¯ä¸Š git commit -m&quot;commit description&quot; å¯ä»¥ä½¿ç”¨git statusæŸ¥çœ‹çŠ¶æ€ä¿¡æ¯ å¯ä»¥ä½¿ç”¨git diffæŸ¥çœ‹å·¥ä½œåŒºå’Œä»“åº“æ–‡ä»¶çš„åŒºåˆ«ï¼Œä¹Ÿå°±æ˜¯å¯¹æ¯”ä¸ä¸€æ ·çš„å†…å®¹ å¯ä»¥ä½¿ç”¨git logæŸ¥çœ‹å†å²çºªå½• å¦‚æœæ„Ÿè§‰æ—¥å¿—å†…å®¹å¤ªå¤šï¼Œå¯ä»¥git log --pretty=oneline å¯ä»¥ä½¿ç”¨git reflogæŸ¥çœ‹æ‰€æœ‰çš„å†å²æ“ä½œ å¯ä»¥ä½¿ç”¨cat fileæŸ¥çœ‹fileçš„å†…å®¹ å¯ä»¥ä½¿ç”¨vi fileæŸ¥çœ‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ - å½“ä½¿ç”¨vi fileNameçš„æ–¹å¼åˆ›å»ºæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±è¿›å…¥å†™å…¥æ¨¡å¼ï¼Œå¯ä»¥ç¼–è¾‘æ–‡ä»¶å†…å®¹ï¼Œç„¶åç¼–è¾‘ç»“æŸæŒ‰escï¼Œå†ï¼šwpå°±å¯ä»¥é€€å‡ºäº†ã€‚ å¯ä»¥ä½¿ç”¨:wqé€€å‡ºå½“å‰æ–‡ä»¶çš„æŸ¥çœ‹çŠ¶æ€ 4.ç‰ˆæœ¬å›é€€commitåˆ°masteråˆ†æ”¯æƒ³è¦æ’¤å›åˆ°ä¹‹å‰ç‰ˆæœ¬ï¼š åœ¨gitä¸­ï¼Œç”¨HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ã€‚ git reset --hard HEAD^//å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ git reset --hard HEAD^^//å›åˆ°ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬ git reset --hard HEAD~100//å›åˆ°100ä¸ªç‰ˆæœ¬ä»¥å‰ git reset --hard commit_id//å›åˆ°commit_idçš„ç‰ˆæœ¬ æ§åˆ¶å°ä¸å…³é—­ï¼Œå¯ä»¥ä½¿ç”¨git logæŸ¥çœ‹æ‰€æœ‰çš„commitç‰ˆæœ¬è®°å½•ï¼› æ§åˆ¶å°å…³é—­è¿‡äº†ï¼Œå¯ä»¥ä½¿ç”¨git reflogæŸ¥çœ‹æ‰€æœ‰å†å²çºªå½•çš„ç‰ˆæœ¬ã€‚ Gitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œä¿®æ”¹äº†æ–‡ä»¶å‘ç°æ–‡ä»¶çš„ä¿®æ”¹æœ‰è¯¯éœ€è¦æ’¤é”€ä¿®æ”¹ 1. æ‰‹åŠ¨åœ¨æ–‡ä»¶ä¸­åˆ é™¤åšå‡ºçš„ä¿®æ”¹ ï¼ˆåŸå§‹çš„åšæ³•ï¼Œæ”¹é”™äº†ç›´æ¥æ‰‹åŠ¨è¯¥å›å»ï¼‰ 2. ä½¿ç”¨git reset --hard HEAD^å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ ï¼ˆå·²ç»addäº†ï¼Œå¹¶ä¸”commitåˆ°æœ¬åœ°çš„åˆ†æ”¯ä¸Šï¼‰ 3. ä½¿ç”¨git checkout --fileä¸¢å¼ƒåœ¨å·¥ä½œåŒºä¸­çš„ä¿®æ”¹ ï¼ˆåœ¨å·¥ä½œåŒºæˆ–è€…ç¼“å­˜åŒºçš„ä¿®æ”¹ï¼‰ 1&gt;ä¿®æ”¹äº†æ–‡ä»¶è¿˜æ²¡æœ‰æ·»åŠ åˆ°ç¼“å­˜åŒºï¼Œè¿™å°±å›åˆ°äº†ç‰ˆæœ¬åº“ä¸­çš„çŠ¶æ€ã€‚ï¼ˆä¿®æ”¹åœ¨å·¥ä½œåŒºï¼Œè¿˜æ²¡æœ‰addï¼‰ 2&gt;ä¿®æ”¹äº†æ–‡ä»¶å¹¶æäº¤åˆ°äº†ç¼“å­˜åŒºï¼Œå›åˆ°äº†ç‰ˆæœ¬åº“ç¼“å­˜åŒºçš„çŠ¶æ€ã€‚ ï¼ˆä¿®æ”¹åœ¨ç¼“å­˜åŒºï¼Œå·²ç»addè¿˜æ²¡æœ‰commitï¼‰ æ€»ä¹‹å°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶ä¼šåˆ°æœ€è¿‘ä¸€æ¬¡git commitæˆ–è€…git addçš„çŠ¶æ€ã€‚æ€»ç»“: åªè¦æ²¡æœ‰commitï¼Œéƒ½å¯ä»¥ä½¿ç”¨git checkout --fileæ¢å¤ commitäº†åªèƒ½ä½¿ç”¨git reset --hard commit_idæ¢å¤åˆ°commit 5.è¿œç¨‹ä»“åº“æœ¬åœ°Gitä»“åº“å’Œè¿œç¨‹ä»£ç ä»“åº“ä¹‹é—´çš„ä¼ è¾“æ˜¯é€šè¿‡SSHåŠ å¯†çš„ åˆ›å»ºSSH Key1&gt;å¦‚æœåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹æœ‰.sshç›®å½•ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰id_rsaå’Œid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶ 2&gt;æ²¡æœ‰çš„è¯ï¼Œæ‰§è¡Œssh-keygen -t rsa -C &quot;email@example.com&quot;ï¼ŒæŒ‰ç…§å‘å¯¼å¡«å†™ä¿¡æ¯ã€‚ 3&gt;id_rsaæ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„æ¼å‡ºå»ï¼›id_rsa.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒçš„å‘Šè¯‰åˆ«äººã€‚ 4&gt;ç™»é™†è¿œç¨‹ä»£ç ä»“åº“ï¼Œåœ¨settingsä¸­SSH_Keysé¡µé¢ç‚¹å‡»Add SSH Keyï¼Œå¡«ä¸Štitleåœ¨keyæ–‡æœ¬é‡Œé¢ç²˜è´´id_rsa.pubæ–‡ä»¶çš„å†…å®¹ã€‚ 5&gt;è¿™æ ·è¿œç¨‹ä»£ç ä»“åº“å°±å¯ä»¥è¯†åˆ«å‡ºä½ æ¨é€çš„æäº¤ç¡®å®æ˜¯ä½ è‡ªå·±æ¨é€çš„ï¼Œè€Œä¸æ˜¯åˆ«äººå†’å……çš„ï¼Œè€Œgitæ”¯æŒsshåè®®ã€‚æ‰€ä»¥ï¼Œè¿œç¨‹ä»£ç ä»“åº“åªè¦çŸ¥é“äº†ä½ çš„å…¬é’¥ï¼Œå°±å¯ä»¥ç¡®å®šåªæœ‰ä½ è‡ªå·±æ‰èƒ½æ¨é€ã€‚ 6&gt;è¿œç¨‹ä»£ç ä»“åº“å…è®¸æ·»åŠ å¤šä¸ªkeyï¼Œè¿™æ ·å¦‚æœä½ æœ‰å¤šä¸ªç”µè„‘ï¼Œæ¯”å¦‚ä¸€ä¼šåœ¨å…¬å¸ï¼Œä¸€ä¼šåœ¨å®¶æäº¤ï¼Œåªéœ€è¦æŠŠæ¯å°ç”µè„‘çš„keyéƒ½æ·»åŠ å¸¦è¿œç¨‹ä»£ç ä»“åº“ä¸Šï¼Œè¿™æ ·å°±å¥½äº†ã€‚ æœ¬åœ°Gitä»“åº“æ·»åŠ è¿œç¨‹ä»“åº“ å·²ç»åœ¨æœ¬åœ°åˆ›å»ºå¥½äº†Gitä»“åº“ï¼Œæƒ³åœ¨githubï¼Œcodingæˆ–è€…giteeï¼Œgitlabç­‰è¿œç¨‹ä»£ç æ‰˜ç®¡ä»“åº“ä¸Šæ­å»ºä¸€ä¸ªè¿œç¨‹Gitä»“åº“ï¼Œå¸Œæœ›è¿™ä¸¤ä¸ªä»“åº“è¿œç¨‹åŒæ­¥ï¼Œè¿™æ ·è¿œç¨‹ä»“åº“å¯ä»¥ä½œä¸ºå¤‡ä»½ï¼Œåˆå¯ä»¥å…¶ä»–äººè¿›è¡Œä»“åº“æ¥åä½œï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼åœ¨æœ¬åœ°åˆ›å»ºä»“åº“ï¼ï¼&gt;æ‰˜ç®¡åˆ°è¿œç¨‹ä»“åº“ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ 1.åœ¨githubä¸Šåˆ›å»ºä¸€ä¸ªgitä»“åº“git_test 2.åœ¨æœ¬åœ°åˆ›å»ºgitä»“åº“ mkdir Desktop/web/git/git_test pwd //å¯ä»¥ç¡®è®¤æ˜¯å¦å·²ç»è¿›å…¥gitâ€”_test git init//åˆ›å»ºgit_testçš„ç‰ˆæœ¬åº“.gitæ–‡ä»¶ 3.æ·»åŠ é¡¹ç›®éœ€è¦çš„æ–‡ä»¶åœ¨git_testæ–‡ä»¶å¤¹é‡Œé¢ 4.æäº¤åˆ°æœ¬åœ°masteråˆ†æ”¯ git add file git commit -m&quot;file init&quot; 5.åˆ›å»ºè¿œç¨‹originçš„gitä»“åº“ git remote add origin git@gitbub.com:unclepis/git_test.git git remote -v // æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“çš„å…³ç³» git remote set-url origin git@gitbub.com:unclepis/git_test.git // é‡æ–°è®¾ç½®æœ¬åœ°å’Œè¿œç¨‹ä»“åº“çš„å…³ç³» 6.æŠŠæœ¬åœ°gitä»“åº“masteråˆ†æ”¯çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ git push -u origin master//ç¬¬ä¸€æ¬¡ git push origin master//ä»¥åæ¨é€ ä»è¿œç¨‹åº“å…‹éš†é¡¹ç›®åˆ°æœ¬åœ° å¦‚æœå…ˆæœ‰è¿œç¨‹åº“ï¼Œéœ€è¦å…‹éš†åˆ°æœ¬åœ° 1.ç™»é™†githubåˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“git_test 2.å…‹éš†åˆ°æœ¬åœ° git clone git@github.com:unclepis/git_test.git git clone git@github.com:unclepis/git_test.git newRepoName // å¯ä»¥ä¿®æ”¹å…‹éš†ä¸‹æ¥çš„é¡¹ç›®åç§°ä¸ºnewRepoName åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯git checkout -b dev//åˆ›å»ºå¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯ git branch //æŸ¥çœ‹åˆ†æ”¯ä¿¡æ¯ï¼Œå½“å‰åˆ†æ”¯å‰ä¼šæœ‰ä¸€ä¸ªï¼Š git checkout dev //åˆ‡æ¢åˆ°devåˆ†æ”¯ git merge dev //æŠŠdevåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ git branch -d dev//åˆ é™¤devåˆ†æ”¯ 6.å‘ç”Ÿå†²çª- æœ¬åœ°å‘ç”Ÿå†²çª git status cat file//æŸ¥çœ‹å‘ç”Ÿå†²çªçš„æ–‡ä»¶ ä¿®æ”¹å†²çªçš„ä»£ç ä¿¡æ¯ addå¹¶commit - è¿œç¨‹ä»“åº“pushåå†²çªï¼Œæœ€å¥½å°†å†²çªçš„åˆ†æ”¯æ‹‰åˆ°æœ¬åœ°è§£å†³å†²çª git fetch origin git merge origin/xxx // xxxå†²çªçš„åˆ†æ”¯ ä¿®æ”¹å†²çªçš„ä»£ç ä¿¡æ¯ addå¹¶commit åˆ†æ”¯ç®¡ç†æ¨¡å¼ Fast forward:å¿«é€Ÿæ¨¡å¼ï¼Œåˆ é™¤åˆ†æ”¯åä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ -no-ffï¼šç¦ç”¨ffæ¨¡å¼ åˆ†æ”¯ç®¡ç†æµç¨‹ 1.git checkout -b dev//åˆ›å»ºä¸€ä¸ªdevåˆ†æ”¯ã€‚ 2.ä¿®æ”¹readme.txtå†…å®¹ã€‚ 3.git add file git commit -m&quot;change file&quot;//æ·»åŠ åˆ°æš‚å­˜åŒºã€‚ 4.git checkout master//åˆ‡æ¢å›ä¸»åˆ†æ”¯(master)ã€‚ 5.git merge -no-ff -m&quot;merge with no ff&quot;dev// åˆå¹¶devåˆ†æ”¯ ä½¿ç”¨å‘½ä»¤ git merge â€“no-ff -m â€œæ³¨é‡Šâ€ dev 6.git branch -d dev//åˆ é™¤devåˆ†æ”¯ 7.git log//æŸ¥çœ‹å†å²è®°å½• åˆ†æ”¯ç®¡ç†ç­–ç•¥ masterä¸»åˆ†æ”¯æ¯”è¾ƒç¨³å®šï¼Œä¸€èˆ¬æ˜¯ç”¨äºå‘å¸ƒæ–°ç‰ˆæœ¬ï¼ˆreleaseç‰ˆæœ¬ï¼Œä¸€èˆ¬masteråˆ†æ”¯å†™ä¿æŠ¤äº†ï¼Œä¸å…è®¸ç›´æ¥ä»æœ¬åœ°masterå¾€è¿œç¨‹çš„masteråˆ†æ”¯æ¨é€ï¼‰ å¹²æ´»åœ¨devåˆ†æ”¯ï¼Œå®Œæˆååˆå¹¶åˆ°masterä¸Šå‘å¸ƒã€‚ï¼ˆå¼€å‘devåˆ†æ”¯ï¼‰ - å¤šäººåä½œçš„é¡¹ç›®ï¼Œå¯ä»¥åŸºäºdevåˆ†æ”¯ï¼Œå»ºç«‹æ¯ä¸ªäººçš„xxxDevåˆ†æ”¯ï¼Œç„¶ååˆå…¥åˆ°devåˆ†æ”¯åœ¨æµ‹è¯•ç¯å¢ƒè¿›è¡Œæµ‹è¯• bugåˆ†æ”¯ä¸´æ—¶ä¿å­˜æ²¡æœ‰æäº¤åˆ°ç‰ˆæœ¬åº“çš„æ‰‹å¤´å·¥ä½œdev,ä¿®å¤bugåˆ†æ”¯ã€‚ git stash//ä¸´æ—¶ä¿å­˜devåˆ†æ”¯çš„å·¥ä½œ git checkout -b bug//åˆ›å»ºå¹¶åˆ‡æ¢åˆ°bugåˆ†æ”¯ ä¿®æ”¹bugæ–‡ä»¶å¹¶addï¼commit git checkout master//åˆ‡æ¢åˆ°masteråˆ†æ”¯ git merge -no-ff -m&quot;fix bug&quot; bug//æŠŠbugåˆ†æ”¯åˆå¹¶åˆ°masterä¸Š git branch -d bug//ä¿®å¤å®Œbugåˆ é™¤bugåˆ†æ”¯ git checkout dev //å›åˆ°devåˆ†æ”¯ç»§ç»­å¹²æ´» git stash list//æŸ¥çœ‹stash list git stash apply //æ¢å¤stashå†…å®¹å¹¶ä¸åˆ é™¤ git stash drop//å¼ºåˆ¶åˆ é™¤ git stash pop //æ¢å¤å¹¶åˆ é™¤stashå†…å®¹ å¤šäººåä½œå½“ä»è¿œç¨‹åº“å…‹éš†çš„æ—¶å€™ï¼Œgitä¼šè‡ªåŠ¨æŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å¯¹åº”èµ·æ¥ï¼Œå¹¶ä¸”é»˜è®¤çš„è¿œç¨‹åº“æ˜¯originã€‚ git remote //äº§çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ git remote -væŸ¥çœ‹è¿œç¨‹åº“çš„è¯¦ç»†ä¿¡æ¯ git push origin master//æ¨é€æœ¬åœ°masteråˆ°è¿œç¨‹master git push origin dev//æ¨é€æœ¬åœ°çš„devåˆ°è¿œç¨‹çš„dev å¤šäººåä½œæµç¨‹ 1.å…‹éš†gitä»“åº“åˆ°æœ¬åœ° git clone git@github.com:unclepis/git_test.git 2.è¿›å…¥æœ¬åœ°åº“ cd git_test 3.åˆ›å»ºåˆ†æ”¯å¼€å‘dev git checkout -b dev origin/dev // åŸºäºè¿œç¨‹çš„devåˆ†æ”¯å»ºç«‹ä¸€ä¸ªdevï¼Œå¦‚æœä¸æŒ‡å®šï¼Œä¼šåŸºäºå½“å‰æ‰€åœ¨åˆ†æ”¯å»ºç«‹æœ¬åœ°åˆ†æ”¯ 4.ä¿®æ”¹é¡¹ç›®æ–‡ä»¶ git add file git commit -m&quot;modify file&quot; 5.åˆå¹¶devåˆ°æœ¬åœ°çš„master git checkout master// åˆ‡æ¢åˆ°master git pull origin master // æ›´æ–°æœ¬åœ°çš„master git checkout dev git merge master git push origin dev 6.åˆ é™¤devåˆ†æ”¯ git branch -d dev//åˆ é™¤devåˆ†æ”¯ 7.å¦‚æœpullçš„æ—¶å€™æ²¡æœ‰å»ºç«‹æœ¬åœ°å’Œè¿œç¨‹åº“çš„å…³ç³»ï¼Œéœ€è¦å…ˆå»ºç«‹è”ç³» git branch --set-upstream master origin/master // æ—§çš„å†™æ³• git branch --set-upstream-to=origin/master master // æ–°çš„å†™æ³• git branch -u origin/feature feature // æˆ–è€…å†™æˆè¿™æ · git branch --track feature origin/feature // æˆ–è€…å†™æˆè¿™æ · git pull origin master --allow-unrelated-histories // æç¤ºunrelated historiesçš„å¼ºåˆ¶åšæ³• //ä¾‹å­ï¼šå»ºç«‹æœ¬åœ°masterå’Œè¿œç¨‹masterçš„è”ç³» 8.æäº¤æ–‡ä»¶ç„¶åå†push git add file git comit -m&quot;fix conflict&quot; git push origin master å¿½ç•¥ç‰¹æ®Šæ–‡ä»¶æŠŠä¸æƒ³æäº¤çš„åœ¨gitç‰ˆæœ¬åº“ç›®å½•ä¸‹çš„æ–‡ä»¶éšè—åˆ°.gitingoreä¸‹ã€‚]]></content>
      <categories>
        <category>git</category>
        <category>gitç‰ˆæœ¬æ§åˆ¶å…¥é—¨åŸºç¡€</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>gitç‰ˆæœ¬æ§åˆ¶</tag>
      </tags>
  </entry>
</search>
